<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>The HTML Geolocation Element</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <link href="https://www.w3.org/StyleSheets/TR/2021/cg-draft" rel="stylesheet">
  <meta content="Bikeshed version 3c53a5b02, updated Thu Nov 27 17:03:30 2025 +0000" name="generator">
  <link href="https://wicg.github.io/PEPC/geolocation-element.html" rel="canonical">
  <meta content="735aa06f0239a1c8801e546c7ab1699edc3a86ba" name="revision">
  <meta content="dark light" name="color-scheme">
  <link href="https://www.w3.org/StyleSheets/TR/2021/dark.css" media="(prefers-color-scheme: dark)" rel="stylesheet" type="text/css">
<style>
/* Imitate some styles that W3C specs use:*/

/* WHATWG-style element definition class */
.element { background: #EEFFEE; }
dt { margin-top: 12px; color: black; }
dl, dd { padding-left: .5em; }

/* Boxes around algorithms. */
[data-algorithm]:not(.heading) {
  padding: .5em;
  border: thin solid #ddd; border-radius: .5em;
  margin: .5em calc(-0.5em - 1px);
}
[data-algorithm]:not(.heading) > :first-child { margin-top: 0; }
[data-algorithm]:not(.heading) > :last-child { margin-bottom: 0; }
[data-algorithm] [data-algorithm] { margin: 1em 0; }

/* vars in italics */
dfn var { font-style: italic; }
</style>
<style>/* Boilerplate: style-autolinks */
.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}

@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}
</style>
<style>/* Boilerplate: style-colors */
/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
</style>
<style>/* Boilerplate: style-counters */
body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example " counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}
</style>
<style>/* Boilerplate: style-dfn-panel */
:root {
    --dfnpanel-bg: #ddd;
    --dfnpanel-text: var(--text);
    --dfnpanel-target-bg: #ffc;
    --dfnpanel-target-outline: orange;
}
@media (prefers-color-scheme: dark) {
    :root {
        --dfnpanel-bg: #222;
        --dfnpanel-text: var(--text);
        --dfnpanel-target-bg: #333;
        --dfnpanel-target-outline: silver;
    }
}
.dfn-panel {
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--dfnpanel-bg);
    color: var(--dfnpanel-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: var(--dfnpanel-text); }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel a:focus {
    outline: 5px auto Highlight;
    outline: 5px auto -webkit-focus-ring-color;
}
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0 0 0 1em; list-style: none; }
.dfn-panel li a {
    max-width: calc(300px - 1.5em - 1em);
    overflow: hidden;
    text-overflow: ellipsis;
}

.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: 8px;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
    transition: left 1s ease-out, bottom 1s ease-out;
}

.dfn-panel .link-item:hover {
    text-decoration: underline;
}
.dfn-panel .link-item .copy-icon {
    opacity: 0;
}
.dfn-panel .link-item:hover .copy-icon,
.dfn-panel .link-item .copy-icon:focus {
    opacity: 1;
}

.dfn-panel .copy-icon {
    display: inline-block;
    margin-right: 0.5em;
    width: 0.85em;
    height: 1em;
    border-radius: 3px;
    background-color: #ccc;
    cursor: pointer;
}

.dfn-panel .copy-icon .icon {
    width: 100%;
    height: 100%;
    background-color: #fff;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
}

.dfn-panel .copy-icon .icon::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border: 1px solid black;
    background-color: #ccc;
    opacity: 0.25;
    transform: translate(3px, -3px);
}

.dfn-panel .copy-icon:active .icon::before {
    opacity: 1;
}

.dfn-paneled[role="button"] { cursor: help; }

.highlighted {
    animation: target-fade 3s;
}

@keyframes target-fade {
    from {
        background-color: var(--dfnpanel-target-bg);
        outline: 5px solid var(--dfnpanel-target-outline);
    }
    to {
        color: var(--a-normal-text);
        background-color: transparent;
        outline: transparent;
    }
}
</style>
<style>/* Boilerplate: style-idl-highlighting */
pre.idl.highlight {
    background: var(--borderedblock-bg, var(--def-bg));
}
</style>
<style>/* Boilerplate: style-issues */
a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* Boilerplate: style-md-lists */
/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}
</style>
<style>/* Boilerplate: style-ref-hints */
:root {
    --ref-hint-bg: #ddd;
    --ref-hint-text: var(--text);
}
@media (prefers-color-scheme: dark) {
    :root {
        --ref-hint-bg: #222;
        --ref-hint-text: var(--text);
    }
}

.ref-hint {
    display: inline-block;
    position: absolute;
    z-index: 35;
    width: 20em;
    width: 300px;
    height: auto;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.5em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: var(--ref-hint-bg);
    color: var(--ref-hint-text);
    border: outset 0.2em;
    white-space: normal; /* in case it's moved into a pre */
}

.ref-hint * { margin: 0; padding: 0; text-indent: 0; }

.ref-hint ul { padding: 0 0 0 1em; list-style: none; }
</style>
<style>/* Boilerplate: style-selflinks */
:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
.example > a.self-link,
.note > a.self-link,
.issue > a.self-link {
    /* These blocks are overflow:auto, so positioning outside
       doesn't work. */
    left: auto;
    right: 0;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* Boilerplate: style-syntax-highlighting */
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
<style>/* Boilerplate: style-var-click-highlighting */
/*
Colors were chosen in Lab using https://nixsensor.com/free-color-converter/
D50 2deg illuminant, L in [0,100], a and b in [-128, 128]
0 = lab(85,0,85)
1 = lab(85,80,30)
2 = lab(85,-40,40)
3 = lab(85,-50,0)
4 = lab(85,5,15)
5 = lab(85,-10,-50)
6 = lab(85,35,-15)

For darkmode:
0 = oklab(50%   0%  108%)
1 = oklab(50% -51%   51%)
2 = oklab(50% -64%  -20%)
3 = oklab(50%   6%   19%)
4 = oklab(50% -12%  -64%)
5 = oklab(50%  44%  -19%)  
6 = oklab(50% 102%   38%)
*/

[data-algorithm] var { cursor: pointer; }
var[data-var-color] { background-color: var(--var-bg); box-shadow: 0 0 0 2px var(--var-bg); }

var[data-var-color] { --var-bg: #F4D200; }
var[data-var-color="1"] { --var-bg: #FF87A2; }
var[data-var-color="2"] { --var-bg: #96E885; }
var[data-var-color="3"] { --var-bg: #3EEED2; }
var[data-var-color="4"] { --var-bg: #EACFB6; }
var[data-var-color="5"] { --var-bg: #82DDFF; }
var[data-var-color="6"] { --var-vg: #FFBCF2; }

@media (prefers-color-scheme: dark) {
	var[data-var-color] { --var-bg: #bc1a00; }
	var[data-var-color="1"] { --var-bg: #007f00; }
	var[data-var-color="2"] { --var-bg: #008698; }
	var[data-var-color="3"] { --var-bg: #7f5b2b; }
	var[data-var-color="4"] { --var-bg: #004df3; }
	var[data-var-color="5"] { --var-bg: #a1248a; }
	var[data-var-color="6"] { --var-vg: #ff0000; }
}
</style>
 <body class="h-entry">
  <div class="head">
   <h1 class="no-ref p-name" id="title">The HTML Geolocation Element</h1>
   <p id="w3c-state"><a href="https://www.w3.org/standards/types/#CG-DRAFT">Draft Community Group Report</a>,
    <time class="dt-updated" datetime="2026-01-13">13 January 2026</time></p>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://wicg.github.io/PEPC/geolocation-element.html">https://wicg.github.io/PEPC/geolocation-element.html</a>
     <dt>Issue Tracking:
     <dd><a href="https://github.com/WICG/PEPC/issues/">GitHub</a>
     <dd><a href="#issues-index">Inline In Spec</a>
     <dt class="editor">Editor:
     <dd class="editor h-card p-author vcard"><a class="fn p-name u-url url" href="https://www.google.com/">Daniel Vogelheim</a> (<span class="org p-org">Google LLC</span>) <a class="email u-email" href="mailto:vogelheim@google.com">vogelheim@google.com</a>
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="https://www.w3.org/policies/#copyright">Copyright</a> © 2026 the Contributors to the The HTML Geolocation Element Specification, published by the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a> under the <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a>.
A human-readable <a href="http://www.w3.org/community/about/agreements/cla-deed/">summary</a> is available.
</p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="heading no-num no-ref no-toc settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>An HTML element to let a user trigger access to geolocation.</p>
   <p>This specifies a new HTML element, <code>&lt;geolocation></code>, that provides
users with a way to grant apage access to geolocation and the associated
capabilities from within the page.</p>
   <p>Suitable styling and UI constraints on this new element ensure that the user
understands what a click on it means, and thus gives the browser a high level
of confidence of user intent to make a permission decision.
The geolocation elements aim to be more accessible, more secure, and more
user friendly than the current, script-triggered permission flows.</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <h2 class="heading no-num no-ref no-toc settled" id="status"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p>
  This specification was published by the <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a>.
  It is not a W3C Standard nor is it on the W3C Standards Track.

  Please note that under the
  <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a>
  there is a limited opt-out and other conditions apply.

  Learn more about
  <a href="http://www.w3.org/community/">W3C Community and Business Groups</a>.
</p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-ref no-toc" id="contents">Table of Contents</h2>
   <ol class="toc">
    <li><a href="#intro"><span class="secno">1</span> <span class="content">Introduction and Background</span></a>
    <li>
     <a href="#geolocation-element"><span class="secno">2</span> <span class="content">The <span><code>geolocation</code></span> Element</span></a>
     <ol class="toc">
      <li>
       <a href="#geolocation-element-internal-state"><span class="secno">2.1</span> <span class="content"><code><span>geolocation</span></code> element internal state</span></a>
       <ol class="toc">
        <li><a href="#mixin-navigable-state"><span class="secno">2.1.1</span> <span class="content">Mixin-supporting state at the <span>navigable</span></span></a>
       </ol>
      <li><a href="#geolocation-algorithms"><span class="secno">2.2</span> <span class="content"><code><span>geolocation</span></code> element algorithms</span></a>
      <li><a href="#geolocation-rendering"><span class="secno">2.3</span> <span class="content"><code><span>geolocation</span></code> element rendering</span></a>
     </ol>
    <li>
     <a href="#all-the-mixins"><span class="secno">3</span> <span class="content">Mixins and Infrastructure</span></a>
     <ol class="toc">
      <li>
       <a href="#mixin-blockers"><span class="secno">3.1</span> <span class="content">Activation Blockers</span></a>
       <ol class="toc">
        <li><a href="#mixin-blocker-internal-state"><span class="secno">3.1.1</span> <span class="content">Internal state</span></a>
        <li><a href="#mixin-blockers-reason"><span class="secno">3.1.2</span> <span class="content">Action Blockers, Blocker Reasons, and Blocker Lifetimes</span></a>
        <li><a href="#mixin-blockers-algoreithms"><span class="secno">3.1.3</span> <span class="content">Algorithms</span></a>
       </ol>
      <li>
       <a href="#mixin-permissions"><span class="secno">3.2</span> <span class="content">Powerful Features, aka Permissions</span></a>
       <ol class="toc">
        <li><a href="#mixin-permissions-internal-state"><span class="secno">3.2.1</span> <span class="content">Internal state</span></a>
        <li><a href="#mixin-permissions-algorithms"><span class="secno">3.2.2</span> <span class="content">Algorithms</span></a>
        <li><a href="#mixin-permissions-presentation"><span class="secno">3.2.3</span> <span class="content">Presentation</span></a>
       </ol>
      <li><a href="#fallback"><span class="secno">3.3</span> <span class="content">Falling Back</span></a>
      <li>
       <a href="#rendering"><span class="secno">3.4</span> <span class="content">Styling, and Styling Restrictions</span></a>
       <ol class="toc">
        <li><a href="#style-blockers"><span class="secno">3.4.1</span> <span class="content">Conditions that Deactivate the Element</span></a>
        <li><a href="#style-stylesheet"><span class="secno">3.4.2</span> <span class="content">User-Agent Defined Stylesheet</span></a>
        <li><a href="#style-style-bounds"><span class="secno">3.4.3</span> <span class="content">Additional User-Agent Defined Style Bounds</span></a>
       </ol>
     </ol>
    <li><a href="#secpriv"><span class="secno">4</span> <span class="content">Security &amp; Privacy Considerations</span></a>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
    <li><a href="#issues-index"><span class="secno"></span> <span class="content">Issues Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction and Background</span><a class="self-link" href="#intro"></a></h2>
   <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent">User agents</a> expose <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-powerful-feature" id="ref-for-dfn-powerful-feature">powerful features</a> to web sites, like geolocation
or camera access. These features are important to some use cases, but can be
easily abused.To handle this, user agents use <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-permission" id="ref-for-dfn-permission">permissions</a> to ask the user
whether they wish for a particular access to be allowed or not.</p>
   <p>These permission requests began as a fairly direct passthrough: A site would
ask for some capability and the user agent immediately prompts the user to make
a decision for the request. Meanwhile, spam and abuse have forced user agents
to take a more opinionated approach to protect users' security, privacy, and
attention. The status quo is that users get a multitude of permission requests,
where it’s oftentimes unclear to users what the consequences of these requests
might be.</p>
   <p>This spec introduces a new mechanism that requests and initiates access to
<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/geolocation/#dom-geolocation" id="ref-for-dom-geolocation">Geolocation</a></code> capabilities through in-page elements, with built-in protections
against abuse. Giving access to the location through in in-page lement wants
to tie capability activation to the actual context in which it will be used
, thus reducing "permission spam" and at the same time providing implementations
with a better signal of user intent.</p>
   <p>The later chapters of this specification are careful to build up the required
spec infrastructure to that it can be re-used on other, similarly spirited
elements providing access to other <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-powerful-feature" id="ref-for-dfn-powerful-feature①">powerful features</a> and their associated
capabilities.</p>
   <h2 class="heading settled" data-level="2" id="geolocation-element"><span class="secno">2. </span><span class="content">The <dfn class="dfn-paneled" data-dfn-type="element" data-export id="elementdef-geolocation"><code>geolocation</code></dfn> Element</span><a class="self-link" href="#geolocation-element"></a></h2>
   <p>The HTML <code><a data-link-type="element" href="#elementdef-geolocation" id="ref-for-elementdef-geolocation">geolocation</a></code> element can moderate access to the
<a class="idl-code" data-link-type="permission" href="https://w3c.github.io/geolocation/#dfn-geolocation" id="ref-for-dfn-geolocation">"geolocation"</a> permission and the associated <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/geolocation/#dom-geolocation" id="ref-for-dom-geolocation①">Geolocation</a></code>
capabilities.</p>
   <dl class="element">
    <dt><a data-link-type="dfn" href="https://w3c.github.io/manifest-app-info/#dfn-categories" id="ref-for-dfn-categories">Categories</a>:
    <dd><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#flow-content-2" id="ref-for-flow-content-2">Flow content</a>.
    <dd><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#phrasing-content-2" id="ref-for-phrasing-content-2">Phrasing content</a>.
    <dd><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#interactive-content-2" id="ref-for-interactive-content-2">Interactive content</a>.
    <dd><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#palpable-content-2" id="ref-for-palpable-content-2">Palpable content</a>.
    <dt><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#concept-element-contexts" id="ref-for-concept-element-contexts">Contexts in which this element can be used</a>:
    <dd>Where <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#phrasing-content-2" id="ref-for-phrasing-content-2①">phrasing content</a> is expected.
    <dt><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#concept-element-content-model" id="ref-for-concept-element-content-model">Content model</a>:
    <dd><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#flow-content-2" id="ref-for-flow-content-2①">Flow content</a>.
    <dt><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#concept-element-attributes" id="ref-for-concept-element-attributes">Content attributes</a>:
    <dd><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#global-attributes" id="ref-for-global-attributes">Global attributes</a>.
    <dd><a data-link-type="dfn" href="#activationblockersmixin-activationblockersmixin-attributes" id="ref-for-activationblockersmixin-activationblockersmixin-attributes">ActivationBlockersMixin attributes</a>.
    <dd><a data-link-type="dfn" href="#permissionsmixin-permissionsmixin-attributes" id="ref-for-permissionsmixin-permissionsmixin-attributes">PermissionsMixin attributes</a>.
    <dd><code><a data-link-type="element-sub" href="#element-attrdef-geolocation-autolocate" id="ref-for-element-attrdef-geolocation-autolocate">autolocate</a></code> — Whether to locate right away (if permission has already been granted).
    <dd><code><a data-link-type="element-sub" href="#element-attrdef-geolocation-watch" id="ref-for-element-attrdef-geolocation-watch">watch</a></code> — Wether to read the position once, or watch it continously.
    <dt><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#concept-element-accessibility-considerations" id="ref-for-concept-element-accessibility-considerations">Accessibility considerations</a>:
    <dd>See issues below.
    <dt><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#concept-element-dom" id="ref-for-concept-element-dom">DOM interface</a>:
    <dd><code class="idl"><a data-link-type="idl" href="#htmlgeolocationelement" id="ref-for-htmlgeolocationelement">HTMLGeolocationElement</a></code>
   </dl>
   <p class="issue" id="issue-8e79e1dc"><a class="self-link" href="#issue-8e79e1dc"></a> <a data-link-type="biblio" href="#biblio-wai-aria" title="Accessible Rich Internet Applications (WAI-ARIA) 1.0">[WAI-ARIA]</a> specifies <a data-link-type="dfn" href="https://w3c.github.io/aria/#dfn-role" id="ref-for-dfn-role">roles</a> for in-page content.
    It is yet  unclear whether or how the <code><a data-link-type="element" href="#elementdef-geolocation" id="ref-for-elementdef-geolocation①">geolocation</a></code> element fits into
    the existing set of roles.
    Given that this element triggers <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-permission" id="ref-for-dfn-permission①">permission</a> requests, one could argue
    that whatever accessibility concerns apply there should cover this element
    as well. On the other hand, more specialized treatment may lead to better
    support for users.</p>
   <p class="issue" id="issue-4e74a649"><a class="self-link" href="#issue-4e74a649"></a> In <a href="#rendering">§ 3.4 Styling, and Styling Restrictions</a>, this specification defines elaborate restrictions on
    how <code><a data-link-type="element" href="#elementdef-geolocation" id="ref-for-elementdef-geolocation②">geolocation</a></code> elements can be rendered. It’s unclear whether there
    need to be similarly spirited restrictions on which ARIA attributes can
    be applied.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-isvalid" id="ref-for-dom-activationblockersmixin-isvalid">isValid</a></code> and
<code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-invalidreason" id="ref-for-dom-activationblockersmixin-invalidreason">invalidReason</a></code>, as well as the global
<a class="idl-code" data-link-type="attribute" href="https://html.spec.whatwg.org/multipage/dom.html#dom-lang" id="ref-for-dom-lang">lang</a> and
<code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/interaction.html#attr-tabindex" id="ref-for-attr-tabindex">tabindex</a></code> content attributes, and the
<code class="idl"><a data-link-type="idl" href="#dom-permissionsmixin-onpromptaction" id="ref-for-dom-permissionsmixin-onpromptaction">onpromptaction</a></code>,
<code class="idl"><a data-link-type="idl" href="#dom-permissionsmixin-onpromptdismiss" id="ref-for-dom-permissionsmixin-onpromptdismiss">onpromptdismiss</a></code>, and
<code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-onvalidationstatuschange" id="ref-for-dom-activationblockersmixin-onvalidationstatuschange">onvalidationstatuschange</a></code> event handlers follow the
description in <a href="#all-the-mixins">§ 3 Mixins and Infrastructure</a>.</p>
   <p>The <dfn class="dfn-paneled" data-dfn-for="geolocation" data-dfn-type="element-attr" data-export id="element-attrdef-geolocation-autolocate"><code>autolocate</code></dfn> attribute determines
whether the <code><a data-link-type="element" href="#elementdef-geolocation" id="ref-for-elementdef-geolocation③">geolocation</a></code> element should start locating immediately (if
permission has already been granted).</p>
   <p>The <dfn class="dfn-paneled" data-dfn-for="geolocation" data-dfn-type="element-attr" data-export id="element-attrdef-geolocation-watch"><code>watch</code></dfn> attribute determine whether
the <code><a data-link-type="element" href="#elementdef-geolocation" id="ref-for-elementdef-geolocation④">geolocation</a></code> element report the location once or continously.</p>
<pre class="def highlight idl">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="htmlgeolocationelement"><code><c- g>HTMLGeolocationElement</c-></code></dfn> : <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/dom.html#htmlelement" id="ref-for-htmlelement"><c- n>HTMLElement</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/dom.html#htmlconstructor" id="ref-for-htmlconstructor"><c- g>HTMLConstructor</c-></a>] <a class="idl-code" data-link-type="constructor" href="#dom-htmlgeolocationelement-constructor" id="ref-for-dom-htmlgeolocationelement-constructor"><c- g>constructor</c-></a>();

  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://w3c.github.io/geolocation/#dom-geolocationposition" id="ref-for-dom-geolocationposition"><c- n>GeolocationPosition</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="HTMLGeolocationElement" data-dfn-type="attribute" data-export data-readonly data-type="GeolocationPosition?" id="dom-htmlgeolocationelement-position"><code><c- g>position</c-></code></dfn>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://w3c.github.io/geolocation/#dom-geolocationpositionerror" id="ref-for-dom-geolocationpositionerror"><c- n>GeolocationPositionError</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="HTMLGeolocationElement" data-dfn-type="attribute" data-export data-readonly data-type="GeolocationPositionError?" id="dom-htmlgeolocationelement-error"><code><c- g>error</c-></code></dfn>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="ref-for-cereactions"><c- g>CEReactions</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#xattr-reflect" id="ref-for-xattr-reflect"><c- g>Reflect</c-></a>] <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="HTMLGeolocationElement" data-dfn-type="attribute" data-export data-type="boolean" id="dom-htmlgeolocationelement-autolocate"><code><c- g>autolocate</c-></code></dfn>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions" id="ref-for-cereactions①"><c- g>CEReactions</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#xattr-reflect" id="ref-for-xattr-reflect①"><c- g>Reflect</c-></a>] <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="HTMLGeolocationElement" data-dfn-type="attribute" data-export data-type="boolean" id="dom-htmlgeolocationelement-watch"><code><c- g>watch</c-></code></dfn>;

  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="HTMLGeolocationElement" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-htmlgeolocationelement-onlocation"><code><c- g>onlocation</c-></code></dfn>;
};
<a data-link-type="idl-name" href="#htmlgeolocationelement" id="ref-for-htmlgeolocationelement①"><c- n>HTMLGeolocationElement</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#activationblockersmixin" id="ref-for-activationblockersmixin"><c- n>ActivationBlockersMixin</c-></a>;
<a data-link-type="idl-name" href="#htmlgeolocationelement" id="ref-for-htmlgeolocationelement②"><c- n>HTMLGeolocationElement</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#permissionsmixin" id="ref-for-permissionsmixin"><c- n>PermissionsMixin</c-></a>;
</pre>
   <p>If the user has decided to allow access to geolocation information, the
readonly attributes <code class="idl"><a data-link-type="idl" href="#dom-htmlgeolocationelement-position" id="ref-for-dom-htmlgeolocationelement-position">position</a></code> and
<code class="idl"><a data-link-type="idl" href="#dom-htmlgeolocationelement-error" id="ref-for-dom-htmlgeolocationelement-error">error</a></code> reflect the current
<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/geolocation/#dom-geolocationposition" id="ref-for-dom-geolocationposition①">GeolocationPosition</a></code> and <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/geolocation/#dom-geolocationpositionerror" id="ref-for-dom-geolocationpositionerror①">GeolocationPositionError</a></code> values, just like
the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/geolocation/#dom-positioncallback" id="ref-for-dom-positioncallback">PositionCallback</a></code> and
<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/geolocation/#dom-positionerrorcallback" id="ref-for-dom-positionerrorcallback">PositionErrorCallback</a></code> callbacks (respectively) would have returned</p>
   <p>If the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean">boolean</a> attribute <code class="idl"><a data-link-type="idl" href="#dom-htmlgeolocationelement-autolocate" id="ref-for-dom-htmlgeolocationelement-autolocate">autolocate</a></code> is true,
and if the <a class="idl-code" data-link-type="permission" href="https://w3c.github.io/geolocation/#dfn-geolocation" id="ref-for-dfn-geolocation①">"geolocation"</a> permission has already been granted by
the user, then the location should be retrieved immediately when the
<code><a data-link-type="element" href="#elementdef-geolocation" id="ref-for-elementdef-geolocation⑤">geolocation</a></code> element is attached to the document. If the permission has
not already been granted at insertion time, then this attribute has no effect.</p>
   <p>If the <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean①">boolean</a> attribute <code class="idl"><a data-link-type="idl" href="#dom-htmlgeolocationelement-watch" id="ref-for-dom-htmlgeolocationelement-watch">watch</a></code>
is set to true, the <code class="idl"><a data-link-type="idl" href="#dom-htmlgeolocationelement-onlocation" id="ref-for-dom-htmlgeolocationelement-onlocation">onlocation</a></code> event is called
every time the position changes, matching the behaviour of <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/geolocation/#dom-geolocation-watchposition" id="ref-for-dom-geolocation-watchposition">watchPosition</a></code>.</p>
   <p>When a location is available, an <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event">Event</a></code> is <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-dispatch" id="ref-for-concept-event-dispatch">dispatched</a> on the
<code class="idl"><a data-link-type="idl" href="#dom-htmlgeolocationelement-onlocation" id="ref-for-dom-htmlgeolocationelement-onlocation①">onlocation</a></code> event handler.
When the event is
dispatched, the location, or information about a failure to retrieve the
location, are available in the <code class="idl"><a data-link-type="idl" href="#dom-htmlgeolocationelement-position" id="ref-for-dom-htmlgeolocationelement-position①">position</a></code> or the
<code class="idl"><a data-link-type="idl" href="#dom-htmlgeolocationelement-error" id="ref-for-dom-htmlgeolocationelement-error①">error</a></code> attributes. Depending on the
<code class="idl"><a data-link-type="idl" href="#dom-htmlgeolocationelement-watch" id="ref-for-dom-htmlgeolocationelement-watch①">watch</a></code> element this happens once (if absent or false),
or continously (if true).</p>
   <p><code class="idl"><a data-link-type="idl" href="#htmlgeolocationelement" id="ref-for-htmlgeolocationelement③">HTMLGeolocationElement</a></code> wants to mirror the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/geolocation/#dom-geolocation" id="ref-for-dom-geolocation②">Geolocation</a></code> interface.
There is a direct correspondance:</p>
   <table class="def">
    <tbody>
     <tr>
      <th>position
      <td>Result of <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/geolocation/#dom-positioncallback" id="ref-for-dom-positioncallback①">PositionCallback</a></code>.
     <tr>
      <th>error
      <td>Result of <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/geolocation/#dom-positionerrorcallback" id="ref-for-dom-positionerrorcallback①">PositionErrorCallback</a></code>.
     <tr>
      <th>watch
      <td>Use <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/geolocation/#dom-geolocation-watchposition" id="ref-for-dom-geolocation-watchposition①">watchPosition()</a></code>.
     <tr>
      <th>¬ watch
      <td>Use <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/geolocation/#dom-geolocation-getcurrentposition" id="ref-for-dom-geolocation-getcurrentposition">getCurrentPosition()</a></code>.
   </table>
   <p>The global <a class="idl-code" data-link-type="attribute" href="https://html.spec.whatwg.org/multipage/dom.html#dom-lang" id="ref-for-dom-lang①">lang</a> attribute is
observed by the element to select localized text.</p>
   <p>The <a href="https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#default-value">default value</a>
for the global <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/interaction.html#attr-tabindex" id="ref-for-attr-tabindex①">tabindex</a></code> content attribute on the
element is 0.</p>
   <h3 class="heading settled" data-level="2.1" id="geolocation-element-internal-state"><span class="secno">2.1. </span><span class="content"><code><a data-link-type="element" href="#elementdef-geolocation" id="ref-for-elementdef-geolocation⑥">geolocation</a></code> element internal state</span><a class="self-link" href="#geolocation-element-internal-state"></a></h3>
   <p>The <code><a data-link-type="element" href="#elementdef-geolocation" id="ref-for-elementdef-geolocation⑦">geolocation</a></code> element uses all the internal slots from <code class="idl"><a data-link-type="idl" href="#activationblockersmixin" id="ref-for-activationblockersmixin①">ActivationBlockersMixin</a></code> and <code class="idl"><a data-link-type="idl" href="#permissionsmixin" id="ref-for-permissionsmixin①">PermissionsMixin</a></code>. Additionally,
<code><a data-link-type="element" href="#elementdef-geolocation" id="ref-for-elementdef-geolocation⑧">geolocation</a></code> has the following internal slots:</p>
   <ul>
    <li data-md>
     <p>A constant <dfn class="dfn-paneled idl-code" data-dfn-for="HTMLGeolocationElement" data-dfn-type="attribute" data-export id="dom-htmlgeolocationelement-watchids-slot"><code>[[watchIDs]]</code></dfn>,
which is used with the <a data-link-type="dfn" href="https://w3c.github.io/geolocation/#dfn-request-a-position" id="ref-for-dfn-request-a-position">request a position</a> algorithm.</p>
    <li data-md>
     <p><dfn class="dfn-paneled idl-code" data-dfn-for="HTMLGeolocationElement" data-dfn-type="attribute" data-export id="dom-htmlgeolocationelement-position-slot"><code>[[position]]</code></dfn>,
which contains the most recent <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/geolocation/#dom-geolocationposition" id="ref-for-dom-geolocationposition②">GeolocationPosition</a></code>.</p>
    <li data-md>
     <p><dfn class="dfn-paneled idl-code" data-dfn-for="HTMLGeolocationElement" data-dfn-type="attribute" data-export id="dom-htmlgeolocationelement-positionerror-slot"><code>[[positionError]]</code></dfn>,
which contains the most recent <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/geolocation/#dom-geolocationpositionerror" id="ref-for-dom-geolocationpositionerror②">GeolocationPositionError</a></code>.</p>
   </ul>
   <h4 class="heading settled" data-level="2.1.1" id="mixin-navigable-state"><span class="secno">2.1.1. </span><span class="content">Mixin-supporting state at the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable">navigable</a></span><a class="self-link" href="#mixin-navigable-state"></a></h4>
   <p>In order to support the <code class="idl"><a data-link-type="idl" href="#htmlgeolocationelement" id="ref-for-htmlgeolocationelement④">HTMLGeolocationElement</a></code>, the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#navigable" id="ref-for-navigable①">navigable</a> maintains
an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set">ordered set</a> of elements, <dfn class="dfn-paneled idl-code" data-dfn-for="navigable" data-dfn-type="attribute" data-export id="dom-navigable-permissionelements-slot"><code>[[PermissionElements]]</code></dfn>. This <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set①">ordered set</a> is used to evaluate the <a data-link-type="dfn" href="#activationblockersmixin-blocker" id="ref-for-activationblockersmixin-blocker">blockers</a> of type <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixinblockerreason-unsuccesful_registration" id="ref-for-dom-activationblockersmixinblockerreason-unsuccesful_registration">unsuccesful_registration</a></code>.</p>
   <h3 class="heading settled" data-level="2.2" id="geolocation-algorithms"><span class="secno">2.2. </span><span class="content"><code><a data-link-type="element" href="#elementdef-geolocation" id="ref-for-elementdef-geolocation⑨">geolocation</a></code> element algorithms</span><a class="self-link" href="#geolocation-algorithms"></a></h3>
   <div class="algorithm" data-algorithm="constructor()" data-algorithm-for="HTMLGeolocationElement">
    
The <code class="idl"><a data-link-type="idl" href="#htmlgeolocationelement" id="ref-for-htmlgeolocationelement⑤">HTMLGeolocationElement</a></code> <dfn class="dfn-paneled idl-code" data-dfn-for="HTMLGeolocationElement" data-dfn-type="constructor" data-export data-lt="HTMLGeolocationElement()|constructor()" id="dom-htmlgeolocationelement-constructor"><code>constructor()</code></dfn> steps are:


    <ol>
     <li data-md>
      <p>Initialize the internal <code class="idl"><a data-link-type="idl" href="#dom-permissionsmixin-features-slot" id="ref-for-dom-permissionsmixin-features-slot">[[Features]]</a></code> to
« <a class="idl-code" data-link-type="permission" href="https://w3c.github.io/geolocation/#dfn-geolocation" id="ref-for-dfn-geolocation②">"geolocation"</a> ».</p>
     <li data-md>
      <p>Initialize the internal <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-blockerlist-slot" id="ref-for-dom-activationblockersmixin-blockerlist-slot">[[BlockerList]]</a></code> to «».</p>
     <li data-md>
      <p>Initialize the internal <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-lastnotifiedvalidstate-slot" id="ref-for-dom-activationblockersmixin-lastnotifiedvalidstate-slot">[[LastNotifiedValidState]]</a></code> with false.</p>
     <li data-md>
      <p>Initialize the internal <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-lastnotifiedinvalidreason-slot" id="ref-for-dom-activationblockersmixin-lastnotifiedinvalidreason-slot">[[LastNotifiedInvalidReason]]</a></code> with the empty
string.</p>
     <li data-md>
      <p>Initialize the internal <code class="idl"><a data-link-type="idl" href="#dom-htmlgeolocationelement-watchids-slot" id="ref-for-dom-htmlgeolocationelement-watchids-slot">[[watchIDs]]</a></code> to « <var>watchID</var> », where
<var>watchID</var> is an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#implementation-defined" id="ref-for-implementation-defined">implementation-defined</a> <code class="idl"><a data-link-type="idl" href="https://webidl.spec.whatwg.org/#idl-unsigned-long" id="ref-for-idl-unsigned-long">unsigned long</a></code> that is
greater than zero.</p>
     <li data-md>
      <p>Initialize the internal <code class="idl"><a data-link-type="idl" href="#dom-htmlgeolocationelement-position-slot" id="ref-for-dom-htmlgeolocationelement-position-slot">[[position]]</a></code> to null.</p>
     <li data-md>
      <p>Initialize the internal <code class="idl"><a data-link-type="idl" href="#dom-htmlgeolocationelement-positionerror-slot" id="ref-for-dom-htmlgeolocationelement-positionerror-slot">[[positionError]]</a></code> to null.</p>
     <li data-md>
      <p>Run <code class="idl"><a data-link-type="idl" href="#permissionsmixin" id="ref-for-permissionsmixin②">PermissionsMixin</a></code>’s <a data-link-type="dfn" href="#permissionsmixin-initialization-steps" id="ref-for-permissionsmixin-initialization-steps">initialization steps</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="insertion steps" data-algorithm-for="HTMLGeolocationElement">
    
The <code class="idl"><a data-link-type="idl" href="#htmlgeolocationelement" id="ref-for-htmlgeolocationelement⑥">HTMLGeolocationElement</a></code>’s <dfn class="dfn-paneled" data-dfn-for="HTMLGeolocationElement" data-dfn-type="dfn" data-export id="htmlgeolocationelement-insertion-steps">insertion steps</dfn> are:


    <ol>
     <li data-md>
      <p>Initialize the internal <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-blockerlist-slot" id="ref-for-dom-activationblockersmixin-blockerlist-slot①">[[BlockerList]]</a></code> to «».</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-append" id="ref-for-set-append">Append</a> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this">this</a> to <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable">node navigable</a>’s <code class="idl"><a data-link-type="idl" href="#dom-navigable-permissionelements-slot" id="ref-for-dom-navigable-permissionelements-slot">[[PermissionElements]]</a></code>.</p>
     <li data-md>
      <p>Initialize the internal <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-intersectionrect-slot" id="ref-for-dom-activationblockersmixin-intersectionrect-slot">[[IntersectionRect]]</a></code> with undefined.</p>
     <li data-md>
      <p>Initialize the internal <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-intersectionobserver-slot" id="ref-for-dom-activationblockersmixin-intersectionobserver-slot">[[IntersectionObserver]]</a></code> with the result of
constructing a new <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/IntersectionObserver/#intersectionobserver" id="ref-for-intersectionobserver">IntersectionObserver</a></code> with
<a data-link-type="dfn" href="#activationblockersmixin-intersectionobserver-callback" id="ref-for-activationblockersmixin-intersectionobserver-callback">IntersectionObserver callback</a> and
«[ "<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/IntersectionObserver/#dom-intersectionobserverinit-rootmargin" id="ref-for-dom-intersectionobserverinit-rootmargin">rootMargin</a></code>" → <code>"-4px"</code> ]».</p>
     <li data-md>
      <p>Call <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-intersectionobserver-slot" id="ref-for-dom-activationblockersmixin-intersectionobserver-slot①">[[IntersectionObserver]]</a></code>.observe(<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①">this</a>).</p>
     <li data-md>
      <p>Run <code class="idl"><a data-link-type="idl" href="#permissionsmixin" id="ref-for-permissionsmixin③">PermissionsMixin</a></code>’s <a data-link-type="dfn" href="#permissionsmixin-insertion-steps" id="ref-for-permissionsmixin-insertion-steps">insertion steps</a>.</p>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this②">this</a> is not <a data-link-type="dfn" href="#htmlgeolocationelement-type-permissible" id="ref-for-htmlgeolocationelement-type-permissible">type permissible</a>, then <a data-link-type="dfn" href="#activationblockersmixin-add-a-temporary-blocker" id="ref-for-activationblockersmixin-add-a-temporary-blocker">add a temporary blocker</a>
with <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixinblockerreason-unsuccesful_registration" id="ref-for-dom-activationblockersmixinblockerreason-unsuccesful_registration①">unsuccesful_registration</a></code>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#activationblockersmixin-add-an-expiring-blocker" id="ref-for-activationblockersmixin-add-an-expiring-blocker">Add an expiring blocker</a> with reason
<code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixinblockerreason-recently_attached" id="ref-for-dom-activationblockersmixinblockerreason-recently_attached">recently_attached</a></code>.</p>
     <li data-md>
      <p>If the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#nav-traversable" id="ref-for-nav-traversable">traversable navigable</a> of the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable①">node navigable</a> of
<a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this③">this</a>
is a <a data-link-type="dfn" href="https://wicg.github.io/fenced-frame/#fenced-navigable-container-fenced-navigable" id="ref-for-fenced-navigable-container-fenced-navigable">fenced navigable</a>, then <a data-link-type="dfn" href="#activationblockersmixin-add-a-permanent-blocker" id="ref-for-activationblockersmixin-add-a-permanent-blocker">add a permanent blocker</a>
with <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixinblockerreason-illegal_subframe" id="ref-for-dom-activationblockersmixinblockerreason-illegal_subframe">illegal_subframe</a></code>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#activationblockersmixin-maybe-dispatch-onvalidstatechange" id="ref-for-activationblockersmixin-maybe-dispatch-onvalidstatechange">Maybe dispatch onvalidstatechange</a> on <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this④">this</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#htmlgeolocationelement-maybe-autolocate" id="ref-for-htmlgeolocationelement-maybe-autolocate">Maybe autolocate</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="HTMLGeolocationElement/removing steps">
    
The <code class="idl"><a data-link-type="idl" href="#htmlgeolocationelement" id="ref-for-htmlgeolocationelement⑦">HTMLGeolocationElement</a></code> <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node-remove-ext" id="ref-for-concept-node-remove-ext">removing steps</a> are:


    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove">Remove</a> <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑤">this</a> from <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable②">node navigable</a>’s <code class="idl"><a data-link-type="idl" href="#dom-navigable-permissionelements-slot" id="ref-for-dom-navigable-permissionelements-slot①">[[PermissionElements]]</a></code>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#htmlgeolocationelement-recheck-type-permissibility" id="ref-for-htmlgeolocationelement-recheck-type-permissibility">Recheck type permissibility</a> for <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑥">this</a>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable③">node navigable</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#activationblockersmixin-maybe-dispatch-onvalidstatechange" id="ref-for-activationblockersmixin-maybe-dispatch-onvalidstatechange①">Maybe dispatch onvalidstatechange</a> on <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑦">this</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="HTMLGeolocationElement/activation">
    
The <code class="idl"><a data-link-type="idl" href="#htmlgeolocationelement" id="ref-for-htmlgeolocationelement⑧">HTMLGeolocationElement</a></code> <var>element</var>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#eventtarget-activation-behavior" id="ref-for-eventtarget-activation-behavior">activation behavior</a> given <var>event</var> is:


    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert">Assert</a>: <var>element</var>’s <code class="idl"><a data-link-type="idl" href="#dom-permissionsmixin-features-slot" id="ref-for-dom-permissionsmixin-features-slot①">[[Features]]</a></code> is not null.</p>
     <li data-md>
      <p>If <var>element</var>’s <code class="idl"><a data-link-type="idl" href="#dom-permissionsmixin-features-slot" id="ref-for-dom-permissionsmixin-features-slot②">[[Features]]</a></code> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty">is empty</a>, then return.</p>
     <li data-md>
      <p>If <var>event</var>.<code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-istrusted" id="ref-for-dom-event-istrusted">isTrusted</a></code> is false, then return.</p>
     <li data-md>
      <p>If <var>element</var>.<code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-isvalid" id="ref-for-dom-activationblockersmixin-isvalid①">isValid</a></code> is false, then return.</p>
     <li data-md>
      <p>Let <var>descriptor</var> be the result of <a data-link-type="dfn" href="#permissionsmixin-build-a-permission-descriptor" id="ref-for-permissionsmixin-build-a-permission-descriptor">build a permission descriptor</a> for
<var>element</var>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-request-permission-to-use" id="ref-for-dfn-request-permission-to-use">Request permission to use</a> the <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-powerful-feature" id="ref-for-dfn-powerful-feature②">powerful features</a> described by
<var>descriptor</var>.</p>
     <li data-md>
      <p>If the previous step was cancelled or dismissed by the user, then
<a data-link-type="dfn" href="#permissionsmixin-dispatch-onpromptdismiss" id="ref-for-permissionsmixin-dispatch-onpromptdismiss">dispatch onpromptdismiss</a> on <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑧">this</a> and return.</p>
      <p class="issue" id="issue-5dfff302"><a class="self-link" href="#issue-5dfff302"></a> The <a data-link-type="biblio" href="#biblio-permissions" title="Permissions">[Permissions]</a> spec assumes that <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-request-permission-to-use" id="ref-for-dfn-request-permission-to-use①">request permission to use</a>
will always succeed. That is, it assumes that the user will always make a
choice and that the algorithm will always deliver a <code>grant</code>/<code>deny</code>
answer corresponding to that choice. But you can’t force a user to do that.
Some <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent①">user agents</a> may have different UI affordances for an explicit
denial (e.g. a "deny" button) on one hand, and cancelling or dismissing the
request dialog (e.g. an "X" button in the top right corner). Here, we
distinguish between these two actions, despite no clear hook for this
in the underlying specification.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#permissionsmixin-dispatch-onpromptaction" id="ref-for-permissionsmixin-dispatch-onpromptaction">Dispatch onpromptaction</a> on <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this⑨">this</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#htmlgeolocationelement-fetch-location" id="ref-for-htmlgeolocationelement-fetch-location">Fetch location</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="HTMLGeolocationElement/position">
The <code class="idl"><a data-link-type="idl" href="#dom-htmlgeolocationelement-position" id="ref-for-dom-htmlgeolocationelement-position②">position</a></code> getter steps are to return the value
of <code class="idl"><a data-link-type="idl" href="#dom-htmlgeolocationelement-position-slot" id="ref-for-dom-htmlgeolocationelement-position-slot①">[[position]]</a></code>.
</div>
   <div class="algorithm" data-algorithm="HTMLGeolocationElement/error">
The <code class="idl"><a data-link-type="idl" href="#dom-htmlgeolocationelement-error" id="ref-for-dom-htmlgeolocationelement-error②">error</a></code> getter steps are to return the value of
<code class="idl"><a data-link-type="idl" href="#dom-htmlgeolocationelement-positionerror-slot" id="ref-for-dom-htmlgeolocationelement-positionerror-slot①">[[positionError]]</a></code>.
</div>
   <div class="algorithm" data-algorithm="maybe autolocate" data-algorithm-for="HTMLGeolocationElement">
    
To <dfn class="dfn-paneled" data-dfn-for="HTMLGeolocationElement" data-dfn-type="dfn" data-noexport id="htmlgeolocationelement-maybe-autolocate">maybe autolocate</dfn>:


    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="#permissionsmixin-get-the-current-permission-state" id="ref-for-permissionsmixin-get-the-current-permission-state">get the current permission state</a> is not
<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-granted" id="ref-for-dom-permissionstate-granted">granted</a></code>, then return.</p>
     <li data-md>
      <p>If <code class="idl"><a data-link-type="idl" href="#dom-htmlgeolocationelement-autolocate" id="ref-for-dom-htmlgeolocationelement-autolocate①">autolocate</a></code> is not true, then return.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#htmlgeolocationelement-fetch-location" id="ref-for-htmlgeolocationelement-fetch-location①">Fetch location</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="fetch location" data-algorithm-for="HTMLGeolocationElement">
    
To <dfn class="dfn-paneled" data-dfn-for="HTMLGeolocationElement" data-dfn-type="dfn" data-noexport id="htmlgeolocationelement-fetch-location">fetch location</dfn>:


    <ol>
     <li data-md>
      <p>Let <var>positionCallback</var> be a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/geolocation/#dom-positioncallback" id="ref-for-dom-positioncallback②">PositionCallback</a></code> that performs the following steps:</p>
      <ol>
       <li data-md>
        <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⓪">this</a>’s <code class="idl"><a data-link-type="idl" href="#dom-htmlgeolocationelement-positionerror-slot" id="ref-for-dom-htmlgeolocationelement-positionerror-slot②">[[positionError]]</a></code> to undefined.</p>
       <li data-md>
        <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①①">this</a>’s <code class="idl"><a data-link-type="idl" href="#dom-htmlgeolocationelement-position-slot" id="ref-for-dom-htmlgeolocationelement-position-slot②">[[position]]</a></code> to <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/geolocation/#dom-positioncallback" id="ref-for-dom-positioncallback③">PositionCallback</a></code>’s position
argument.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="#dispatch-onlocation" id="ref-for-dispatch-onlocation">Dispatch onlocation</a> to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①②">this</a>.</p>
      </ol>
     <li data-md>
      <p>Let <var>errorCallback</var> be a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/geolocation/#dom-positionerrorcallback" id="ref-for-dom-positionerrorcallback②">PositionErrorCallback</a></code> that performs the following steps:</p>
      <ol>
       <li data-md>
        <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①③">this</a>’s <code class="idl"><a data-link-type="idl" href="#dom-htmlgeolocationelement-position-slot" id="ref-for-dom-htmlgeolocationelement-position-slot③">[[position]]</a></code> to undefined.</p>
       <li data-md>
        <p>Set <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①④">this</a>’s <code class="idl"><a data-link-type="idl" href="#dom-htmlgeolocationelement-positionerror-slot" id="ref-for-dom-htmlgeolocationelement-positionerror-slot③">[[positionError]]</a></code> to <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/geolocation/#dom-positioncallback" id="ref-for-dom-positioncallback④">PositionCallback</a></code>’s
positionError argument.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="#dispatch-onlocation" id="ref-for-dispatch-onlocation①">Dispatch onlocation</a> to <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑤">this</a>.</p>
      </ol>
     <li data-md>
      <p>Let <var>positionOptions</var> be «[]»</p>
     <li data-md>
      <p>Let <var>geolocation</var> be the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global" id="ref-for-concept-relevant-global">relevant global object</a>’s <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/geolocation/#dom-geolocation" id="ref-for-dom-geolocation③">Geolocation</a></code>.</p>
     <li data-md>
      <p>If <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑥">this</a>’s <code class="idl"><a data-link-type="idl" href="#dom-htmlgeolocationelement-watch" id="ref-for-dom-htmlgeolocationelement-watch②">watch</a></code> is true:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://w3c.github.io/geolocation/#dfn-request-a-position" id="ref-for-dfn-request-a-position①">Request a position</a> with <var>geolocation</var>, <var>positionCallback</var>,
<var>errorCallback</var>, <var>positionOptions</var>, and <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑦">this</a>’s <code class="idl"><a data-link-type="idl" href="#dom-htmlgeolocationelement-watchids-slot" id="ref-for-dom-htmlgeolocationelement-watchids-slot①">[[watchIDs]]</a></code>.</p>
      </ol>
     <li data-md>
      <p>Otherwise:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="https://w3c.github.io/geolocation/#dfn-request-a-position" id="ref-for-dfn-request-a-position②">Request a position</a> with <var>geolocation</var>, <var>positionCallback</var>,
<var>errorCallback</var>, <var>positionOptions</var>.</p>
      </ol>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="type permissible" data-algorithm-for="HTMLGeolocationElement">
    
To determine whether an <var>element</var> is <dfn class="dfn-paneled" data-dfn-for="HTMLGeolocationElement" data-dfn-type="dfn" data-noexport id="htmlgeolocationelement-type-permissible">type permissible</dfn>:


    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①">Assert</a>: <var>element</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable④">node navigable</a>’s <code class="idl"><a data-link-type="idl" href="#dom-navigable-permissionelements-slot" id="ref-for-dom-navigable-permissionelements-slot②">[[PermissionElements]]</a></code>
<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain">contains</a> <var>element</var>.</p>
     <li data-md>
      <p>Let <var>count</var> be 0.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate">For each</a> <var>current</var> in
<var>element</var>’s <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable" id="ref-for-node-navigable⑤">node navigable</a>’s <code class="idl"><a data-link-type="idl" href="#dom-navigable-permissionelements-slot" id="ref-for-dom-navigable-permissionelements-slot③">[[PermissionElements]]</a></code>:</p>
      <ol>
       <li data-md>
        <p>If <var>current</var> is <var>element</var>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#iteration-break" id="ref-for-iteration-break">break</a>.</p>
       <li data-md>
        <p>If <var>element</var>.<code class="idl"><a data-link-type="idl" href="#dom-permissionsmixin-features-slot" id="ref-for-dom-permissionsmixin-features-slot③">[[Features]]</a></code> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#set-equal" id="ref-for-set-equal">equals</a> <var>current</var>.<code class="idl"><a data-link-type="idl" href="#dom-permissionsmixin-features-slot" id="ref-for-dom-permissionsmixin-features-slot④">[[Features]]</a></code></p>
        <p>then increment <var>count</var> by 1.</p>
      </ol>
     <li data-md>
      <p>Return whether <var>count</var> is less than 3.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="recheck type permissibility" data-algorithm-for="HTMLGeolocationElement">
    
To <dfn class="dfn-paneled" data-dfn-for="HTMLGeolocationElement" data-dfn-type="dfn" data-noexport id="htmlgeolocationelement-recheck-type-permissibility">recheck type permissibility</dfn> for a
<var>document</var>:


    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate①">For each</a> <var>current</var> in <var>document</var>’s
<code class="idl"><a data-link-type="idl" href="#dom-navigable-permissionelements-slot" id="ref-for-dom-navigable-permissionelements-slot④">[[PermissionElements]]</a></code>:</p>
      <ol>
       <li data-md>
        <p>If <var>current</var> is <a data-link-type="dfn" href="#htmlgeolocationelement-type-permissible" id="ref-for-htmlgeolocationelement-type-permissible①">type permissible</a>, then <a data-link-type="dfn" href="#activationblockersmixin-remove-blockers" id="ref-for-activationblockersmixin-remove-blockers">remove blockers</a> with
<code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixinblockerreason-unsuccesful_registration" id="ref-for-dom-activationblockersmixinblockerreason-unsuccesful_registration②">unsuccesful_registration</a></code> from
<var>current</var>.</p>
      </ol>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="dispatch onlocation">
    
To <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="dispatch-onlocation">dispatch onlocation</dfn> for <var>element</var>:

    <ol>
     <li data-md>
      <p>Let <var>event</var> be a new <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event①">Event</a></code>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-initialize" id="ref-for-concept-event-initialize">Initialize</a> <var>event</var> with <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-type" id="ref-for-dom-event-type">type</a></code>
"<code class="idl"><a data-link-type="idl" href="#dom-htmlgeolocationelement-onlocation" id="ref-for-dom-htmlgeolocationelement-onlocation②">onlocation</a></code>".</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-dispatch" id="ref-for-concept-event-dispatch①">Dispatch</a> <var>event</var> to <var>element</var>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="2.3" id="geolocation-rendering"><span class="secno">2.3. </span><span class="content"><code><a data-link-type="element" href="#elementdef-geolocation" id="ref-for-elementdef-geolocation①⓪">geolocation</a></code> element rendering</span><a class="self-link" href="#geolocation-rendering"></a></h3>
   <p>The <code><a data-link-type="element" href="#elementdef-geolocation" id="ref-for-elementdef-geolocation①①">geolocation</a></code> element is a <a data-link-type="dfn" href="https://drafts.csswg.org/css-ui-4/#non-devolvable" id="ref-for-non-devolvable">non-devolvable widget</a> and is chiefly
rendered like a <code><a data-link-type="element" href="https://html.spec.whatwg.org/multipage/form-elements.html#the-button-element" id="ref-for-the-button-element">button</a></code>. The button label is largely expected to be
determined by the browser, rather than the page, and reflects its function of given
access to <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/geolocation/#dom-geolocation" id="ref-for-dom-geolocation④">Geolocation</a></code> functionality. The element may also convey information about
the current permission state of the  <a class="idl-code" data-link-type="permission" href="https://w3c.github.io/geolocation/#dfn-geolocation" id="ref-for-dfn-geolocation③">"geolocation"</a> <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-powerful-feature" id="ref-for-dfn-powerful-feature③">powerful feature</a>.</p>
   <p>The page can influence the permission elements' styling, but with
constraints to prevent abuse (e.g. minimum and maximum sizes for fonts and
the label itself). These are described in <a href="#rendering">§ 3.4 Styling, and Styling Restrictions</a>.
The page can also select a locale for the text via the <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/dom.html#attr-lang" id="ref-for-attr-lang">lang</a></code> attribute.</p>
   <p>The permission elements support <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#fallback-content" id="ref-for-fallback-content">fallback content</a>, which will be
displayed by any browser not yet supporting that element. Note that
there are also conditions under which a browser that supports
a respective permission element falls back to its <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#fallback-content" id="ref-for-fallback-content①">fallback content</a>.</p>
   <h2 class="heading settled" data-level="3" id="all-the-mixins"><span class="secno">3. </span><span class="content">Mixins and Infrastructure</span><a class="self-link" href="#all-the-mixins"></a></h2>
   <p>This section defines several mixins and supporting algorithms.</p>
   <h3 class="heading settled" data-level="3.1" id="mixin-blockers"><span class="secno">3.1. </span><span class="content">Activation Blockers</span><a class="self-link" href="#mixin-blockers"></a></h3>
   <p>To support a meaningful user intent signal and to conditionally block element
activation, you can use the <code class="idl"><a data-link-type="idl" href="#activationblockersmixin" id="ref-for-activationblockersmixin②">ActivationBlockersMixin</a></code></p>
   <dl class="element">
    <dt><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#concept-element-attributes" id="ref-for-concept-element-attributes①">Content attributes</a>:
    <dd><code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-isvalid" id="ref-for-dom-activationblockersmixin-isvalid②">isValid</a></code> — query whether the element can currently be activated.
    <dd><code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-invalidreason" id="ref-for-dom-activationblockersmixin-invalidreason①">invalidReason</a></code> — return a string representation of why the element currently cannot be activated.
    <dd><code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-onvalidationstatuschange" id="ref-for-dom-activationblockersmixin-onvalidationstatuschange①">onvalidationstatuschange</a></code> — notifies when the validation status changes.
    <dt><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#concept-element-dom" id="ref-for-concept-element-dom①">DOM interface</a>:
    <dd>
<pre class="def highlight idl"><c- b>interface</c-> <c- b>mixin</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="activationblockersmixin"><code><c- g>ActivationBlockersMixin</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean" id="ref-for-idl-boolean②"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-activationblockersmixin-isvalid" id="ref-for-dom-activationblockersmixin-isvalid③"><c- g>isValid</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-activationblockersmixinblockerreason" id="ref-for-enumdef-activationblockersmixinblockerreason"><c- n>ActivationBlockersMixinBlockerReason</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ActivationBlockersMixinBlockerReason" href="#dom-activationblockersmixin-invalidreason" id="ref-for-dom-activationblockersmixin-invalidreason②"><c- g>invalidReason</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler①"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="ActivationBlockersMixin" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-activationblockersmixin-onvalidationstatuschange"><code><c- g>onvalidationstatuschange</c-></code></dfn>;
};
</pre>
   </dl>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-isvalid" id="ref-for-dom-activationblockersmixin-isvalid④">isValid</a></code> attribute reflects whether the
element is currently blocked.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-invalidreason" id="ref-for-dom-activationblockersmixin-invalidreason③">invalidReason</a></code> attribute is an
<a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#enumerated-attribute" id="ref-for-enumerated-attribute">enumerated attribute</a> that informs the caller of the reason why activation
is currently blocked. If there are multiple reasons, it picks one.
Its value set is <code class="idl"><a data-link-type="idl" href="#enumdef-activationblockersmixinblockerreason" id="ref-for-enumdef-activationblockersmixinblockerreason①">ActivationBlockersMixinBlockerReason</a></code>.</p>
   <p>The following are the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers">event handler</a> (and their corresponding <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type">event handler event type</a>) that
must be supported on elements that include the <code class="idl"><a data-link-type="idl" href="#activationblockersmixin" id="ref-for-activationblockersmixin③">ActivationBlockersMixin</a></code>:</p>
   <table class="def">
    <tbody>
     <tr>
      <th>onvalidationstatuschange
      <td>Event
   </table>
   <p>The <dfn class="dfn-paneled" data-dfn-for="ActivationBlockersMixin" data-dfn-type="dfn" data-noexport id="activationblockersmixin-activationblockersmixin-attributes">ActivationBlockersMixin attributes</dfn>
are:</p>
   <ul>
    <li data-md>
     <p><code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-isvalid" id="ref-for-dom-activationblockersmixin-isvalid⑤">isValid</a></code></p>
    <li data-md>
     <p><code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-invalidreason" id="ref-for-dom-activationblockersmixin-invalidreason④">invalidReason</a></code></p>
    <li data-md>
     <p><code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-onvalidationstatuschange" id="ref-for-dom-activationblockersmixin-onvalidationstatuschange②">onvalidationstatuschange</a></code></p>
   </ul>
   <h4 class="heading settled" data-level="3.1.1" id="mixin-blocker-internal-state"><span class="secno">3.1.1. </span><span class="content">Internal state</span><a class="self-link" href="#mixin-blocker-internal-state"></a></h4>
   <p><code class="idl"><a data-link-type="idl" href="#activationblockersmixin" id="ref-for-activationblockersmixin④">ActivationBlockersMixin</a></code> elements have the following internal slots:</p>
   <ul>
    <li data-md>
     <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="ActivationBlockersMixin" data-dfn-type="attribute" data-export id="dom-activationblockersmixin-blockerlist-slot"><code>[[BlockerList]]</code></dfn> is a
list of records, containing a
<dfn class="dfn-paneled" data-dfn-for="ActivationBlockersMixin" data-dfn-type="dfn" data-noexport id="activationblockersmixin-blocker-timestamp">blocker timestamp</dfn> and a
<dfn class="dfn-paneled" data-dfn-for="ActivationBlockersMixin" data-dfn-type="dfn" data-noexport id="activationblockersmixin-blocker-reason">blocker reason</dfn>. The <a data-link-type="dfn" href="#activationblockersmixin-blocker-reason" id="ref-for-activationblockersmixin-blocker-reason">blocker reason</a> is a <code class="idl"><a data-link-type="idl" href="#enumdef-activationblockersmixinblockerreason" id="ref-for-enumdef-activationblockersmixinblockerreason②">ActivationBlockersMixinBlockerReason</a></code>, but not the empty string.</p>
    <li data-md>
     <p><dfn class="dfn-paneled idl-code" data-dfn-for="ActivationBlockersMixin" data-dfn-type="attribute" data-export id="dom-activationblockersmixin-lastnotifiedvalidstate-slot"><code>[[LastNotifiedValidState]]</code></dfn>
is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#boolean" id="ref-for-boolean②">boolean</a> that stores the most recently notified state of
<code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-isvalid" id="ref-for-dom-activationblockersmixin-isvalid⑥">isValid</a></code>.</p>
    <li data-md>
     <p><dfn class="dfn-paneled idl-code" data-dfn-for="ActivationBlockersMixin" data-dfn-type="attribute" data-export id="dom-activationblockersmixin-lastnotifiedinvalidreason-slot"><code>[[LastNotifiedInvalidReason]]</code></dfn>
is a <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string" id="ref-for-string">string</a> that stores the most recently notified state of
<code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-invalidreason" id="ref-for-dom-activationblockersmixin-invalidreason⑤">invalidReason</a></code>.
<code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-lastnotifiedvalidstate-slot" id="ref-for-dom-activationblockersmixin-lastnotifiedvalidstate-slot①">[[LastNotifiedValidState]]</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-lastnotifiedinvalidreason-slot" id="ref-for-dom-activationblockersmixin-lastnotifiedinvalidreason-slot①">[[LastNotifiedInvalidReason]]</a></code> are
used to determine whether an
<code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-onvalidationstatuschange" id="ref-for-dom-activationblockersmixin-onvalidationstatuschange③">onvalidationstatuschange</a></code> event needs to be
dispatches.</p>
    <li data-md>
     <p><dfn class="dfn-paneled idl-code" data-dfn-for="ActivationBlockersMixin" data-dfn-type="attribute" data-export id="dom-activationblockersmixin-intersectionobserver-slot"><code>[[IntersectionObserver]]</code></dfn>
is a reference to an <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/IntersectionObserver/#intersectionobserver" id="ref-for-intersectionobserver①">IntersectionObserver</a></code>.</p>
    <li data-md>
     <p><dfn class="dfn-paneled idl-code" data-dfn-for="ActivationBlockersMixin" data-dfn-type="attribute" data-export id="dom-activationblockersmixin-intersectionrect-slot"><code>[[IntersectionRect]]</code></dfn> is a
<code class="idl"><a data-link-type="idl" href="https://drafts.csswg.org/geometry-1/#domrectreadonly" id="ref-for-domrectreadonly">DOMRectReadOnly</a></code> that stores the most recently seen intersection, i.e.
the position of the element relative to the <a data-link-type="dfn" href="https://drafts.csswg.org/css2/#viewport%E2%91%A0" id="ref-for-viewport%E2%91%A0">viewport</a>.</p>
   </ul>
   <h4 class="heading settled" data-level="3.1.2" id="mixin-blockers-reason"><span class="secno">3.1.2. </span><span class="content">Action Blockers, Blocker Reasons, and Blocker Lifetimes</span><a class="self-link" href="#mixin-blockers-reason"></a></h4>
   <p>The key goal of the elements in this specification is to reflect a user’s
conscious choice, and we need to make sure the user cannot easily be tricked
into activating it. To do so, we maintain a list of blocker reasons, which may -
permanently or temporarily - prevent the element from being activated.</p>
   <p>Conceptually, a blocker reason is just an arbitrary string identifier. We
provide an enumeration of its value set. It’s expected that not all users
of the <code class="idl"><a data-link-type="idl" href="#activationblockersmixin" id="ref-for-activationblockersmixin⑤">ActivationBlockersMixin</a></code> will support all reasons.</p>
<pre class="def highlight idl"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-activationblockersmixinblockerreason"><code><c- g>ActivationBlockersMixinBlockerReason</c-></code></dfn> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="ActivationBlockersMixinBlockerReason" data-dfn-type="enum-value" data-export id="dom-activationblockersmixinblockerreason"><code><c- s>""</c-></code></dfn>,   // No blocker reason.
  <dfn class="dfn-paneled idl-code" data-dfn-for="ActivationBlockersMixinBlockerReason" data-dfn-type="enum-value" data-export id="dom-activationblockersmixinblockerreason-illegal_subframe"><code><c- s>"illegal_subframe"</c-></code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="ActivationBlockersMixinBlockerReason" data-dfn-type="enum-value" data-export id="dom-activationblockersmixinblockerreason-unsuccesful_registration"><code><c- s>"unsuccesful_registration"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="ActivationBlockersMixinBlockerReason" data-dfn-type="enum-value" data-export id="dom-activationblockersmixinblockerreason-recently_attached"><code><c- s>"recently_attached"</c-></code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="ActivationBlockersMixinBlockerReason" data-dfn-type="enum-value" data-export id="dom-activationblockersmixinblockerreason-intersection_changed"><code><c- s>"intersection_changed"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="ActivationBlockersMixinBlockerReason" data-dfn-type="enum-value" data-export id="dom-activationblockersmixinblockerreason-intersection_out_of_viewport_or_clipped"><code><c- s>"intersection_out_of_viewport_or_clipped"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="ActivationBlockersMixinBlockerReason" data-dfn-type="enum-value" data-export id="dom-activationblockersmixinblockerreason-intersection_occluded_or_distorted"><code><c- s>"intersection_occluded_or_distorted"</c-></code></dfn>, <dfn class="dfn-paneled idl-code" data-dfn-for="ActivationBlockersMixinBlockerReason" data-dfn-type="enum-value" data-export id="dom-activationblockersmixinblockerreason-style_invalid"><code><c- s>"style_invalid"</c-></code></dfn>,
  <dfn class="dfn-paneled idl-code" data-dfn-for="ActivationBlockersMixinBlockerReason" data-dfn-type="enum-value" data-export id="dom-activationblockersmixinblockerreason-type_invalid"><code><c- s>"type_invalid"</c-></code></dfn>,
};
</pre>
   <p>These blockers come with three lifetimes: Permanent, temporary, and expiring.</p>
   <dl>
    <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="permanent-blocker">Permanent blocker</dfn>
    <dd data-md>
     <p>Once an element has a permanent blocker, it will be disabled permanently.
There are used for issues that the website owner is expected to fix.
An example is an element inside a <code><a data-link-type="element" href="https://wicg.github.io/fenced-frame/#elementdef-fencedframe" id="ref-for-elementdef-fencedframe">fencedframe</a></code>.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="temporary-blocker">Temporary blocker</dfn>
    <dd data-md>
     <p>This is a blocker that will only be valid until the blocking condition no
no longer occurs. An example is an element that is not
currently in view. All <a data-link-type="dfn" href="#temporary-blocker" id="ref-for-temporary-blocker">temporary blockers</a> turn into
<a data-link-type="dfn" href="#expiring-blocker" id="ref-for-expiring-blocker">expiring blockers</a> once the condition no longer applies.</p>
    <dt data-md><dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="expiring-blocker">Expiring blocker</dfn>
    <dd data-md>
     <p>This is a blocker that is only valid for a fixed period of time. This is
used to block abuse scenarios like "click jacking". An example is
an element that has recently been moved.</p>
   </dl>
   <div>
    
<dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="blocker reason table" data-noexport id="blocker-reason-table"></dfn>

    <table class="def">
     <thead>
      <tr>
       <th>Blocker name

       <th>Blocker type

       <th>Example condition

       <th>Order hint

     <tbody>
      <tr>
       <th><code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixinblockerreason-type_invalid" id="ref-for-dom-activationblockersmixinblockerreason-type_invalid">type_invalid</a></code>

       <td><a data-link-type="dfn" href="#permanent-blocker" id="ref-for-permanent-blocker">permanent</a>

       <td>When an unsupported permission type has been
    set.

       <td>1

      <tr>
       <th><code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixinblockerreason-illegal_subframe" id="ref-for-dom-activationblockersmixinblockerreason-illegal_subframe①">illegal_subframe</a></code>

       <td><a data-link-type="dfn" href="#permanent-blocker" id="ref-for-permanent-blocker①">permanent</a>

       <td>When the element is used inside a <code><a data-link-type="element" href="https://wicg.github.io/fenced-frame/#elementdef-fencedframe" id="ref-for-elementdef-fencedframe①">fencedframe</a></code>.

       <td>2

      <tr>
       <th><code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixinblockerreason-unsuccesful_registration" id="ref-for-dom-activationblockersmixinblockerreason-unsuccesful_registration③">unsuccesful_registration</a></code>

       <td><a data-link-type="dfn" href="#temporary-blocker" id="ref-for-temporary-blocker①">temporary</a>

       <td>When too many other elements for the same
    <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-powerful-feature" id="ref-for-dfn-powerful-feature④">powerful feature</a> have been inserted into the same document.

       <td>3

      <tr>
       <th><code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixinblockerreason-recently_attached" id="ref-for-dom-activationblockersmixinblockerreason-recently_attached①">recently_attached</a></code>

       <td><a data-link-type="dfn" href="#expiring-blocker" id="ref-for-expiring-blocker①">expiring</a>

       <td>When the element has just been attached to the
  DOM.

       <td>4

      <tr>
       <th><code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixinblockerreason-intersection_changed" id="ref-for-dom-activationblockersmixinblockerreason-intersection_changed">intersection_changed</a></code>

       <td><a data-link-type="dfn" href="#expiring-blocker" id="ref-for-expiring-blocker②">expiring</a>

       <td>When the element is being moved.

       <td>6

      <tr>
       <th><code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixinblockerreason-intersection_out_of_viewport_or_clipped" id="ref-for-dom-activationblockersmixinblockerreason-intersection_out_of_viewport_or_clipped">intersection_out_of_viewport_or_clipped</a></code>

       <td><a data-link-type="dfn" href="#temporary-blocker" id="ref-for-temporary-blocker②">temporary</a>

       <td>When the element is not or not fully in the <a data-link-type="dfn" href="https://drafts.csswg.org/css2/#viewport%E2%91%A0" id="ref-for-viewport%E2%91%A0①">viewport</a>.

       <td>7

      <tr>
       <th><code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixinblockerreason-intersection_occluded_or_distorted" id="ref-for-dom-activationblockersmixinblockerreason-intersection_occluded_or_distorted">intersection_occluded_or_distorted</a></code>

       <td><a data-link-type="dfn" href="#temporary-blocker" id="ref-for-temporary-blocker③">temporary</a>

       <td>When the element is fully in the <a data-link-type="dfn" href="https://drafts.csswg.org/css2/#viewport%E2%91%A0" id="ref-for-viewport%E2%91%A0②">viewport</a>,
    but still not fully visible (e.g. because it’s partly behind other content).

       <td>8

      <tr>
       <th><code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixinblockerreason-style_invalid" id="ref-for-dom-activationblockersmixinblockerreason-style_invalid">style_invalid</a></code>

       <td><a data-link-type="dfn" href="#temporary-blocker" id="ref-for-temporary-blocker④">temporary</a>

       <td>
       <td>9

    </table>
   </div>
   <h4 class="heading settled" data-level="3.1.3" id="mixin-blockers-algoreithms"><span class="secno">3.1.3. </span><span class="content">Algorithms</span><a class="self-link" href="#mixin-blockers-algoreithms"></a></h4>
   <div class="algorithm" data-algorithm="add a blocker" data-algorithm-for="ActivationBlockersMixin">
    
To <dfn class="dfn-paneled" data-dfn-for="ActivationBlockersMixin" data-dfn-type="dfn" data-noexport id="activationblockersmixin-add-a-blocker">add a blocker</dfn> with a
<code class="idl"><a data-link-type="idl" href="#enumdef-activationblockersmixinblockerreason" id="ref-for-enumdef-activationblockersmixinblockerreason③">ActivationBlockersMixinBlockerReason</a></code> <var>reason</var> and an optional flag <var>expires</var>:


    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert②">Assert</a>: <var>reason</var> is not <code>""</code>.
(The empty string in <code class="idl"><a data-link-type="idl" href="#enumdef-activationblockersmixinblockerreason" id="ref-for-enumdef-activationblockersmixinblockerreason④">ActivationBlockersMixinBlockerReason</a></code> signals no blocker
is present. Why would you add a non-blocking empty string blocker?)</p>
     <li data-md>
      <p>Let <var>timestamp</var> be None.</p>
     <li data-md>
      <p>If <var>expires</var>, then let <var>timestamp</var> be <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-high-resolution-time" id="ref-for-dfn-current-high-resolution-time">current high resolution time</a>
plus the <a data-link-type="dfn" href="#activationblockersmixin-blocker-delay" id="ref-for-activationblockersmixin-blocker-delay">blocker delay</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-append" id="ref-for-list-append">Append</a> an entry to the internal <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-blockerlist-slot" id="ref-for-dom-activationblockersmixin-blockerlist-slot②">[[BlockerList]]</a></code>
with <var>reason</var> and <var>timestamp</var>.</p>
    </ol>
   </div>
   <div>
The <dfn class="dfn-paneled" data-dfn-for="ActivationBlockersMixin" data-dfn-type="dfn" data-noexport id="activationblockersmixin-blocker-delay">blocker delay</dfn> is 500ms.
</div>
   <div class="algorithm" data-algorithm="add an expiring blocker" data-algorithm-for="ActivationBlockersMixin">
    
To <dfn class="dfn-paneled" data-dfn-for="ActivationBlockersMixin" data-dfn-type="dfn" data-noexport id="activationblockersmixin-add-an-expiring-blocker">add an expiring blocker</dfn> with a
<code class="idl"><a data-link-type="idl" href="#enumdef-activationblockersmixinblockerreason" id="ref-for-enumdef-activationblockersmixinblockerreason⑤">ActivationBlockersMixinBlockerReason</a></code> <var>reason</var>:


    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert③">Assert</a>: <var>reason</var> is listed as "expiring" in the <a data-link-type="dfn" href="#blocker-reason-table" id="ref-for-blocker-reason-table">blocker reason table</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#activationblockersmixin-add-a-blocker" id="ref-for-activationblockersmixin-add-a-blocker">Add a blocker</a> with <var>reason</var> and true.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="add a temporary blocker" data-algorithm-for="ActivationBlockersMixin">
    
To <dfn class="dfn-paneled" data-dfn-for="ActivationBlockersMixin" data-dfn-type="dfn" data-noexport id="activationblockersmixin-add-a-temporary-blocker">add a temporary blocker</dfn> with a
<code class="idl"><a data-link-type="idl" href="#enumdef-activationblockersmixinblockerreason" id="ref-for-enumdef-activationblockersmixinblockerreason⑥">ActivationBlockersMixinBlockerReason</a></code> <var>reason</var>:


    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert④">Assert</a>: <var>reason</var> is listed as "temporary" in the <a data-link-type="dfn" href="#blocker-reason-table" id="ref-for-blocker-reason-table①">blocker reason table</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#activationblockersmixin-add-a-blocker" id="ref-for-activationblockersmixin-add-a-blocker①">Add a blocker</a> with <var>reason</var> and false.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="add a permanent blocker" data-algorithm-for="ActivationBlockersMixin">
    
To <dfn class="dfn-paneled" data-dfn-for="ActivationBlockersMixin" data-dfn-type="dfn" data-noexport id="activationblockersmixin-add-a-permanent-blocker">add a permanent blocker</dfn> with a
<code class="idl"><a data-link-type="idl" href="#enumdef-activationblockersmixinblockerreason" id="ref-for-enumdef-activationblockersmixinblockerreason⑦">ActivationBlockersMixinBlockerReason</a></code> <var>reason</var>:


    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑤">Assert</a>: <var>reason</var> is listed as "permanent" in the <a data-link-type="dfn" href="#blocker-reason-table" id="ref-for-blocker-reason-table②">blocker reason table</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#activationblockersmixin-add-a-blocker" id="ref-for-activationblockersmixin-add-a-blocker②">Add a blocker</a> with <var>reason</var> and false.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="remove blockers" data-algorithm-for="ActivationBlockersMixin">
    
To <dfn class="dfn-paneled" data-dfn-for="ActivationBlockersMixin" data-dfn-type="dfn" data-noexport id="activationblockersmixin-remove-blockers">remove blockers</dfn> with
<code class="idl"><a data-link-type="idl" href="#enumdef-activationblockersmixinblockerreason" id="ref-for-enumdef-activationblockersmixinblockerreason⑧">ActivationBlockersMixinBlockerReason</a></code> <var>reason</var> from an <var>element</var>:


    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑥">Assert</a>: <var>reason</var> is listed as "temporary" in the
<a data-link-type="dfn" href="#blocker-reason-table" id="ref-for-blocker-reason-table③">blocker reason table</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate②">For each</a> <var>entry</var> in <var>element</var>’s <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-blockerlist-slot" id="ref-for-dom-activationblockersmixin-blockerlist-slot③">[[BlockerList]]</a></code>:</p>
      <ol>
       <li data-md>
        <p>If <var>entry</var>’s reason <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#string-is" id="ref-for-string-is">equals</a> <var>reason</var>, then <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-remove" id="ref-for-list-remove①">remove</a>
<var>entry</var> from <var>element</var>’s <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-blockerlist-slot" id="ref-for-dom-activationblockersmixin-blockerlist-slot④">[[BlockerList]]</a></code>.</p>
      </ol>
     <li data-md>
      <p><a data-link-type="dfn" href="#activationblockersmixin-add-a-blocker" id="ref-for-activationblockersmixin-add-a-blocker③">Add a blocker</a> with <var>reason</var> and true.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="blocker" data-algorithm-for="ActivationBlockersMixin">
    
To determine a <code class="idl"><a data-link-type="idl" href="#activationblockersmixin" id="ref-for-activationblockersmixin⑥">ActivationBlockersMixin</a></code> <var>element</var>’s
<dfn class="dfn-paneled" data-dfn-for="ActivationBlockersMixin" data-dfn-type="dfn" data-noexport id="activationblockersmixin-blocker">blocker</dfn>:


    <ol>
     <li data-md>
      <p>Let <var>blockers</var> be the result of <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-sort-in-ascending-order" id="ref-for-list-sort-in-ascending-order">sorting</a> <var>element</var>’s <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-blockerlist-slot" id="ref-for-dom-activationblockersmixin-blockerlist-slot⑤">[[BlockerList]]</a></code>
with the <a data-link-type="dfn" href="#activationblockersmixin-blocker-ordering" id="ref-for-activationblockersmixin-blocker-ordering">blocker ordering</a> algorithm.</p>
     <li data-md>
      <p>If <var>blockers</var> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-empty" id="ref-for-list-empty">empty</a> and <var>blockers</var>[0] is <a data-link-type="dfn" href="#activationblockersmixin-blocking" id="ref-for-activationblockersmixin-blocking">blocking</a>, then return <var>blockers</var>[0].</p>
     <li data-md>
      <p>Return nothing.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="blocker ordering" data-algorithm-for="ActivationBlockersMixin">
    
To determine <dfn class="dfn-paneled" data-dfn-for="ActivationBlockersMixin" data-dfn-type="dfn" data-noexport id="activationblockersmixin-blocker-ordering">blocker ordering</dfn> for
two blockers <var>a</var> and <var>b</var>:


    <ol>
     <li data-md>
      <p>Let <var>really large number</var> be 99.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑦">Assert</a>: No order hint in the <a data-link-type="dfn" href="#blocker-reason-table" id="ref-for-blocker-reason-table④">blocker reason table</a> is equal to or
greater than <var>really large number</var>.</p>
     <li data-md>
      <p>If <var>a</var> is <a data-link-type="dfn" href="#activationblockersmixin-blocking" id="ref-for-activationblockersmixin-blocking①">blocking</a>, then let <var>a hint</var> be the
order hint of <var>a</var>’s <a data-link-type="dfn" href="#activationblockersmixin-blocker-reason" id="ref-for-activationblockersmixin-blocker-reason①">reason</a> in the
<a data-link-type="dfn" href="#blocker-reason-table" id="ref-for-blocker-reason-table⑤">blocker reason table</a>, otherwise let <var>a hint</var> be <var>really large number</var>.</p>
     <li data-md>
      <p>If <var>b</var> is <a data-link-type="dfn" href="#activationblockersmixin-blocking" id="ref-for-activationblockersmixin-blocking②">blocking</a>, then let <var>b hint</var> be the
order hint of <var>b</var>’s <a data-link-type="dfn" href="#activationblockersmixin-blocker-reason" id="ref-for-activationblockersmixin-blocker-reason②">reason</a> in the
<a data-link-type="dfn" href="#blocker-reason-table" id="ref-for-blocker-reason-table⑥">blocker reason table</a>, otherwise let <var>b hint</var> be <var>really large number</var>.</p>
     <li data-md>
      <p>Return whether <var>a hint</var> is less than or equal to <var>b hint</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="blocking" data-algorithm-for="ActivationBlockersMixin">
    
An <code class="idl"><a data-link-type="idl" href="#activationblockersmixin" id="ref-for-activationblockersmixin⑦">ActivationBlockersMixin</a></code>’s <a data-link-type="dfn" href="#activationblockersmixin-blocker" id="ref-for-activationblockersmixin-blocker①">blocker</a> list’s <var>entry</var> is
<dfn class="dfn-paneled" data-dfn-for="ActivationBlockersMixin" data-dfn-type="dfn" data-noexport id="activationblockersmixin-blocking">blocking</dfn> if:


    <ol>
     <li data-md>
      <p><var>entry</var> has no <a data-link-type="dfn" href="#activationblockersmixin-blocker-timestamp" id="ref-for-activationblockersmixin-blocker-timestamp">blocker timestamp</a>,</p>
     <li data-md>
      <p>or <var>entry</var> has a <a data-link-type="dfn" href="#activationblockersmixin-blocker-timestamp" id="ref-for-activationblockersmixin-blocker-timestamp①">blocker timestamp</a>, and the <a data-link-type="dfn" href="#activationblockersmixin-blocker-timestamp" id="ref-for-activationblockersmixin-blocker-timestamp②">blocker timestamp</a> is
greater or equal to the <a data-link-type="dfn" href="https://w3c.github.io/hr-time/#dfn-current-high-resolution-time" id="ref-for-dfn-current-high-resolution-time①">current high resolution time</a>.</p>
    </ol>
   </div>
   <p class="note" role="note"><span class="marker">NOTE:</span> The spec maintains blockers as a list <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-blockerlist-slot" id="ref-for-dom-activationblockersmixin-blockerlist-slot⑥">[[BlockerList]]</a></code>, which may
    potentially grow indefinitely (since some blocker types simply expire,
    but are not removed).
    This structure is chosen for the simplicity of explanation, rather than for
    efficiency. The details of this blocker structure are not observable except
    for a handful of algorithms defined here, which should open plenty of
    opportunities for implementations to handle this more efficiently.</p>
   <div class="algorithm" data-algorithm="isValid" data-algorithm-for="ActivationBlockersMixin">
    
An <code class="idl"><a data-link-type="idl" href="#activationblockersmixin" id="ref-for-activationblockersmixin⑧">ActivationBlockersMixin</a></code> <var>element</var>’s <dfn class="dfn-paneled idl-code" data-dfn-for="ActivationBlockersMixin" data-dfn-type="attribute" data-export id="dom-activationblockersmixin-isvalid"><code>isValid</code></dfn> getter steps are:


    <ol>
     <li data-md>
      <p>Return whether <var>element</var>’s <a data-link-type="dfn" href="#activationblockersmixin-blocker" id="ref-for-activationblockersmixin-blocker②">blocker</a> is Nothing.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="invalidReason" data-algorithm-for="ActivationBlockersMixin">
    
An <code class="idl"><a data-link-type="idl" href="#activationblockersmixin" id="ref-for-activationblockersmixin⑨">ActivationBlockersMixin</a></code> <var>element</var>’s <dfn class="dfn-paneled idl-code" data-dfn-for="ActivationBlockersMixin" data-dfn-type="attribute" data-export id="dom-activationblockersmixin-invalidreason"><code>invalidReason</code></dfn> getter steps are:


    <ol>
     <li data-md>
      <p>If <var>element</var>’s <a data-link-type="dfn" href="#activationblockersmixin-blocker" id="ref-for-activationblockersmixin-blocker③">blocker</a> is Nothing, return <code>""</code>.</p>
     <li data-md>
      <p>Otherwise, <var>element</var>’s <a data-link-type="dfn" href="#activationblockersmixin-blocker" id="ref-for-activationblockersmixin-blocker④">blocker</a>’s reason string.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="maybe dispatch onvalidstatechange" data-algorithm-for="ActivationBlockersMixin">
    
To <dfn class="dfn-paneled" data-dfn-for="ActivationBlockersMixin" data-dfn-type="dfn" data-noexport id="activationblockersmixin-maybe-dispatch-onvalidstatechange">maybe dispatch onvalidstatechange</dfn> for <var>element</var>:


    <ol>
     <li data-md>
      <p>Let <var>oldState</var> be <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-lastnotifiedvalidstate-slot" id="ref-for-dom-activationblockersmixin-lastnotifiedvalidstate-slot②">[[LastNotifiedValidState]]</a></code>.</p>
     <li data-md>
      <p>Let <var>newState</var> be whether <var>element</var>’s <a data-link-type="dfn" href="#activationblockersmixin-blocker" id="ref-for-activationblockersmixin-blocker⑤">blocker</a> is Nothing.</p>
     <li data-md>
      <p>Set <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-lastnotifiedvalidstate-slot" id="ref-for-dom-activationblockersmixin-lastnotifiedvalidstate-slot③">[[LastNotifiedValidState]]</a></code> to <var>newState</var>.</p>
     <li data-md>
      <p>Let <var>oldReason</var> be <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-lastnotifiedinvalidreason-slot" id="ref-for-dom-activationblockersmixin-lastnotifiedinvalidreason-slot②">[[LastNotifiedInvalidReason]]</a></code>.</p>
     <li data-md>
      <p>Let <var>newReason</var> be whether <var>element</var>’s
<code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-invalidreason" id="ref-for-dom-activationblockersmixin-invalidreason⑥">invalidReason</a></code>.</p>
     <li data-md>
      <p>Set <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-lastnotifiedinvalidreason-slot" id="ref-for-dom-activationblockersmixin-lastnotifiedinvalidreason-slot③">[[LastNotifiedInvalidReason]]</a></code> to <var>newReason</var>.</p>
     <li data-md>
      <p>If <var>oldState</var> != <var>newState</var> or <var>oldReason</var> != <var>newReason</var>, then:</p>
      <ol>
       <li data-md>
        <p>Let <var>event</var> be a new <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event②">Event</a></code>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-initialize" id="ref-for-concept-event-initialize①">Initialize</a> <var>event</var> with
<a class="idl-code" data-link-type="argument" href="https://dom.spec.whatwg.org/#dom-event-initevent-type-bubbles-cancelable-type" id="ref-for-dom-event-initevent-type-bubbles-cancelable-type">type</a>
"<code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-onvalidationstatuschange" id="ref-for-dom-activationblockersmixin-onvalidationstatuschange④">onvalidationstatuschange</a></code>",
<a class="idl-code" data-link-type="argument" href="https://dom.spec.whatwg.org/#dom-event-initevent-type-bubbles-cancelable-bubbles" id="ref-for-dom-event-initevent-type-bubbles-cancelable-bubbles">bubbles</a>
true, and
<a class="idl-code" data-link-type="argument" href="https://dom.spec.whatwg.org/#dom-event-initevent-type-bubbles-cancelable-cancelable" id="ref-for-dom-event-initevent-type-bubbles-cancelable-cancelable">cancelable</a>
true.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-dispatch" id="ref-for-concept-event-dispatch②">Dispatch</a> <var>event</var> to <var>element</var>.</p>
      </ol>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="ActivationBlockersMixin/IntersectionObserver callback">
    
An <code class="idl"><a data-link-type="idl" href="#activationblockersmixin" id="ref-for-activationblockersmixin①⓪">ActivationBlockersMixin</a></code>’s <dfn class="dfn-paneled" data-dfn-for="ActivationBlockersMixin" data-dfn-type="dfn" data-noexport id="activationblockersmixin-intersectionobserver-callback">IntersectionObserver callback</dfn> implements <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/IntersectionObserver/#callbackdef-intersectionobservercallback" id="ref-for-callbackdef-intersectionobservercallback">IntersectionObserverCallback</a></code> and runs the following steps:


    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑧">Assert</a>: The <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/IntersectionObserver/#intersectionobserver" id="ref-for-intersectionobserver②">IntersectionObserver</a></code>’s <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/IntersectionObserver/#dom-intersectionobserver-root" id="ref-for-dom-intersectionobserver-root">root</a></code>
is the <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-document" id="ref-for-concept-document">document</a></p>
     <li data-md>
      <p>Let <var>entries</var> be the value of the first callback parameter, the
<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list" id="ref-for-list">list</a> of <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/IntersectionObserver/#intersectionobserverentry" id="ref-for-intersectionobserverentry">intersection observer entries</a></code>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert⑨">Assert</a>: <var>entries</var> is not <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty①">empty</a>.</p>
     <li data-md>
      <p>Let <var>entry</var> be <var>entries</var>’s last <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-item" id="ref-for-list-item">item</a>.</p>
     <li data-md>
      <p>If <var>entry</var>.<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/IntersectionObserver/#dom-intersectionobserverentry-isvisible" id="ref-for-dom-intersectionobserverentry-isvisible">isVisible</a></code>, then:</p>
      <ol>
       <li data-md>
        <p><a data-link-type="dfn" href="#activationblockersmixin-remove-blockers" id="ref-for-activationblockersmixin-remove-blockers①">Remove blockers</a> with <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixinblockerreason-intersection_occluded_or_distorted" id="ref-for-dom-activationblockersmixinblockerreason-intersection_occluded_or_distorted①">intersection_occluded_or_distorted</a></code>.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="#activationblockersmixin-remove-blockers" id="ref-for-activationblockersmixin-remove-blockers②">Remove blockers</a> with <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixinblockerreason-intersection_out_of_viewport_or_clipped" id="ref-for-dom-activationblockersmixinblockerreason-intersection_out_of_viewport_or_clipped①">intersection_out_of_viewport_or_clipped</a></code>.</p>
      </ol>
     <li data-md>
      <p>Otherwise:</p>
      <ol>
       <li data-md>
        <p>If <var>entry</var>.<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/IntersectionObserver/#dom-intersectionobserverentry-intersectionratio" id="ref-for-dom-intersectionobserverentry-intersectionratio">intersectionRatio</a></code> >= 1, then:</p>
        <ol>
         <li data-md>
          <p>Let <var>reason</var> be <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixinblockerreason-intersection_occluded_or_distorted" id="ref-for-dom-activationblockersmixinblockerreason-intersection_occluded_or_distorted②">intersection_occluded_or_distorted</a></code>.</p>
        </ol>
       <li data-md>
        <p>Otherwise:</p>
        <ol>
         <li data-md>
          <p>Let <var>reason</var> be <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixinblockerreason-intersection_out_of_viewport_or_clipped" id="ref-for-dom-activationblockersmixinblockerreason-intersection_out_of_viewport_or_clipped②">intersection_out_of_viewport_or_clipped</a></code>.</p>
        </ol>
       <li data-md>
        <p><a data-link-type="dfn" href="#activationblockersmixin-add-a-temporary-blocker" id="ref-for-activationblockersmixin-add-a-temporary-blocker①">Add a temporary blocker</a> with <var>reason</var>.</p>
      </ol>
     <li data-md>
      <p>If <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-intersectionrect-slot" id="ref-for-dom-activationblockersmixin-intersectionrect-slot①">[[IntersectionRect]]</a></code> does not equal
<var>entry</var>.<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/IntersectionObserver/#dom-intersectionobserverentry-intersectionrect" id="ref-for-dom-intersectionobserverentry-intersectionrect">intersectionRect</a></code> then
<a data-link-type="dfn" href="#activationblockersmixin-add-an-expiring-blocker" id="ref-for-activationblockersmixin-add-an-expiring-blocker①">add an expiring blocker</a> with
<code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixinblockerreason-intersection_changed" id="ref-for-dom-activationblockersmixinblockerreason-intersection_changed①">intersection_changed</a></code>.</p>
     <li data-md>
      <p>Set <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-intersectionrect-slot" id="ref-for-dom-activationblockersmixin-intersectionrect-slot②">[[IntersectionRect]]</a></code> to
<var>entry</var>.<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/IntersectionObserver/#dom-intersectionobserverentry-intersectionrect" id="ref-for-dom-intersectionobserverentry-intersectionrect①">intersectionRect</a></code></p>
     <li data-md>
      <p><a data-link-type="dfn" href="#activationblockersmixin-maybe-dispatch-onvalidstatechange" id="ref-for-activationblockersmixin-maybe-dispatch-onvalidstatechange②">Maybe dispatch onvalidstatechange</a> on <a data-link-type="dfn" href="https://webidl.spec.whatwg.org/#this" id="ref-for-this①⑧">this</a>.</p>
    </ol>
    <p class="issue" id="issue-9a5604dc"><a class="self-link" href="#issue-9a5604dc"></a> Do I need to define dictionary equality?</p>
   </div>
   <h3 class="heading settled" data-level="3.2" id="mixin-permissions"><span class="secno">3.2. </span><span class="content">Powerful Features, aka Permissions</span><a class="self-link" href="#mixin-permissions"></a></h3>
   <p>To support elements that gate access to <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-powerful-feature" id="ref-for-dfn-powerful-feature⑤">powerful features</a>, you can use the
<code class="idl"><a data-link-type="idl" href="#permissionsmixin" id="ref-for-permissionsmixin④">PermissionsMixin</a></code>.</p>
   <dl class="element">
    <dt><a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#concept-element-dom" id="ref-for-concept-element-dom②">DOM interface</a>:
    <dd>
<pre class="def highlight idl"><c- b>interface</c-> <c- b>mixin</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="permissionsmixin"><code><c- g>PermissionsMixin</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://w3c.github.io/permissions/#dom-permissionstate" id="ref-for-dom-permissionstate"><c- n>PermissionState</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="PermissionState" href="#dom-permissionsmixin-initialpermissionstatus" id="ref-for-dom-permissionsmixin-initialpermissionstatus"><c- g>initialPermissionStatus</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://w3c.github.io/permissions/#dom-permissionstate" id="ref-for-dom-permissionstate①"><c- n>PermissionState</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="PermissionState" href="#dom-permissionsmixin-permissionstatus" id="ref-for-dom-permissionsmixin-permissionstatus"><c- g>permissionStatus</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler②"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="PermissionsMixin" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-permissionsmixin-onpromptaction"><code><c- g>onpromptaction</c-></code></dfn>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler③"><c- n>EventHandler</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="PermissionsMixin" data-dfn-type="attribute" data-export data-type="EventHandler" id="dom-permissionsmixin-onpromptdismiss"><code><c- g>onpromptdismiss</c-></code></dfn>;
};
</pre>
   </dl>
   <p>The following are the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers" id="ref-for-event-handlers①">event handlers</a> (and their corresponding <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type" id="ref-for-event-handler-event-type①">event handler event types</a>) that must be supported on elements that include the <code class="idl"><a data-link-type="idl" href="#permissionsmixin" id="ref-for-permissionsmixin⑤">PermissionsMixin</a></code>:</p>
   <table class="def">
    <tbody>
     <tr>
      <th>onpromptaction
      <td>Event
     <tr>
      <th>onpromptdismiss
      <td>Event
   </table>
   <p>The <dfn class="dfn-paneled" data-dfn-for="PermissionsMixin" data-dfn-type="dfn" data-noexport id="permissionsmixin-permissionsmixin-attributes">PermissionsMixin attributes</dfn> are:</p>
   <ul>
    <li data-md>
     <p><code class="idl"><a data-link-type="idl" href="#dom-permissionsmixin-initialpermissionstatus" id="ref-for-dom-permissionsmixin-initialpermissionstatus①">initialPermissionStatus</a></code></p>
    <li data-md>
     <p><code class="idl"><a data-link-type="idl" href="#dom-permissionsmixin-permissionstatus" id="ref-for-dom-permissionsmixin-permissionstatus①">permissionStatus</a></code></p>
    <li data-md>
     <p><code class="idl"><a data-link-type="idl" href="#dom-permissionsmixin-onpromptaction" id="ref-for-dom-permissionsmixin-onpromptaction①">onpromptaction</a></code></p>
    <li data-md>
     <p><code class="idl"><a data-link-type="idl" href="#dom-permissionsmixin-onpromptdismiss" id="ref-for-dom-permissionsmixin-onpromptdismiss①">onpromptdismiss</a></code></p>
   </ul>
   <h4 class="heading settled" data-level="3.2.1" id="mixin-permissions-internal-state"><span class="secno">3.2.1. </span><span class="content">Internal state</span><a class="self-link" href="#mixin-permissions-internal-state"></a></h4>
   <p>The <code class="idl"><a data-link-type="idl" href="#permissionsmixin" id="ref-for-permissionsmixin⑥">PermissionsMixin</a></code> <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#represents" id="ref-for-represents">represents</a> capabilities gated by user-requestable
<a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-permission" id="ref-for-dfn-permission②">permissions</a>, which the user can activate to allow the site to start accessing them.
It is core to the these elements that such requests are
triggered by the user, and not by the page’s script. To enforce
this, the element checks whether the activation event is <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-istrusted" id="ref-for-dom-event-istrusted①">trusted</a></code>. Additionally it watches a number of conditions, like whether the element is
(partially) occluded, or if it has recently been moved. The element maintains
an internal <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-blockerlist-slot" id="ref-for-dom-activationblockersmixin-blockerlist-slot⑦">[[BlockerList]]</a></code> to keep track of this.</p>
   <p><code class="idl"><a data-link-type="idl" href="#permissionsmixin" id="ref-for-permissionsmixin⑦">PermissionsMixin</a></code> elements have the following internal slots:</p>
   <ul>
    <li data-md>
     <p><dfn class="dfn-paneled idl-code" data-dfn-for="PermissionsMixin" data-dfn-type="attribute" data-export id="dom-permissionsmixin-features-slot"><code>[[Features]]</code></dfn> is null
or an <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#ordered-set" id="ref-for-ordered-set②">ordered set</a> of <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-powerful-feature" id="ref-for-dfn-powerful-feature⑥">powerful features</a>. For most permission
elements this is likely a fixed set, while for some this may be variable.
Making it an internal slot allows us to write algorithms that work for all
of them.</p>
    <li data-md>
     <p><dfn class="dfn-paneled idl-code" data-dfn-for="PermissionsMixin" data-dfn-type="attribute" data-export id="dom-permissionsmixin-initialpermissionstatus-slot"><code>[[InitialPermissionStatus]]</code></dfn>
is a <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate" id="ref-for-dom-permissionstate②">PermissionState</a></code> that stores the initial <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate" id="ref-for-dom-permissionstate③">PermissionState</a></code> for
<code class="idl"><a data-link-type="idl" href="#dom-permissionsmixin-features-slot" id="ref-for-dom-permissionsmixin-features-slot⑤">[[Features]]</a></code>.</p>
   </ul>
   <h4 class="heading settled" data-level="3.2.2" id="mixin-permissions-algorithms"><span class="secno">3.2.2. </span><span class="content">Algorithms</span><a class="self-link" href="#mixin-permissions-algorithms"></a></h4>
   <div class="algorithm" data-algorithm="initialization steps" data-algorithm-for="PermissionsMixin">
    
A <code class="idl"><a data-link-type="idl" href="#permissionsmixin" id="ref-for-permissionsmixin⑧">PermissionsMixin</a></code>’s <dfn class="dfn-paneled" data-dfn-for="PermissionsMixin" data-dfn-type="dfn" data-noexport id="permissionsmixin-initialization-steps">initialization steps</dfn> are:


    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#assert" id="ref-for-assert①⓪">Assert</a>: The internal <code class="idl"><a data-link-type="idl" href="#dom-permissionsmixin-features-slot" id="ref-for-dom-permissionsmixin-features-slot⑥">[[Features]]</a></code> slot has been
initialized. The including element must define and initialize this.</p>
     <li data-md>
      <p>Initialize the internal <code class="idl"><a data-link-type="idl" href="#dom-permissionsmixin-initialpermissionstatus-slot" id="ref-for-dom-permissionsmixin-initialpermissionstatus-slot">[[InitialPermissionStatus]]</a></code> to
the result of <a data-link-type="dfn" href="#permissionsmixin-get-the-current-permission-state" id="ref-for-permissionsmixin-get-the-current-permission-state①">get the current permission state</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="insertion steps" data-algorithm-for="PermissionsMixin">
    
A <code class="idl"><a data-link-type="idl" href="#permissionsmixin" id="ref-for-permissionsmixin⑨">PermissionsMixin</a></code>’s <dfn class="dfn-paneled" data-dfn-for="PermissionsMixin" data-dfn-type="dfn" data-noexport id="permissionsmixin-insertion-steps">insertion steps</dfn> are:


    <ol>
     <li data-md>
      <p>If <code class="idl"><a data-link-type="idl" href="#dom-permissionsmixin-features-slot" id="ref-for-dom-permissionsmixin-features-slot⑦">[[Features]]</a></code> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-is-empty" id="ref-for-list-is-empty②">is empty</a> or is null,
then <a data-link-type="dfn" href="#activationblockersmixin-add-a-permanent-blocker" id="ref-for-activationblockersmixin-add-a-permanent-blocker①">add a permanent blocker</a>
with reason <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixinblockerreason-type_invalid" id="ref-for-dom-activationblockersmixinblockerreason-type_invalid①">type_invalid</a></code>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="initialPermissionStatus" data-algorithm-for="PermissionsMixin">
    
An <code class="idl"><a data-link-type="idl" href="#permissionsmixin" id="ref-for-permissionsmixin①⓪">PermissionsMixin</a></code> <var>element</var>’s
<dfn class="dfn-paneled idl-code" data-dfn-for="PermissionsMixin" data-dfn-type="attribute" data-export id="dom-permissionsmixin-initialpermissionstatus"><code>initialPermissionStatus</code></dfn>
getter steps are:


    <ol>
     <li data-md>
      <p>Return <var>element</var>’s internal <code class="idl"><a data-link-type="idl" href="#dom-permissionsmixin-initialpermissionstatus-slot" id="ref-for-dom-permissionsmixin-initialpermissionstatus-slot①">[[InitialPermissionStatus]]</a></code>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="permissionStatus" data-algorithm-for="PermissionsMixin">
    
An <code class="idl"><a data-link-type="idl" href="#permissionsmixin" id="ref-for-permissionsmixin①①">PermissionsMixin</a></code> <var>element</var>’s
<dfn class="dfn-paneled idl-code" data-dfn-for="PermissionsMixin" data-dfn-type="attribute" data-export id="dom-permissionsmixin-permissionstatus"><code>permissionStatus</code></dfn>
getter steps are:


    <ol>
     <li data-md>
      <p>Return <a data-link-type="dfn" href="#permissionsmixin-get-the-current-permission-state" id="ref-for-permissionsmixin-get-the-current-permission-state②">get the current permission state</a> for
<var>element</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="get the current permission state" data-algorithm-for="PermissionsMixin">
    
To <dfn class="dfn-paneled" data-dfn-for="PermissionsMixin" data-dfn-type="dfn" data-noexport id="permissionsmixin-get-the-current-permission-state">get the current permission state</dfn> for
an <code class="idl"><a data-link-type="idl" href="#permissionsmixin" id="ref-for-permissionsmixin①②">PermissionsMixin</a></code> <var>element</var>:


    <ol>
     <li data-md>
      <p>Let <var>features</var> be <var>element</var>’s internal <code class="idl"><a data-link-type="idl" href="#dom-permissionsmixin-features-slot" id="ref-for-dom-permissionsmixin-features-slot⑧">[[Features]]</a></code>.</p>
     <li data-md>
      <p>If <var>features</var> is null or <var>features</var> is <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-empty" id="ref-for-list-empty①">empty</a>,
return "<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-prompt" id="ref-for-dom-permissionstate-prompt">prompt</a></code>".</p>
     <li data-md>
      <p>Let <var>current</var> be "<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-granted" id="ref-for-dom-permissionstate-granted①">granted</a></code>".</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-iterate" id="ref-for-list-iterate③">For each</a> <var>feature</var> of <var>features</var>:</p>
      <ol>
       <li data-md>
        <p>Let <var>state</var> be the result of <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-getting-the-current-permission-state" id="ref-for-dfn-getting-the-current-permission-state">get the current permission state</a> for
<var>feature</var>.</p>
       <li data-md>
        <p>Let <var>current</var> be the smaller of <var>current</var> and <var>state</var>, assuming the
following ordering:<br>
"<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-granted" id="ref-for-dom-permissionstate-granted②">granted</a></code>" >
"<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-prompt" id="ref-for-dom-permissionstate-prompt①">prompt</a></code>" >
"<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-denied" id="ref-for-dom-permissionstate-denied">denied</a></code>".</p>
      </ol>
     <li data-md>
      <p>Return <var>current</var>.</p>
    </ol>
    <p class="issue" id="issue-1eb6288e"><a class="self-link" href="#issue-1eb6288e"></a> It’s not clear what the PermissionState for 'no valid permission type'
    should be. Here I pick "prompt" based on Chrome’s implementation; but that
    choice is arbitrary.</p>
   </div>
   <div class="algorithm" data-algorithm="dispatch onpromptaction" data-algorithm-for="PermissionsMixin">
    
To <dfn class="dfn-paneled" data-dfn-for="PermissionsMixin" data-dfn-type="dfn" data-noexport id="permissionsmixin-dispatch-onpromptaction">dispatch onpromptaction</dfn> for <var>element</var>:


    <ol>
     <li data-md>
      <p>Let <var>event</var> be a new <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event③">Event</a></code>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-initialize" id="ref-for-concept-event-initialize②">Initialize</a> <var>event</var> with
<a class="idl-code" data-link-type="argument" href="https://dom.spec.whatwg.org/#dom-event-initevent-type-bubbles-cancelable-type" id="ref-for-dom-event-initevent-type-bubbles-cancelable-type①">type</a>
"<code class="idl"><a data-link-type="idl" href="#dom-permissionsmixin-onpromptaction" id="ref-for-dom-permissionsmixin-onpromptaction②">onpromptaction</a></code>",
<a class="idl-code" data-link-type="argument" href="https://dom.spec.whatwg.org/#dom-event-initevent-type-bubbles-cancelable-bubbles" id="ref-for-dom-event-initevent-type-bubbles-cancelable-bubbles①">bubbles</a>
true, and
<a class="idl-code" data-link-type="argument" href="https://dom.spec.whatwg.org/#dom-event-initevent-type-bubbles-cancelable-cancelable" id="ref-for-dom-event-initevent-type-bubbles-cancelable-cancelable①">cancelable</a>
true.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-dispatch" id="ref-for-concept-event-dispatch③">Dispatch</a> <var>event</var> to <var>element</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="dispatch onpromptdismiss" data-algorithm-for="PermissionsMixin">
    
To <dfn class="dfn-paneled" data-dfn-for="PermissionsMixin" data-dfn-type="dfn" data-noexport id="permissionsmixin-dispatch-onpromptdismiss">dispatch onpromptdismiss</dfn> for <var>element</var>:


    <ol>
     <li data-md>
      <p>Let <var>event</var> be a new <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event④">Event</a></code>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-initialize" id="ref-for-concept-event-initialize③">Initialize</a> <var>event</var> with
<a class="idl-code" data-link-type="argument" href="https://dom.spec.whatwg.org/#dom-event-initevent-type-bubbles-cancelable-type" id="ref-for-dom-event-initevent-type-bubbles-cancelable-type②">type</a>
"<code class="idl"><a data-link-type="idl" href="#dom-permissionsmixin-onpromptdismiss" id="ref-for-dom-permissionsmixin-onpromptdismiss②">onpromptdismiss</a></code>",
<a class="idl-code" data-link-type="argument" href="https://dom.spec.whatwg.org/#dom-event-initevent-type-bubbles-cancelable-bubbles" id="ref-for-dom-event-initevent-type-bubbles-cancelable-bubbles②">bubbles</a>
true, and
<a class="idl-code" data-link-type="argument" href="https://dom.spec.whatwg.org/#dom-event-initevent-type-bubbles-cancelable-cancelable" id="ref-for-dom-event-initevent-type-bubbles-cancelable-cancelable②">cancelable</a>
true.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-dispatch" id="ref-for-concept-event-dispatch④">Dispatch</a> <var>event</var> to <var>element</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="build a permission descriptor" data-algorithm-for="PermissionsMixin">
    
To <dfn class="dfn-paneled" data-dfn-for="PermissionsMixin" data-dfn-type="dfn" data-noexport id="permissionsmixin-build-a-permission-descriptor">build a permission descriptor</dfn> for an
<var>element</var>:


    <p class="issue" id="issue-f681da45"><a class="self-link" href="#issue-f681da45"></a> The <a data-link-type="biblio" href="#biblio-permissions" title="Permissions">[Permissions]</a> specification assumes a descriptor describes a
single permission without parameters (like an equivalent of
<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/geolocation/#dom-positionoptions-enablehighaccuracy" id="ref-for-dom-positionoptions-enablehighaccuracy">enableHighAccuracy</a></code>). Here, we assume a permissions model
that is more expressive. This needs to be resolved -- likely upstream,
in <a data-link-type="biblio" href="#biblio-permissions" title="Permissions">[Permissions]</a>, plus adaptions here.</p>
    <ol>
     <li data-md>
      <p>Let <var>result</var> be a new <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissiondescriptor" id="ref-for-dom-permissiondescriptor">PermissionDescriptor</a></code>.</p>
     <li data-md>
      <p>Fill in <var>result</var>, by including the <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-powerful-feature" id="ref-for-dfn-powerful-feature⑦">powerful feature</a> names contained in
<var>element</var>’s <code class="idl"><a data-link-type="idl" href="#dom-permissionsmixin-features-slot" id="ref-for-dom-permissionsmixin-features-slot⑨">[[Features]]</a></code>.</p>
     <li data-md>
      <p>Return <var>result</var>.</p>
    </ol>
   </div>
   <h4 class="heading settled" data-level="3.2.3" id="mixin-permissions-presentation"><span class="secno">3.2.3. </span><span class="content">Presentation</span><a class="self-link" href="#mixin-permissions-presentation"></a></h4>
   <p class="issue" id="issue-59f2ad87"><a class="self-link" href="#issue-59f2ad87"></a> There isn’t much precedence for describing the user agent UI in detail.
    It may be better to leave more freedom to user agents.</p>
   <p>An element using the <code class="idl"><a data-link-type="idl" href="#permissionsmixin" id="ref-for-permissionsmixin①③">PermissionsMixin</a></code> contains browser-chosen content, text and maybe an
icon. Activating them will often <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-prompt-the-user-to-choose" id="ref-for-dfn-prompt-the-user-to-choose">prompt the user to choose</a>.
This provides two bits of user interface that a user can interact with.
The <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent②">user agent</a> is largely free to determine these — rendering of the
element and the subsequent <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-prompt-the-user-to-choose" id="ref-for-dfn-prompt-the-user-to-choose①">permission
prompt</a> — in whichever way it thinks best convey’s the element’s intent.</p>
   <p>UI options for the elements' presentation include:</p>
   <ul>
    <li data-md>
     <p>Name the <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-powerful-feature" id="ref-for-dfn-powerful-feature⑧">powerful features</a> listed in <code class="idl"><a data-link-type="idl" href="#dom-permissionsmixin-features-slot" id="ref-for-dom-permissionsmixin-features-slot①⓪">[[Features]]</a></code>, in the language
indicated by the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#language" id="ref-for-language">language</a> of the element. Note that this would
always be the language indicated by the <code><a data-link-type="element-sub" href="https://html.spec.whatwg.org/multipage/dom.html#attr-lang" id="ref-for-attr-lang①">lang</a></code> attribute,
if present.</p>
    <li data-md>
     <p>An icon indicating the <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-powerful-feature" id="ref-for-dfn-powerful-feature⑨">powerful feature</a> type or types.</p>
    <li data-md>
     <p>The current <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-permission-state" id="ref-for-dfn-permission-state">permission state</a> of the <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-powerful-feature" id="ref-for-dfn-powerful-feature①⓪">powerful feature</a> in questions.
For example, if the <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-powerful-feature" id="ref-for-dfn-powerful-feature①①">permission</a> is already
<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-granted" id="ref-for-dom-permissionstate-granted③">granted</a></code>, the element might be labeled
as "geolocation already in use".</p>
    <li data-md>
     <p>A modal <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-prompt-the-user-to-choose" id="ref-for-dfn-prompt-the-user-to-choose②">prompt</a> with a "scrim".
(I.e., darkening out the page behind the prompt.)
This would normally quite disruptive. But here our goal is to ensure a
user means to make this choice.</p>
   </ul>
   <p><a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent③">User agents</a> are encouraged to name or describe the <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-powerful-feature" id="ref-for-dfn-powerful-feature①②">powerful features</a>
in a way that’s consistent with similar usage in program or the platform it
is running on.</p>
   <p>Very non-normative examples might be:</p>
   <ul>
    <li data-md>
     <p><code>&lt;geolocation lang=de></code>: "Standort verwenden".</p>
    <li data-md>
     <p><code>&lt;geolocation watch=true></code> (in an English language page): "⌖ Track location.".</p>
    <li data-md>
     <p>Upon activiating <code>&lt;geolocation></code>, when the corresponding
<a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-permission-state" id="ref-for-dfn-permission-state①">permission state</a> is <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/permissions/#dom-permissionstate-denied" id="ref-for-dom-permissionstate-denied①">denied</a></code>, modify the text to
"Continue blocking".</p>
   </ul>
   <h3 class="heading settled" data-level="3.3" id="fallback"><span class="secno">3.3. </span><span class="content">Falling Back</span><a class="self-link" href="#fallback"></a></h3>
   <p>A <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent④">user agent</a> that does not support a particular element would
recognize them as <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/dom.html#htmlunknownelement" id="ref-for-htmlunknownelement">HTMLUnknownElement</a></code> and render their children as
regular HTML.
<a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent" id="ref-for-user-agent⑤">User agents</a> that support such an element should usually
render the element as described in <a href="#rendering">§ 3.4 Styling, and Styling Restrictions</a>, but are still
required to render the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#fallback-content" id="ref-for-fallback-content②">fallback content</a> under one condition:</p>
   <p>If the internal <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixin-blockerlist-slot" id="ref-for-dom-activationblockersmixin-blockerlist-slot⑧">[[BlockerList]]</a></code> <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#list-contain" id="ref-for-list-contain①">contains</a> a record whose
<a data-link-type="dfn" href="#activationblockersmixin-blocker-reason" id="ref-for-activationblockersmixin-blocker-reason③">blocker reason</a> is <code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixinblockerreason-type_invalid" id="ref-for-dom-activationblockersmixinblockerreason-type_invalid②">type_invalid</a></code>,
then the element should render the <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/dom.html#fallback-content" id="ref-for-fallback-content③">fallback content</a>
instead of its usual rendering.</p>
   <h3 class="heading settled" data-level="3.4" id="rendering"><span class="secno">3.4. </span><span class="content">Styling, and Styling Restrictions</span><a class="self-link" href="#rendering"></a></h3>
   <p>Permission elements constrain the styling that can be applied to them.
These constraints come in three flavours:</p>
   <ol>
    <li data-md>
     <p>If the condition isn’t met, the element is deactivated.</p>
    <li data-md>
     <p>A user-agent defined stylesheet enforces certain styling.</p>
    <li data-md>
     <p>The user-agent enforces bounds on additional styles, where the bounds
cannot be easily expressed in CSS. For example, if the style bounds are
expressed relative to the computed style of the element.</p>
   </ol>
   <h4 class="heading settled" data-level="3.4.1" id="style-blockers"><span class="secno">3.4.1. </span><span class="content">Conditions that Deactivate the Element</span><a class="self-link" href="#style-blockers"></a></h4>
   <p>If one of these conditions is not met, then a
<a data-link-type="dfn" href="#activationblockersmixin-add-a-temporary-blocker" id="ref-for-activationblockersmixin-add-a-temporary-blocker②">temporary blocker is added</a> with type
<code class="idl"><a data-link-type="idl" href="#dom-activationblockersmixinblockerreason-style_invalid" id="ref-for-dom-activationblockersmixinblockerreason-style_invalid①">style_invalid</a></code>.</p>
   <table class="def">
    <tbody>
     <tr>
      <th>'color', 'background-color'
      <td>
Set by default to the user agent’s default <code>button</code> colors.
The <a data-link-type="dfn" href="https://drafts.csswg.org/mediaqueries-5/#contrast-ratio" id="ref-for-contrast-ratio">contrast ratio</a> between the 2 colors needs to be at least 3.
Alpha has to be 1.

     <tr>
      <th>'font-size'
      <td>
       
If <a data-link-type="dfn" href="https://www.w3.org/TR/CSS2/cascade.html#specified-value" id="ref-for-specified-value">specified value</a> is expressed as <a class="css" data-link-type="type" href="https://drafts.csswg.org/css-fonts-4/#typedef-relative-size" id="ref-for-typedef-relative-size">&lt;relative-size></a>:

       <ul>
        <li>Then <span class="css">font-size</span> must be between <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css2/#valdef-font-size-small" id="ref-for-valdef-font-size-small">small</a> and
<a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css2/#valdef-font-size-xx-large" id="ref-for-valdef-font-size-xx-large">xx-large</a>.

        <li>Otherwise, the <a data-link-type="dfn" href="https://www.w3.org/TR/CSS2/cascade.html#computed-value" id="ref-for-computed-value">computed value</a> must be larger than or equal to the
<a data-link-type="dfn" href="https://www.w3.org/TR/CSS2/cascade.html#computed-value" id="ref-for-computed-value①">computed value</a> for <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css2/#valdef-font-size-small" id="ref-for-valdef-font-size-small①">small</a> and less than or equal to the
<a data-link-type="dfn" href="https://www.w3.org/TR/CSS2/cascade.html#computed-value" id="ref-for-computed-value②">computed value</a> of <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css2/#valdef-font-size-xx-large" id="ref-for-valdef-font-size-xx-large①">xx-large</a>.

       </ul>
   </table>
   <p class="issue" id="issue-76cb758c"><a class="self-link" href="#issue-76cb758c"></a> Define "alpha".</p>
   <h4 class="heading settled" data-level="3.4.2" id="style-stylesheet"><span class="secno">3.4.2. </span><span class="content">User-Agent Defined Stylesheet</span><a class="self-link" href="#style-stylesheet"></a></h4>
   <p>A permission element is expected to render with the following styles:</p>
<pre class="highlight lang-css"><c- n>@namespace</c-> <c- s>"http://www.w3.org/1999/xhtml"</c-><c- p>;</c->
geolocation <c- p>{</c->
  <c- k>opacity</c-><c- p>:</c-> <c- m>1.0</c-><c- p>;</c->
  <c- k>line-height</c-><c- p>:</c-> normal !important<c- p>;</c->
  <c- k>whitespace</c-><c- p>:</c-> nowrap !important<c- p>;</c->
  <c- k>user-select</c-><c- p>:</c-> none !important<c- p>;</c->
  <c- k>appearance</c-><c- p>:</c-> auto !important<c- p>;</c->
  <c- k>box-sizing</c-><c- p>:</c-> content-box !important<c- p>;</c->
  <c- k>vertical-align</c-><c- p>:</c-> middle !important<c- p>;</c->
  <c- k>text-emphasis</c-><c- p>:</c-> initial !important<c- p>;</c->
  <c- k>text-shadow</c-><c- p>:</c-> initial !important<c- p>;</c->
<c- p>}</c->
</pre>
   <h4 class="heading settled" data-level="3.4.3" id="style-style-bounds"><span class="secno">3.4.3. </span><span class="content">Additional User-Agent Defined Style Bounds</span><a class="self-link" href="#style-style-bounds"></a></h4>
   
Permission elements define several bounds on styles. For example, we want
the font size are constraints on the  The style bounds are explained below.


   <p>For notational convenience, we imagine that the <a data-link-type="dfn" href="https://www.w3.org/TR/CSS2/cascade.html#computed-value" id="ref-for-computed-value③">computed value</a> of an element
could be accessed in CSS rules with <code>computed</code>, just like the
inherited value of an element can via the <code><a data-link-type="dfn" href="https://www.w3.org/TR/CSS2/cascade.html#value-def-inherit" id="ref-for-value-def-inherit">inherit</a></code> keyword.
Then the following sheet expresses the style bounds:</p>
<pre class="highlight lang-css"><c- n>@namespace</c-> <c- s>"http://www.w3.org/1999/xhtml"</c-><c- p>;</c->
geolocation <c- p>{</c->
  <c- k>outline-offset</c-><c- p>:</c-> <c- nf>clamp</c-><c- p>(</c-><c- m>0</c-><c- p>,</c-> computed<c- p>,</c-> none<c- p>);</c-> <c- c>/* No negative outline-offsets. */</c->
  font-weight: <c- nf>clamp</c-><c- p>(</c-><c- m>200</c-><c- p>,</c-> computed<c- p>,</c-> none<c- p>);</c->  <c- c>/* No font-weights below 200. */</c->
  word-spacing: <c- nf>clamp</c-><c- p>(</c-><c- m>0</c-><c- p>,</c-> computed<c- p>,</c-> <c- m>0.5</c-><c- k>em</c-><c- p>);</c->  <c- c>/* Word-spacing between 0..0.5em */</c->
  letter-spacing: <c- nf>clamp</c-><c- p>(</c-><c- m>-0.05</c-><c- k>em</c-><c- p>,</c-> commputed<c- p>,</c-> <c- m>0.2</c-><c- k>em</c-><c- p>);</c->  <c- c>/* Letter spacing between -0.05..0.2em */</c->

  min-height: <c- nf>clamp</c-><c- p>(</c-><c- m>1</c-><c- k>em</c-><c- p>,</c-> computed<c- p>,</c-> none<c- p>);</c->
  <c- k>max-height</c-><c- p>:</c-> <c- nf>clamp</c-><c- p>(</c->none<c- p>,</c-> computed<c- p>,</c-> <c- m>3</c-><c- k>em</c-><c- p>);</c->
  <c- k>min-width</c-><c- p>:</c-> <c- nf>clamp</c-><c- p>(</c->none<c- p>,</c-> computed<c- p>,</c-> <c- nf>calc</c-><c- p>(</c->fit-content<c- p>));</c->

  <c- k>border-width</c-><c- p>:</c-> <c- nf>clamp</c-><c- p>(</c->none<c- p>,</c-> computed<c- p>,</c-> <c- m>1</c-><c- k>em</c-><c- p>);</c->

  <c- k>font-style</c-><c- p>:</c-> <c- nf>if</c-><c- p>(</c->computed = <c- s>"normal"</c-> or computed = <c- s>"italic"</c-><c- p>,</c-> computed<c- p>,</c-> <c- s>"normal"</c-><c- p>);</c->
  <c- k>display</c-><c- p>:</c-> if <c- p>(</c->computed = <c- s>"inline-block"</c-> or computed = <c- s>"none"</c-><c- p>,</c-> computed<c- p>,</c-> <c- s>"inline-block"</c-><c- p>);</c->
  <c- k>cursor</c-><c- p>:</c-> if <c- p>(</c->computed = <c- s>"pointer"</c-> or computed = <c- s>"not-allowed"</c-><c- p>,</c-> computed<c- p>,</c-> <c- s>"pointer"</c-><c- p>)</c->
<c- p>}</c->
</pre>
   <p>Additionally, some rules apply based on conditions not easily expressible as
CSS.</p>
   <p>If <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-height" id="ref-for-propdef-height">height</a> is <code>auto</code>, then apply:</p>
<pre class="highlight lang-css"><c- n>@namespace</c-> <c- s>"http://www.w3.org/1999/xhtml"</c-><c- p>;</c->
geolocation <c- p>{</c->
  <c- k>padding-top</c-><c- p>:</c-> <c- nf>clamp</c-><c- p>(</c-><c- m>1</c-><c- k>em</c-><c- p>,</c-> computed<c- p>,</c-> none<c- p>);</c->
  <c- k>padding-bottom</c-><c- p>:</c-> <c- nf>calc</c-><c- p>(</c->padding-top<c- p>);</c->
<c- p>}</c->
</pre>
   <p>If <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-width" id="ref-for-propdef-width">width</a> is <code>auto</code>, then apply:</p>
<pre class="highlight lang-css"><c- n>@namespace</c-> <c- s>"http://www.w3.org/1999/xhtml"</c-><c- p>;</c->
geolocation <c- p>{</c->
  <c- k>padding-left</c-><c- p>:</c-> <c- nf>clamp</c-><c- p>(</c->none<c- p>,</c-> computed<c- p>,</c-> <c- m>5</c-><c- k>em</c-><c- p>);</c->
  <c- k>padding-right</c-><c- p>:</c-> <c- nf>calc</c-><c- p>(</c->padding-left<c- p>);</c->
<c- p>}</c->
</pre>
   <p>Apply the following sheet, if the element does not have all of the following:</p>
   <ul>
    <li data-md>
     <p>A border width of at least <code>1px</code>,</p>
    <li data-md>
     <p>a color to background-color contrast ratio of at least 3,</p>
    <li data-md>
     <p>and alpha of 1.</p>
   </ul>
<pre class="highlight lang-css"><c- n>@namespace</c-> <c- s>"http://www.w3.org/1999/xhtml"</c-><c- p>;</c->
geolocation <c- p>{</c->
  <c- k>max-width</c-><c- p>:</c-> <c- nf>clamp</c-><c- p>(</c->none<c- p>,</c-> computed<c- p>,</c-> <c- nf>calc</c-><c- p>(</c-><c- m>3</c-> * fit-content<c- p>));</c->
<c- p>}</c->
</pre>
   <p>The following CSS properties can be used normally:</p>
   <ul>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-fonts-4/#propdef-font-kerning" id="ref-for-propdef-font-kerning">font-kerning</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-fonts-4/#propdef-font-optical-sizing" id="ref-for-propdef-font-optical-sizing">font-optical-sizing</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-fonts-4/#propdef-font-stretch" id="ref-for-propdef-font-stretch">font-stretch</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-fonts-4/#propdef-font-synthesis-weight" id="ref-for-propdef-font-synthesis-weight">font-synthesis-weight</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-fonts-4/#propdef-font-synthesis-style" id="ref-for-propdef-font-synthesis-style">font-synthesis-style</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-fonts-4/#propdef-font-synthesis-small-caps" id="ref-for-propdef-font-synthesis-small-caps">font-synthesis-small-caps</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-fonts-4/#propdef-font-feature-settings" id="ref-for-propdef-font-feature-settings">font-feature-settings</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-color-adjust-1/#propdef-forced-color-adjust" id="ref-for-propdef-forced-color-adjust">forced-color-adjust</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://svgwg.org/svg2-draft/painting.html#TextRenderingProperty" id="ref-for-TextRenderingProperty">text-rendering</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-align-3/#propdef-align-self" id="ref-for-propdef-align-self">align-self</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-anchor-position-1/#propdef-anchor-name" id="ref-for-propdef-anchor-name">anchor-name</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-sizing-4/#propdef-aspect-ratio" id="ref-for-propdef-aspect-ratio">aspect-ratio</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-borders-4/#propdef-border" id="ref-for-propdef-border">border</a> and all
<a href="https://drafts.csswg.org/css-backgrounds-3/#border-shorthands">border shorthand properties</a>,
<a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-borders-4/#propdef-border-top" id="ref-for-propdef-border-top">border-top</a>, <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-borders-4/#propdef-border-right" id="ref-for-propdef-border-right">border-right</a>, <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-borders-4/#propdef-border-bottom" id="ref-for-propdef-border-bottom">border-bottom</a>, <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-borders-4/#propdef-border-left" id="ref-for-propdef-border-left">border-left</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css2/#propdef-clear" id="ref-for-propdef-clear">clear</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-color-adjust-1/#propdef-color-scheme" id="ref-for-propdef-color-scheme">color-scheme</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-sizing-4/#propdef-contain-intrinsic-width" id="ref-for-propdef-contain-intrinsic-width">contain-intrinsic-width</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-sizing-4/#propdef-contain-intrinsic-height" id="ref-for-propdef-contain-intrinsic-height">contain-intrinsic-height</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-conditional-5/#propdef-container-name" id="ref-for-propdef-container-name">container-name</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-conditional-5/#propdef-container-type" id="ref-for-propdef-container-type">container-type</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-lists-3/#propdef-counter-reset" id="ref-for-propdef-counter-reset">counter-reset</a>, <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-lists-3/#propdef-counter-increment" id="ref-for-propdef-counter-increment">counter-increment</a>, <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-lists-3/#propdef-counter-set" id="ref-for-propdef-counter-set">counter-set</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-flexbox-1/#propdef-flex" id="ref-for-propdef-flex">flex</a> and its longhands, <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-flexbox-1/#propdef-flex-grow" id="ref-for-propdef-flex-grow">flex-grow</a>, <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-flexbox-1/#propdef-flex-shrink" id="ref-for-propdef-flex-shrink">flex-shrink</a>, <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-flexbox-1/#propdef-flex-basis" id="ref-for-propdef-flex-basis">flex-basis</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css2/#propdef-float" id="ref-for-propdef-float">float</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-height" id="ref-for-propdef-height①">height</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/compositing-2/#propdef-isolation" id="ref-for-propdef-isolation">isolation</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-align-3/#propdef-justify-self" id="ref-for-propdef-justify-self">justify-self</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-position-3/#propdef-left" id="ref-for-propdef-left">left</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-display-4/#propdef-order" id="ref-for-propdef-order">order</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-break-3/#propdef-orphans" id="ref-for-propdef-orphans">orphans</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-ui-4/#propdef-outline" id="ref-for-propdef-outline">outline</a> and mostly its <a href="https://drafts.csswg.org/css-ui-4/#outline">longhands</a>,
<a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-ui-4/#propdef-outline-color" id="ref-for-propdef-outline-color">outline-color</a> and <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-ui-4/#propdef-outline-style" id="ref-for-propdef-outline-style">outline-style</a>.
<br>Note that <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-ui-4/#propdef-outline-offset" id="ref-for-propdef-outline-offset">outline-offset</a> is clamped by the rules above.</p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-scroll-anchoring-1/#propdef-overflow-anchor" id="ref-for-propdef-overflow-anchor">overflow-anchor</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-overscroll-1/#propdef-overscroll-behavior" id="ref-for-propdef-overscroll-behavior">overscroll-behavior</a> and its
<a href="https://drafts.csswg.org/css-overscroll-1/#overscroll-behavior-longhands-physical">longhands</a>,
<a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-overscroll-1/#propdef-overscroll-behavior-inline" id="ref-for-propdef-overscroll-behavior-inline">overscroll-behavior-inline</a>, <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-overscroll-1/#propdef-overscroll-behavior-block" id="ref-for-propdef-overscroll-behavior-block">overscroll-behavior-block</a>,
<a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-overscroll-1/#propdef-overscroll-behavior-x" id="ref-for-propdef-overscroll-behavior-x">overscroll-behavior-x</a>, <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-overscroll-1/#propdef-overscroll-behavior-y" id="ref-for-propdef-overscroll-behavior-y">overscroll-behavior-y</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-page-3/#propdef-page" id="ref-for-propdef-page">page</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-position-3/#propdef-position" id="ref-for-propdef-position">position</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-anchor-position-1/#propdef-position-anchor" id="ref-for-propdef-position-anchor">position-anchor</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-position-3/#propdef-right" id="ref-for-propdef-right">right</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-margin" id="ref-for-propdef-scroll-margin">scroll-margin</a> and its <a href="https://drafts.csswg.org/css-scroll-snap-1/#longhands">longhands</a>,
<a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-margin-top" id="ref-for-propdef-scroll-margin-top">scroll-margin-top</a>, <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-margin-right" id="ref-for-propdef-scroll-margin-right">scroll-margin-right</a>, <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-margin" id="ref-for-propdef-scroll-margin①">scroll-margin</a>bottom',
<a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-margin-left" id="ref-for-propdef-scroll-margin-left">scroll-margin-left</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding" id="ref-for-propdef-scroll-padding">scroll-padding</a> and its <a href="https://drafts.csswg.org/css-scroll-snap-1/#longhands">longhands</a>,
<a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-top" id="ref-for-propdef-scroll-padding-top">scroll-padding-top</a>, <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-right" id="ref-for-propdef-scroll-padding-right">scroll-padding-right</a>, <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-bottom" id="ref-for-propdef-scroll-padding-bottom">scroll-padding-bottom</a>,
<a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-left" id="ref-for-propdef-scroll-padding-left">scroll-padding-left</a>, <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-inline-start" id="ref-for-propdef-scroll-padding-inline-start">scroll-padding-inline-start</a>,
<a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-block-start" id="ref-for-propdef-scroll-padding-block-start">scroll-padding-block-start</a>, <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-block-start" id="ref-for-propdef-scroll-padding-block-start①">scroll-padding-block-start</a>,
<a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-inline-end" id="ref-for-propdef-scroll-padding-inline-end">scroll-padding-inline-end</a>, <a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-block-end" id="ref-for-propdef-scroll-padding-block-end">scroll-padding-block-end</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-text-4/#propdef-text-spacing-trim" id="ref-for-propdef-text-spacing-trim">text-spacing-trim</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-text-4/#propdef-text-transform" id="ref-for-propdef-text-transform">text-transform</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-position-3/#propdef-top" id="ref-for-propdef-top">top</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-display-4/#propdef-visibility" id="ref-for-propdef-visibility">visibility</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://svgwg.org/svg2-draft/geometry.html#XProperty" id="ref-for-XProperty">x</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://svgwg.org/svg2-draft/geometry.html#YProperty" id="ref-for-YProperty">y</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-ruby-1/#propdef-ruby-position" id="ref-for-propdef-ruby-position">ruby-position</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-ui-4/#propdef-user-select" id="ref-for-propdef-user-select">user-select</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-sizing-3/#propdef-width" id="ref-for-propdef-width①">width</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css-will-change-1/#propdef-will-change" id="ref-for-propdef-will-change">will-change</a></p>
    <li data-md>
     <p><a class="css property" data-link-type="property" href="https://drafts.csswg.org/css2/#propdef-z-index" id="ref-for-propdef-z-index">z-index</a></p>
   </ul>
   <p>Properties that are not listed above, or in the rules in this section,
and aren’t logically equivalent to one of the properties mentioned here,
will be ignored.</p>
   <h2 class="heading settled" data-level="4" id="secpriv"><span class="secno">4. </span><span class="content">Security &amp; Privacy Considerations</span><a class="self-link" href="#secpriv"></a></h2>
   <p class="note" role="note"><span class="marker">Note:</span> Security &amp; Privacy Considerations can be found
<a href="https://github.com/WICG/PEPC/blob/main/explainer.md#security">here</a> &amp;
<a href="https://github.com/WICG/PEPC/blob/main/explainer.md#privacy">there</a>,
in the <a href="https://github.com/WICG/PEPC/blob/main/explainer.md">Explainer</a>.
This section will eventually contain a specification-worthy transcription
of those Explainer sections.</p>
  </main>
  <script src="https://www.w3.org/scripts/TR/2021/fixup.js"></script>
  <h2 class="heading no-num no-ref settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="heading no-num no-ref settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#dom-activationblockersmixinblockerreason">""</a><span>, in § 3.1.2</span>
   <li><a href="#activationblockersmixin">ActivationBlockersMixin</a><span>, in § 3.1</span>
   <li><a href="#activationblockersmixin-activationblockersmixin-attributes">ActivationBlockersMixin attributes</a><span>, in § 3.1</span>
   <li><a href="#enumdef-activationblockersmixinblockerreason">ActivationBlockersMixinBlockerReason</a><span>, in § 3.1.2</span>
   <li><a href="#activationblockersmixin-add-a-blocker">add a blocker</a><span>, in § 3.1.3</span>
   <li><a href="#activationblockersmixin-add-an-expiring-blocker">add an expiring blocker</a><span>, in § 3.1.3</span>
   <li><a href="#activationblockersmixin-add-a-permanent-blocker">add a permanent blocker</a><span>, in § 3.1.3</span>
   <li><a href="#activationblockersmixin-add-a-temporary-blocker">add a temporary blocker</a><span>, in § 3.1.3</span>
   <li>
    autolocate
    <ul>
     <li><a href="#dom-htmlgeolocationelement-autolocate">attribute for HTMLGeolocationElement</a><span>, in § 2</span>
     <li><a href="#element-attrdef-geolocation-autolocate">element-attr for geolocation</a><span>, in § 2</span>
    </ul>
   <li><a href="#activationblockersmixin-blocker">blocker</a><span>, in § 3.1.3</span>
   <li><a href="#activationblockersmixin-blocker-delay">blocker delay</a><span>, in § 3.1.3</span>
   <li><a href="#dom-activationblockersmixin-blockerlist-slot">[[BlockerList]]</a><span>, in § 3.1.1</span>
   <li><a href="#activationblockersmixin-blocker-ordering">blocker ordering</a><span>, in § 3.1.3</span>
   <li><a href="#activationblockersmixin-blocker-reason">blocker reason</a><span>, in § 3.1.1</span>
   <li><a href="#blocker-reason-table">blocker reason table</a><span>, in § 3.1.2</span>
   <li><a href="#activationblockersmixin-blocker-timestamp">blocker timestamp</a><span>, in § 3.1.1</span>
   <li><a href="#activationblockersmixin-blocking">blocking</a><span>, in § 3.1.3</span>
   <li><a href="#permissionsmixin-build-a-permission-descriptor">build a permission descriptor</a><span>, in § 3.2.2</span>
   <li><a href="#dom-htmlgeolocationelement-constructor">constructor()</a><span>, in § 2.2</span>
   <li><a href="#dispatch-onlocation">dispatch onlocation</a><span>, in § 2.2</span>
   <li><a href="#permissionsmixin-dispatch-onpromptaction">dispatch onpromptaction</a><span>, in § 3.2.2</span>
   <li><a href="#permissionsmixin-dispatch-onpromptdismiss">dispatch onpromptdismiss</a><span>, in § 3.2.2</span>
   <li><a href="#dom-htmlgeolocationelement-error">error</a><span>, in § 2</span>
   <li><a href="#expiring-blocker">Expiring blocker</a><span>, in § 3.1.2</span>
   <li><a href="#dom-permissionsmixin-features-slot">[[Features]]</a><span>, in § 3.2.1</span>
   <li><a href="#htmlgeolocationelement-fetch-location">fetch location</a><span>, in § 2.2</span>
   <li><a href="#elementdef-geolocation">geolocation</a><span>, in § 2</span>
   <li><a href="#permissionsmixin-get-the-current-permission-state">get the current permission state</a><span>, in § 3.2.2</span>
   <li><a href="#htmlgeolocationelement">HTMLGeolocationElement</a><span>, in § 2</span>
   <li><a href="#dom-htmlgeolocationelement-constructor">HTMLGeolocationElement()</a><span>, in § 2.2</span>
   <li><a href="#dom-activationblockersmixinblockerreason-illegal_subframe">"illegal_subframe"</a><span>, in § 3.1.2</span>
   <li><a href="#permissionsmixin-initialization-steps">initialization steps</a><span>, in § 3.2.2</span>
   <li><a href="#dom-permissionsmixin-initialpermissionstatus-slot">[[InitialPermissionStatus]]</a><span>, in § 3.2.1</span>
   <li><a href="#dom-permissionsmixin-initialpermissionstatus">initialPermissionStatus</a><span>, in § 3.2.2</span>
   <li>
    insertion steps
    <ul>
     <li><a href="#htmlgeolocationelement-insertion-steps">dfn for HTMLGeolocationElement</a><span>, in § 2.2</span>
     <li><a href="#permissionsmixin-insertion-steps">dfn for PermissionsMixin</a><span>, in § 3.2.2</span>
    </ul>
   <li><a href="#dom-activationblockersmixinblockerreason-intersection_changed">"intersection_changed"</a><span>, in § 3.1.2</span>
   <li><a href="#dom-activationblockersmixin-intersectionobserver-slot">[[IntersectionObserver]]</a><span>, in § 3.1.1</span>
   <li><a href="#activationblockersmixin-intersectionobserver-callback">IntersectionObserver callback</a><span>, in § 3.1.3</span>
   <li><a href="#dom-activationblockersmixinblockerreason-intersection_occluded_or_distorted">"intersection_occluded_or_distorted"</a><span>, in § 3.1.2</span>
   <li><a href="#dom-activationblockersmixinblockerreason-intersection_out_of_viewport_or_clipped">"intersection_out_of_viewport_or_clipped"</a><span>, in § 3.1.2</span>
   <li><a href="#dom-activationblockersmixin-intersectionrect-slot">[[IntersectionRect]]</a><span>, in § 3.1.1</span>
   <li><a href="#dom-activationblockersmixin-invalidreason">invalidReason</a><span>, in § 3.1.3</span>
   <li><a href="#dom-activationblockersmixin-isvalid">isValid</a><span>, in § 3.1.3</span>
   <li><a href="#dom-activationblockersmixin-lastnotifiedinvalidreason-slot">[[LastNotifiedInvalidReason]]</a><span>, in § 3.1.1</span>
   <li><a href="#dom-activationblockersmixin-lastnotifiedvalidstate-slot">[[LastNotifiedValidState]]</a><span>, in § 3.1.1</span>
   <li><a href="#htmlgeolocationelement-maybe-autolocate">maybe autolocate</a><span>, in § 2.2</span>
   <li><a href="#activationblockersmixin-maybe-dispatch-onvalidstatechange">maybe dispatch onvalidstatechange</a><span>, in § 3.1.3</span>
   <li><a href="#dom-htmlgeolocationelement-onlocation">onlocation</a><span>, in § 2</span>
   <li><a href="#dom-permissionsmixin-onpromptaction">onpromptaction</a><span>, in § 3.2</span>
   <li><a href="#dom-permissionsmixin-onpromptdismiss">onpromptdismiss</a><span>, in § 3.2</span>
   <li><a href="#dom-activationblockersmixin-onvalidationstatuschange">onvalidationstatuschange</a><span>, in § 3.1</span>
   <li><a href="#permanent-blocker">Permanent blocker</a><span>, in § 3.1.2</span>
   <li><a href="#dom-navigable-permissionelements-slot">[[PermissionElements]]</a><span>, in § 2.1.1</span>
   <li><a href="#permissionsmixin">PermissionsMixin</a><span>, in § 3.2</span>
   <li><a href="#permissionsmixin-permissionsmixin-attributes">PermissionsMixin attributes</a><span>, in § 3.2</span>
   <li><a href="#dom-permissionsmixin-permissionstatus">permissionStatus</a><span>, in § 3.2.2</span>
   <li><a href="#dom-htmlgeolocationelement-position-slot">[[position]]</a><span>, in § 2.1</span>
   <li><a href="#dom-htmlgeolocationelement-position">position</a><span>, in § 2</span>
   <li><a href="#dom-htmlgeolocationelement-positionerror-slot">[[positionError]]</a><span>, in § 2.1</span>
   <li><a href="#dom-activationblockersmixinblockerreason-recently_attached">"recently_attached"</a><span>, in § 3.1.2</span>
   <li><a href="#htmlgeolocationelement-recheck-type-permissibility">recheck type permissibility</a><span>, in § 2.2</span>
   <li><a href="#activationblockersmixin-remove-blockers">remove blockers</a><span>, in § 3.1.3</span>
   <li><a href="#dom-activationblockersmixinblockerreason-style_invalid">"style_invalid"</a><span>, in § 3.1.2</span>
   <li><a href="#temporary-blocker">Temporary blocker</a><span>, in § 3.1.2</span>
   <li><a href="#dom-activationblockersmixinblockerreason-type_invalid">"type_invalid"</a><span>, in § 3.1.2</span>
   <li><a href="#htmlgeolocationelement-type-permissible">type permissible</a><span>, in § 2.2</span>
   <li><a href="#dom-activationblockersmixinblockerreason-unsuccesful_registration">"unsuccesful_registration"</a><span>, in § 3.1.2</span>
   <li>
    watch
    <ul>
     <li><a href="#dom-htmlgeolocationelement-watch">attribute for HTMLGeolocationElement</a><span>, in § 2</span>
     <li><a href="#element-attrdef-geolocation-watch">element-attr for geolocation</a><span>, in § 2</span>
    </ul>
   <li><a href="#dom-htmlgeolocationelement-watchids-slot">[[watchIDs]]</a><span>, in § 2.1</span>
  </ul>
  <h3 class="heading no-num no-ref settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[COMPOSITING-2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="73e0120b">isolation</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-ALIGN-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="48350e83">align-self</span>
     <li><span class="dfn-paneled" id="0fdaa620">justify-self</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-ANCHOR-POSITION-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="be2c21cf">anchor-name</span>
     <li><span class="dfn-paneled" id="0f50e922">position-anchor</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-BORDERS-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="3fcbecdc">border</span>
     <li><span class="dfn-paneled" id="e697420b">border-bottom</span>
     <li><span class="dfn-paneled" id="6daf8b2a">border-left</span>
     <li><span class="dfn-paneled" id="7d1d6278">border-right</span>
     <li><span class="dfn-paneled" id="8b0ff70b">border-top</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-BREAK-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="2589df91">orphans</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-COLOR-ADJUST-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="c373c5f8">color-scheme</span>
     <li><span class="dfn-paneled" id="259a4df0">forced-color-adjust</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-CONDITIONAL-5]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="9d6acddc">container-name</span>
     <li><span class="dfn-paneled" id="c1bccc47">container-type</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-DISPLAY-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="f210b721">order</span>
     <li><span class="dfn-paneled" id="12f8fb07">visibility</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-FLEXBOX-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="73a16e8f">flex</span>
     <li><span class="dfn-paneled" id="7de09c13">flex-basis</span>
     <li><span class="dfn-paneled" id="edc3a18b">flex-grow</span>
     <li><span class="dfn-paneled" id="d893440d">flex-shrink</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-FONTS-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="55ca59ee">&lt;relative-size></span>
     <li><span class="dfn-paneled" id="00d808eb">font-feature-settings</span>
     <li><span class="dfn-paneled" id="1bebb82c">font-kerning</span>
     <li><span class="dfn-paneled" id="37bdfca9">font-optical-sizing</span>
     <li><span class="dfn-paneled" id="e7cd6f5a">font-stretch</span>
     <li><span class="dfn-paneled" id="f87501d6">font-synthesis-small-caps</span>
     <li><span class="dfn-paneled" id="0a890353">font-synthesis-style</span>
     <li><span class="dfn-paneled" id="31d1bef8">font-synthesis-weight</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-LISTS-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="b8d7db46">counter-increment</span>
     <li><span class="dfn-paneled" id="17d6dd37">counter-reset</span>
     <li><span class="dfn-paneled" id="fffe4623">counter-set</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-OVERSCROLL-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="01880ccf">overscroll-behavior</span>
     <li><span class="dfn-paneled" id="b219dc96">overscroll-behavior-block</span>
     <li><span class="dfn-paneled" id="42ccd6c5">overscroll-behavior-inline</span>
     <li><span class="dfn-paneled" id="72ea3a96">overscroll-behavior-x</span>
     <li><span class="dfn-paneled" id="329db82b">overscroll-behavior-y</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-PAGE-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="decf3b99">page</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-POSITION-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="dde41168">left</span>
     <li><span class="dfn-paneled" id="b8a0ba74">position</span>
     <li><span class="dfn-paneled" id="b0b8d8c0">right</span>
     <li><span class="dfn-paneled" id="e1483d91">top</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-RUBY-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="dd21c139">ruby-position</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-SCROLL-ANCHORING-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="2d5b9b69">overflow-anchor</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-SCROLL-SNAP-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="08011fc6">scroll-margin</span>
     <li><span class="dfn-paneled" id="ef338520">scroll-margin-left</span>
     <li><span class="dfn-paneled" id="b392a66a">scroll-margin-right</span>
     <li><span class="dfn-paneled" id="fb8e6438">scroll-margin-top</span>
     <li><span class="dfn-paneled" id="aa9d496e">scroll-padding</span>
     <li><span class="dfn-paneled" id="9b166ddb">scroll-padding-block-end</span>
     <li><span class="dfn-paneled" id="5dea8beb">scroll-padding-block-start</span>
     <li><span class="dfn-paneled" id="dcca73ef">scroll-padding-bottom</span>
     <li><span class="dfn-paneled" id="3733a815">scroll-padding-inline-end</span>
     <li><span class="dfn-paneled" id="475d27ea">scroll-padding-inline-start</span>
     <li><span class="dfn-paneled" id="aa7ec909">scroll-padding-left</span>
     <li><span class="dfn-paneled" id="2e4a74cb">scroll-padding-right</span>
     <li><span class="dfn-paneled" id="8a745a4c">scroll-padding-top</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-SIZING-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="68019d7a">height</span>
     <li><span class="dfn-paneled" id="88643fe0">width</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-SIZING-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="36fd3b67">aspect-ratio</span>
     <li><span class="dfn-paneled" id="87205ec4">contain-intrinsic-height</span>
     <li><span class="dfn-paneled" id="8dd12dcb">contain-intrinsic-width</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-TEXT-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="e58fed16">text-spacing-trim</span>
     <li><span class="dfn-paneled" id="cbc54f93">text-transform</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-UI-4]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="6f01662d">non-devolvable widget</span>
     <li><span class="dfn-paneled" id="355da394">outline</span>
     <li><span class="dfn-paneled" id="1ee7f091">outline-color</span>
     <li><span class="dfn-paneled" id="d84118c0">outline-offset</span>
     <li><span class="dfn-paneled" id="1a55f38d">outline-style</span>
     <li><span class="dfn-paneled" id="e9bc15aa">user-select</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS-WILL-CHANGE-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="34de5360">will-change</span>
    </ul>
   <li>
    <a data-link-type="biblio">[CSS2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="9436e460">clear</span>
     <li><span class="dfn-paneled" id="eff1f6e9">computed value</span>
     <li><span class="dfn-paneled" id="0570259e">float</span>
     <li><span class="dfn-paneled" id="50348b93">inherit</span>
     <li><span class="dfn-paneled" id="4ad610fb">small</span>
     <li><span class="dfn-paneled" id="a7bd8ceb">specified value</span>
     <li><span class="dfn-paneled" id="5fe22d95">viewport</span>
     <li><span class="dfn-paneled" id="36f058ec">xx-large</span>
     <li><span class="dfn-paneled" id="c82d6e13">z-index</span>
    </ul>
   <li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="129bdae8">Event</span>
     <li><span class="dfn-paneled" id="bec14ad5">activation behavior</span>
     <li><span class="dfn-paneled" id="a09017ef">bubbles</span>
     <li><span class="dfn-paneled" id="d996d257">cancelable</span>
     <li><span class="dfn-paneled" id="1372f92a">dispatch</span>
     <li><span class="dfn-paneled" id="a973e0fe">document</span>
     <li><span class="dfn-paneled" id="770d5330">initialize</span>
     <li><span class="dfn-paneled" id="838900a7">isTrusted</span>
     <li><span class="dfn-paneled" id="62e9a98d">removing steps</span>
     <li><span class="dfn-paneled" id="9d09d04c">type <small>(for Event)</small></span>
     <li><span class="dfn-paneled" id="3dca8953">type <small>(for Event/initEvent(type, bubbles, cancelable))</small></span>
    </ul>
   <li>
    <a data-link-type="biblio">[FENCED-FRAME]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="86804dc9">fenced navigable</span>
     <li><span class="dfn-paneled" id="c914c650">fencedframe</span>
    </ul>
   <li>
    <a data-link-type="biblio">[GEOLOCATION]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="08c613b0">"geolocation"</span>
     <li><span class="dfn-paneled" id="583af179">Geolocation</span>
     <li><span class="dfn-paneled" id="14fbdaca">GeolocationPosition</span>
     <li><span class="dfn-paneled" id="14a8c7a7">GeolocationPositionError</span>
     <li><span class="dfn-paneled" id="372496a8">PositionCallback</span>
     <li><span class="dfn-paneled" id="40169f4b">PositionErrorCallback</span>
     <li><span class="dfn-paneled" id="54f0976d">enableHighAccuracy</span>
     <li><span class="dfn-paneled" id="0a0c7db3">getCurrentPosition()</span>
     <li><span class="dfn-paneled" id="75ee8688">request a position</span>
     <li><span class="dfn-paneled" id="9ee4791f">watchPosition()</span>
    </ul>
   <li>
    <a data-link-type="biblio">[GEOMETRY-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="956a2c19">DOMRectReadOnly</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HR-TIME-3]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="7e7cc1d8">current high resolution time</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="402ed79d">CEReactions</span>
     <li><span class="dfn-paneled" id="f0951476">EventHandler</span>
     <li><span class="dfn-paneled" id="973aaf8e">HTMLConstructor</span>
     <li><span class="dfn-paneled" id="b08d0bb2">HTMLElement</span>
     <li><span class="dfn-paneled" id="a0be88cd">HTMLUnknownElement</span>
     <li><span class="dfn-paneled" id="c207bdef">Reflect</span>
     <li><span class="dfn-paneled" id="5fd912e7">accessibility considerations</span>
     <li><span class="dfn-paneled" id="bfff6250">button</span>
     <li><span class="dfn-paneled" id="68675e70">content attributes</span>
     <li><span class="dfn-paneled" id="88766833">content model</span>
     <li><span class="dfn-paneled" id="3c915747">contexts in which this element can be used</span>
     <li><span class="dfn-paneled" id="317acf49">DOM interface</span>
     <li><span class="dfn-paneled" id="96e13811">enumerated attribute</span>
     <li><span class="dfn-paneled" id="6a5a59a0">event handler</span>
     <li><span class="dfn-paneled" id="9d386f55">event handler event type</span>
     <li><span class="dfn-paneled" id="c7740004">fallback content</span>
     <li><span class="dfn-paneled" id="1236ac1a">flow content</span>
     <li><span class="dfn-paneled" id="8fc74046">global attributes</span>
     <li><span class="dfn-paneled" id="bd7d36d0">interactive content</span>
     <li><span class="dfn-paneled" id="9da19fa0">lang <small>(for HTMLElement)</small></span>
     <li><span class="dfn-paneled" id="e30e7b38">lang <small>(for html-global)</small></span>
     <li><span class="dfn-paneled" id="d4dbbbf0">language</span>
     <li><span class="dfn-paneled" id="9c19b7fc">navigable</span>
     <li><span class="dfn-paneled" id="13dd6cae">node navigable</span>
     <li><span class="dfn-paneled" id="d54eeea2">palpable content</span>
     <li><span class="dfn-paneled" id="e5a7e26c">phrasing content</span>
     <li><span class="dfn-paneled" id="e99bd18e">relevant global object</span>
     <li><span class="dfn-paneled" id="073cf09c">represent</span>
     <li><span class="dfn-paneled" id="96797491">tabindex</span>
     <li><span class="dfn-paneled" id="17582406">traversable navigable</span>
    </ul>
   <li>
    <a data-link-type="biblio">[INFRA]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="53275e46">append <small>(for list)</small></span>
     <li><span class="dfn-paneled" id="a3b18719">append <small>(for set)</small></span>
     <li><span class="dfn-paneled" id="77b4c09a">assert</span>
     <li><span class="dfn-paneled" id="36858240">boolean</span>
     <li><span class="dfn-paneled" id="7b0d918d">break</span>
     <li><span class="dfn-paneled" id="ae8def21">contain</span>
     <li><span class="dfn-paneled" id="03afaf9c">empty</span>
     <li><span class="dfn-paneled" id="9e466493">equal</span>
     <li><span class="dfn-paneled" id="860300d4">implementation-defined</span>
     <li><span class="dfn-paneled" id="7a87d819">is</span>
     <li><span class="dfn-paneled" id="6b815fdd">is empty</span>
     <li><span class="dfn-paneled" id="5afbefcd">item</span>
     <li><span class="dfn-paneled" id="f02cd417">iterate</span>
     <li><span class="dfn-paneled" id="649608b9">list</span>
     <li><span class="dfn-paneled" id="692595fe">ordered set</span>
     <li><span class="dfn-paneled" id="99c988d6">remove</span>
     <li><span class="dfn-paneled" id="95c866a0">sorting</span>
     <li><span class="dfn-paneled" id="0698d556">string</span>
     <li><span class="dfn-paneled" id="6d19ac93">user agent</span>
    </ul>
   <li>
    <a data-link-type="biblio">[INTERSECTION-OBSERVER]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="9be179f5">IntersectionObserver</span>
     <li><span class="dfn-paneled" id="5a37bda5">IntersectionObserverCallback</span>
     <li><span class="dfn-paneled" id="ec650328">IntersectionObserverEntry</span>
     <li><span class="dfn-paneled" id="420a43d6">intersectionRatio</span>
     <li><span class="dfn-paneled" id="5efd52e0">intersectionRect</span>
     <li><span class="dfn-paneled" id="e22643f2">isVisible</span>
     <li><span class="dfn-paneled" id="45cd855a">root</span>
     <li><span class="dfn-paneled" id="4dc2902c">rootMargin</span>
    </ul>
   <li>
    <a data-link-type="biblio">[MANIFEST-APP-INFO]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="ada784a3">categories</span>
    </ul>
   <li>
    <a data-link-type="biblio">[MEDIAQUERIES-5]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="4c646d7b">contrast ratio</span>
    </ul>
   <li>
    <a data-link-type="biblio">[Permissions]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="ebb01253">PermissionDescriptor</span>
     <li><span class="dfn-paneled" id="6c3bee60">PermissionState</span>
     <li><span class="dfn-paneled" id="2cb28cb0">denied</span>
     <li><span class="dfn-paneled" id="0a0813e6">get the current permission state</span>
     <li><span class="dfn-paneled" id="c6ce3c60">granted</span>
     <li><span class="dfn-paneled" id="3f5a365a">permission</span>
     <li><span class="dfn-paneled" id="d124397f">permission state</span>
     <li><span class="dfn-paneled" id="6c2d7879">powerful feature</span>
     <li><span class="dfn-paneled" id="325da0f2">prompt</span>
     <li><span class="dfn-paneled" id="c2430fbb">prompt the user to choose</span>
     <li><span class="dfn-paneled" id="bcc085e3">request permission to use</span>
    </ul>
   <li>
    <a data-link-type="biblio">[SVG2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="bb72d539">text-rendering</span>
     <li><span class="dfn-paneled" id="801118f1">x</span>
     <li><span class="dfn-paneled" id="9987a023">y</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WAI-ARIA-1.2]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="e50bfdb1">role</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WEBIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="889e932f">Exposed</span>
     <li><span class="dfn-paneled" id="5372cca8">boolean</span>
     <li><span class="dfn-paneled" id="4013a022">this</span>
     <li><span class="dfn-paneled" id="e97a9688">unsigned long</span>
    </ul>
  </ul>
  <h2 class="heading no-num no-ref settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="heading no-num no-ref settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-compositing-2">[COMPOSITING-2]
   <dd><a href="https://drafts.fxtf.org/compositing-2/"><cite>Compositing and Blending Level 2</cite></a>. Editor's Draft. URL: <a href="https://drafts.fxtf.org/compositing-2/">https://drafts.fxtf.org/compositing-2/</a>
   <dt id="biblio-css-align-3">[CSS-ALIGN-3]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://drafts.csswg.org/css-align/"><cite>CSS Box Alignment Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-align/">https://drafts.csswg.org/css-align/</a>
   <dt id="biblio-css-anchor-position-1">[CSS-ANCHOR-POSITION-1]
   <dd>Tab Atkins Jr.; Elika Etemad; Ian Kilpatrick. <a href="https://drafts.csswg.org/css-anchor-position-1/"><cite>CSS Anchor Positioning Module Level 1</cite></a>. URL: <a href="https://drafts.csswg.org/css-anchor-position-1/">https://drafts.csswg.org/css-anchor-position-1/</a>
   <dt id="biblio-css-backgrounds-3">[CSS-BACKGROUNDS-3]
   <dd>Elika Etemad; Brad Kemper. <a href="https://drafts.csswg.org/css-backgrounds/"><cite>CSS Backgrounds and Borders Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-backgrounds/">https://drafts.csswg.org/css-backgrounds/</a>
   <dt id="biblio-css-borders-4">[CSS-BORDERS-4]
   <dd>Elika Etemad; et al. <a href="https://drafts.csswg.org/css-borders-4/"><cite>CSS Borders and Box Decorations Module Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/css-borders-4/">https://drafts.csswg.org/css-borders-4/</a>
   <dt id="biblio-css-break-3">[CSS-BREAK-3]
   <dd>Rossen Atanassov; Elika Etemad. <a href="https://drafts.csswg.org/css-break/"><cite>CSS Fragmentation Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-break/">https://drafts.csswg.org/css-break/</a>
   <dt id="biblio-css-color-adjust-1">[CSS-COLOR-ADJUST-1]
   <dd>Elika Etemad; et al. <a href="https://drafts.csswg.org/css-color-adjust-1/"><cite>CSS Color Adjustment Module Level 1</cite></a>. URL: <a href="https://drafts.csswg.org/css-color-adjust-1/">https://drafts.csswg.org/css-color-adjust-1/</a>
   <dt id="biblio-css-conditional-5">[CSS-CONDITIONAL-5]
   <dd>Chris Lilley; et al. <a href="https://drafts.csswg.org/css-conditional-5/"><cite>CSS Conditional Rules Module Level 5</cite></a>. URL: <a href="https://drafts.csswg.org/css-conditional-5/">https://drafts.csswg.org/css-conditional-5/</a>
   <dt id="biblio-css-display-4">[CSS-DISPLAY-4]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://drafts.csswg.org/css-display-4/"><cite>CSS Display Module Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/css-display-4/">https://drafts.csswg.org/css-display-4/</a>
   <dt id="biblio-css-flexbox-1">[CSS-FLEXBOX-1]
   <dd>Elika Etemad; Tab Atkins Jr.; Rossen Atanassov. <a href="https://drafts.csswg.org/css-flexbox/"><cite>CSS Flexible Box Layout Module Level 1</cite></a>. URL: <a href="https://drafts.csswg.org/css-flexbox/">https://drafts.csswg.org/css-flexbox/</a>
   <dt id="biblio-css-fonts-4">[CSS-FONTS-4]
   <dd>Chris Lilley. <a href="https://drafts.csswg.org/css-fonts-4/"><cite>CSS Fonts Module Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/css-fonts-4/">https://drafts.csswg.org/css-fonts-4/</a>
   <dt id="biblio-css-lists-3">[CSS-LISTS-3]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://drafts.csswg.org/css-lists-3/"><cite>CSS Lists and Counters Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-lists-3/">https://drafts.csswg.org/css-lists-3/</a>
   <dt id="biblio-css-overscroll-1">[CSS-OVERSCROLL-1]
   <dd>Majid Valipour. <a href="https://drafts.csswg.org/css-overscroll-1/"><cite>CSS Overscroll Behavior Module Level 1</cite></a>. URL: <a href="https://drafts.csswg.org/css-overscroll-1/">https://drafts.csswg.org/css-overscroll-1/</a>
   <dt id="biblio-css-page-3">[CSS-PAGE-3]
   <dd>Elika Etemad. <a href="https://drafts.csswg.org/css-page-3/"><cite>CSS Paged Media Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-page-3/">https://drafts.csswg.org/css-page-3/</a>
   <dt id="biblio-css-position-3">[CSS-POSITION-3]
   <dd>Elika Etemad; Tab Atkins Jr.. <a href="https://drafts.csswg.org/css-position-3/"><cite>CSS Positioned Layout Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-position-3/">https://drafts.csswg.org/css-position-3/</a>
   <dt id="biblio-css-ruby-1">[CSS-RUBY-1]
   <dd>Elika Etemad; et al. <a href="https://drafts.csswg.org/css-ruby-1/"><cite>CSS Ruby Annotation Layout Module Level 1</cite></a>. URL: <a href="https://drafts.csswg.org/css-ruby-1/">https://drafts.csswg.org/css-ruby-1/</a>
   <dt id="biblio-css-scroll-anchoring-1">[CSS-SCROLL-ANCHORING-1]
   <dd>Tab Atkins Jr.. <a href="https://drafts.csswg.org/css-scroll-anchoring/"><cite>CSS Scroll Anchoring Module Level 1</cite></a>. URL: <a href="https://drafts.csswg.org/css-scroll-anchoring/">https://drafts.csswg.org/css-scroll-anchoring/</a>
   <dt id="biblio-css-scroll-snap-1">[CSS-SCROLL-SNAP-1]
   <dd>Matt Rakow; et al. <a href="https://drafts.csswg.org/css-scroll-snap-1/"><cite>CSS Scroll Snap Module Level 1</cite></a>. URL: <a href="https://drafts.csswg.org/css-scroll-snap-1/">https://drafts.csswg.org/css-scroll-snap-1/</a>
   <dt id="biblio-css-sizing-3">[CSS-SIZING-3]
   <dd>Tab Atkins Jr.; Elika Etemad. <a href="https://drafts.csswg.org/css-sizing-3/"><cite>CSS Box Sizing Module Level 3</cite></a>. URL: <a href="https://drafts.csswg.org/css-sizing-3/">https://drafts.csswg.org/css-sizing-3/</a>
   <dt id="biblio-css-sizing-4">[CSS-SIZING-4]
   <dd>Tab Atkins Jr.; Elika Etemad; Jen Simmons. <a href="https://drafts.csswg.org/css-sizing-4/"><cite>CSS Box Sizing Module Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/css-sizing-4/">https://drafts.csswg.org/css-sizing-4/</a>
   <dt id="biblio-css-text-4">[CSS-TEXT-4]
   <dd>Elika Etemad; et al. <a href="https://drafts.csswg.org/css-text-4/"><cite>CSS Text Module Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/css-text-4/">https://drafts.csswg.org/css-text-4/</a>
   <dt id="biblio-css-ui-4">[CSS-UI-4]
   <dd>Florian Rivoal. <a href="https://drafts.csswg.org/css-ui-4/"><cite>CSS Basic User Interface Module Level 4</cite></a>. URL: <a href="https://drafts.csswg.org/css-ui-4/">https://drafts.csswg.org/css-ui-4/</a>
   <dt id="biblio-css-will-change-1">[CSS-WILL-CHANGE-1]
   <dd>Tab Atkins Jr.. <a href="https://drafts.csswg.org/css-will-change/"><cite>CSS Will Change Module Level 1</cite></a>. URL: <a href="https://drafts.csswg.org/css-will-change/">https://drafts.csswg.org/css-will-change/</a>
   <dt id="biblio-css2">[CSS2]
   <dd>Bert Bos; et al. <a href="https://drafts.csswg.org/css2/"><cite>Cascading Style Sheets Level 2 Revision 1 (CSS 2.1) Specification</cite></a>. URL: <a href="https://drafts.csswg.org/css2/">https://drafts.csswg.org/css2/</a>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/"><cite>DOM Standard</cite></a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-fenced-frame">[FENCED-FRAME]
   <dd><a href="https://wicg.github.io/fenced-frame/"><cite>Fenced Frame</cite></a>. Draft Community Group Report. URL: <a href="https://wicg.github.io/fenced-frame/">https://wicg.github.io/fenced-frame/</a>
   <dt id="biblio-geolocation">[GEOLOCATION]
   <dd>Marcos Caceres; Reilly Grant. <a href="https://w3c.github.io/geolocation/"><cite>Geolocation</cite></a>. URL: <a href="https://w3c.github.io/geolocation/">https://w3c.github.io/geolocation/</a>
   <dt id="biblio-geometry-1">[GEOMETRY-1]
   <dd>Sebastian Zartner; Yehonatan Daniv. <a href="https://drafts.csswg.org/geometry/"><cite>Geometry Interfaces Module Level 1</cite></a>. URL: <a href="https://drafts.csswg.org/geometry/">https://drafts.csswg.org/geometry/</a>
   <dt id="biblio-hr-time-3">[HR-TIME-3]
   <dd>Yoav Weiss. <a href="https://w3c.github.io/hr-time/"><cite>High Resolution Time</cite></a>. URL: <a href="https://w3c.github.io/hr-time/">https://w3c.github.io/hr-time/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-infra">[INFRA]
   <dd>Anne van Kesteren; Domenic Denicola. <a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a>
   <dt id="biblio-intersection-observer">[INTERSECTION-OBSERVER]
   <dd>Stefan Zager; Emilio Cobos Álvarez; Traian Captan. <a href="https://w3c.github.io/IntersectionObserver/"><cite>Intersection Observer</cite></a>. URL: <a href="https://w3c.github.io/IntersectionObserver/">https://w3c.github.io/IntersectionObserver/</a>
   <dt id="biblio-manifest-app-info">[MANIFEST-APP-INFO]
   <dd>Aaron Gustafson. <a href="https://w3c.github.io/manifest-app-info/"><cite>Web App Manifest - Application Information</cite></a>. URL: <a href="https://w3c.github.io/manifest-app-info/">https://w3c.github.io/manifest-app-info/</a>
   <dt id="biblio-mediaqueries-5">[MEDIAQUERIES-5]
   <dd>Dean Jackson; et al. <a href="https://drafts.csswg.org/mediaqueries-5/"><cite>Media Queries Level 5</cite></a>. URL: <a href="https://drafts.csswg.org/mediaqueries-5/">https://drafts.csswg.org/mediaqueries-5/</a>
   <dt id="biblio-permissions">[Permissions]
   <dd>Marcos Caceres; Mike Taylor. <a href="https://w3c.github.io/permissions/"><cite>Permissions</cite></a>. URL: <a href="https://w3c.github.io/permissions/">https://w3c.github.io/permissions/</a>
   <dt id="biblio-svg2">[SVG2]
   <dd>Amelia Bellamy-Royds; et al. <a href="https://svgwg.org/svg2-draft/"><cite>Scalable Vector Graphics (SVG) 2</cite></a>. URL: <a href="https://svgwg.org/svg2-draft/">https://svgwg.org/svg2-draft/</a>
   <dt id="biblio-wai-aria-12">[WAI-ARIA-1.2]
   <dd>Joanmarie Diggs; et al. <a href="https://w3c.github.io/aria/"><cite>Accessible Rich Internet Applications (WAI-ARIA) 1.2</cite></a>. URL: <a href="https://w3c.github.io/aria/">https://w3c.github.io/aria/</a>
   <dt id="biblio-webidl">[WEBIDL]
   <dd>Edgar Chen; Timothy Gu. <a href="https://webidl.spec.whatwg.org/"><cite>Web IDL Standard</cite></a>. Living Standard. URL: <a href="https://webidl.spec.whatwg.org/">https://webidl.spec.whatwg.org/</a>
  </dl>
  <h3 class="heading no-num no-ref settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-wai-aria">[WAI-ARIA]
   <dd>James Craig; Michael Cooper; et al. <a href="https://www.w3.org/TR/wai-aria/"><cite>Accessible Rich Internet Applications (WAI-ARIA) 1.0</cite></a>. 20 March 2014. REC. URL: <a href="https://www.w3.org/TR/wai-aria/">https://www.w3.org/TR/wai-aria/</a>
  </dl>
  <h2 class="heading no-num no-ref settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="def highlight idl">[<a class="idl-code" data-link-type="extended-attribute" href="https://webidl.spec.whatwg.org/#Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#htmlgeolocationelement"><code><c- g>HTMLGeolocationElement</c-></code></a> : <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/dom.html#htmlelement"><c- n>HTMLElement</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/dom.html#htmlconstructor"><c- g>HTMLConstructor</c-></a>] <a class="idl-code" data-link-type="constructor" href="#dom-htmlgeolocationelement-constructor"><c- g>constructor</c-></a>();

  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://w3c.github.io/geolocation/#dom-geolocationposition"><c- n>GeolocationPosition</c-></a>? <a data-readonly data-type="GeolocationPosition?" href="#dom-htmlgeolocationelement-position"><code><c- g>position</c-></code></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://w3c.github.io/geolocation/#dom-geolocationpositionerror"><c- n>GeolocationPositionError</c-></a>? <a data-readonly data-type="GeolocationPositionError?" href="#dom-htmlgeolocationelement-error"><code><c- g>error</c-></code></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions"><c- g>CEReactions</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#xattr-reflect"><c- g>Reflect</c-></a>] <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-type="boolean" href="#dom-htmlgeolocationelement-autolocate"><code><c- g>autolocate</c-></code></a>;
  [<a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions"><c- g>CEReactions</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#xattr-reflect"><c- g>Reflect</c-></a>] <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a data-type="boolean" href="#dom-htmlgeolocationelement-watch"><code><c- g>watch</c-></code></a>;

  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-htmlgeolocationelement-onlocation"><code><c- g>onlocation</c-></code></a>;
};
<a data-link-type="idl-name" href="#htmlgeolocationelement"><c- n>HTMLGeolocationElement</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#activationblockersmixin"><c- n>ActivationBlockersMixin</c-></a>;
<a data-link-type="idl-name" href="#htmlgeolocationelement"><c- n>HTMLGeolocationElement</c-></a> <c- b>includes</c-> <a data-link-type="idl-name" href="#permissionsmixin"><c- n>PermissionsMixin</c-></a>;

<c- b>interface</c-> <c- b>mixin</c-> <a href="#activationblockersmixin"><code><c- g>ActivationBlockersMixin</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://webidl.spec.whatwg.org/#idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-activationblockersmixin-isvalid"><c- g>isValid</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="#enumdef-activationblockersmixinblockerreason"><c- n>ActivationBlockersMixinBlockerReason</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="ActivationBlockersMixinBlockerReason" href="#dom-activationblockersmixin-invalidreason"><c- g>invalidReason</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-activationblockersmixin-onvalidationstatuschange"><code><c- g>onvalidationstatuschange</c-></code></a>;
};

<c- b>enum</c-> <a href="#enumdef-activationblockersmixinblockerreason"><code><c- g>ActivationBlockersMixinBlockerReason</c-></code></a> {
  <a href="#dom-activationblockersmixinblockerreason"><code><c- s>""</c-></code></a>,   // No blocker reason.
  <a href="#dom-activationblockersmixinblockerreason-illegal_subframe"><code><c- s>"illegal_subframe"</c-></code></a>, <a href="#dom-activationblockersmixinblockerreason-unsuccesful_registration"><code><c- s>"unsuccesful_registration"</c-></code></a>,
  <a href="#dom-activationblockersmixinblockerreason-recently_attached"><code><c- s>"recently_attached"</c-></code></a>, <a href="#dom-activationblockersmixinblockerreason-intersection_changed"><code><c- s>"intersection_changed"</c-></code></a>,
  <a href="#dom-activationblockersmixinblockerreason-intersection_out_of_viewport_or_clipped"><code><c- s>"intersection_out_of_viewport_or_clipped"</c-></code></a>,
  <a href="#dom-activationblockersmixinblockerreason-intersection_occluded_or_distorted"><code><c- s>"intersection_occluded_or_distorted"</c-></code></a>, <a href="#dom-activationblockersmixinblockerreason-style_invalid"><code><c- s>"style_invalid"</c-></code></a>,
  <a href="#dom-activationblockersmixinblockerreason-type_invalid"><code><c- s>"type_invalid"</c-></code></a>,
};

<c- b>interface</c-> <c- b>mixin</c-> <a href="#permissionsmixin"><code><c- g>PermissionsMixin</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://w3c.github.io/permissions/#dom-permissionstate"><c- n>PermissionState</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="PermissionState" href="#dom-permissionsmixin-initialpermissionstatus"><c- g>initialPermissionStatus</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a data-link-type="idl-name" href="https://w3c.github.io/permissions/#dom-permissionstate"><c- n>PermissionState</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="PermissionState" href="#dom-permissionsmixin-permissionstatus"><c- g>permissionStatus</c-></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-permissionsmixin-onpromptaction"><code><c- g>onpromptaction</c-></code></a>;
  <c- b>attribute</c-> <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"><c- n>EventHandler</c-></a> <a data-type="EventHandler" href="#dom-permissionsmixin-onpromptdismiss"><code><c- g>onpromptdismiss</c-></code></a>;
};

</pre>
  <h2 class="heading no-num no-ref settled" id="issues-index"><span class="content">Issues Index</span><a class="self-link" href="#issues-index"></a></h2>
  <div style="counter-reset:issue">
   <div class="issue"> <a data-link-type="biblio" href="#biblio-wai-aria" title="Accessible Rich Internet Applications (WAI-ARIA) 1.0">[WAI-ARIA]</a> specifies <a data-link-type="dfn" href="https://w3c.github.io/aria/#dfn-role">roles</a> for in-page content.
    It is yet  unclear whether or how the <code><a data-link-type="element" href="#elementdef-geolocation">geolocation</a></code> element fits into
    the existing set of roles.
    Given that this element triggers <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-permission">permission</a> requests, one could argue
    that whatever accessibility concerns apply there should cover this element
    as well. On the other hand, more specialized treatment may lead to better
    support for users. <a class="issue-return" href="#issue-8e79e1dc" title="Jump to section">↵</a></div>
   <div class="issue"> In <a href="#rendering">§ 3.4 Styling, and Styling Restrictions</a>, this specification defines elaborate restrictions on
    how <code><a data-link-type="element" href="#elementdef-geolocation">geolocation</a></code> elements can be rendered. It’s unclear whether there
    need to be similarly spirited restrictions on which ARIA attributes can
    be applied. <a class="issue-return" href="#issue-4e74a649" title="Jump to section">↵</a></div>
   <div class="issue"> The <a data-link-type="biblio" href="#biblio-permissions" title="Permissions">[Permissions]</a> spec assumes that <a data-link-type="dfn" href="https://w3c.github.io/permissions/#dfn-request-permission-to-use">request permission to use</a>
will always succeed. That is, it assumes that the user will always make a
choice and that the algorithm will always deliver a <code>grant</code>/<code>deny</code>
answer corresponding to that choice. But you can’t force a user to do that.
Some <a data-link-type="dfn" href="https://infra.spec.whatwg.org/#user-agent">user agents</a> may have different UI affordances for an explicit
denial (e.g. a "deny" button) on one hand, and cancelling or dismissing the
request dialog (e.g. an "X" button in the top right corner). Here, we
distinguish between these two actions, despite no clear hook for this
in the underlying specification. <a class="issue-return" href="#issue-5dfff302" title="Jump to section">↵</a></div>
   <div class="issue"> Do I need to define dictionary equality? <a class="issue-return" href="#issue-9a5604dc" title="Jump to section">↵</a></div>
   <div class="issue"> It’s not clear what the PermissionState for 'no valid permission type'
    should be. Here I pick "prompt" based on Chrome’s implementation; but that
    choice is arbitrary. <a class="issue-return" href="#issue-1eb6288e" title="Jump to section">↵</a></div>
   <div class="issue"> The <a data-link-type="biblio" href="#biblio-permissions" title="Permissions">[Permissions]</a> specification assumes a descriptor describes a
single permission without parameters (like an equivalent of
<code class="idl"><a data-link-type="idl" href="https://w3c.github.io/geolocation/#dom-positionoptions-enablehighaccuracy">enableHighAccuracy</a></code>). Here, we assume a permissions model
that is more expressive. This needs to be resolved -- likely upstream,
in <a data-link-type="biblio" href="#biblio-permissions" title="Permissions">[Permissions]</a>, plus adaptions here. <a class="issue-return" href="#issue-f681da45" title="Jump to section">↵</a></div>
   <div class="issue"> There isn’t much precedence for describing the user agent UI in detail.
    It may be better to leave more freedom to user agents. <a class="issue-return" href="#issue-59f2ad87" title="Jump to section">↵</a></div>
   <div class="issue"> Define "alpha". <a class="issue-return" href="#issue-76cb758c" title="Jump to section">↵</a></div>
  </div>
<script>/* Boilerplate: script-dom-helper */
"use strict";
function query(sel) { return document.querySelector(sel); }

function queryAll(sel) { return [...document.querySelectorAll(sel)]; }

function iter(obj) {
	if(!obj) return [];
	var it = obj[Symbol.iterator];
	if(it) return it;
	return Object.entries(obj);
}

function mk(tagname, attrs, ...children) {
	const el = document.createElement(tagname);
	for(const [k,v] of iter(attrs)) {
		if(k.slice(0,3) == "_on") {
			const eventName = k.slice(3);
			el.addEventListener(eventName, v);
		} else if(k[0] == "_") {
			// property, not attribute
			el[k.slice(1)] = v;
		} else {
			if(v === false || v == null) {
        continue;
      } else if(v === true) {
        el.setAttribute(k, "");
        continue;
      } else {
  			el.setAttribute(k, v);
      }
		}
	}
	append(el, children);
	return el;
}

/* Create shortcuts for every known HTML element */
[
  "a",
  "abbr",
  "acronym",
  "address",
  "applet",
  "area",
  "article",
  "aside",
  "audio",
  "b",
  "base",
  "basefont",
  "bdo",
  "big",
  "blockquote",
  "body",
  "br",
  "button",
  "canvas",
  "caption",
  "center",
  "cite",
  "code",
  "col",
  "colgroup",
  "datalist",
  "dd",
  "del",
  "details",
  "dfn",
  "dialog",
  "div",
  "dl",
  "dt",
  "em",
  "embed",
  "fieldset",
  "figcaption",
  "figure",
  "font",
  "footer",
  "form",
  "frame",
  "frameset",
  "head",
  "header",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "hr",
  "html",
  "i",
  "iframe",
  "img",
  "input",
  "ins",
  "kbd",
  "label",
  "legend",
  "li",
  "link",
  "main",
  "map",
  "mark",
  "meta",
  "meter",
  "nav",
  "nobr",
  "noscript",
  "object",
  "ol",
  "optgroup",
  "option",
  "output",
  "p",
  "param",
  "pre",
  "progress",
  "q",
  "s",
  "samp",
  "script",
  "section",
  "select",
  "small",
  "source",
  "span",
  "strike",
  "strong",
  "style",
  "sub",
  "summary",
  "sup",
  "table",
  "tbody",
  "td",
  "template",
  "textarea",
  "tfoot",
  "th",
  "thead",
  "time",
  "title",
  "tr",
  "u",
  "ul",
  "var",
  "video",
  "wbr",
  "xmp",
].forEach(tagname=>{
	mk[tagname] = (...args) => mk(tagname, ...args);
});

function* nodesFromChildList(children) {
	for(const child of children.flat(Infinity)) {
		if(child instanceof Node) {
			yield child;
		} else {
			yield new Text(child);
		}
	}
}
function append(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		if(el instanceof Node) el.appendChild(child);
		else el.push(child);
	}
	return el;
}

function insertAfter(el, ...children) {
	for(const child of nodesFromChildList(children)) {
		el.parentNode.insertBefore(child, el.nextSibling);
	}
	return el;
}

function clearContents(el) {
	el.innerHTML = "";
	return el;
}

function parseHTML(markup) {
	if(markup.toLowerCase().trim().indexOf('<!doctype') === 0) {
		const doc = document.implementation.createHTMLDocument("");
		doc.documentElement.innerHTML = markup;
		return doc;
	} else {
		const el = mk.template({});
		el.innerHTML = markup;
		return el.content;
	}
}</script>
<script>/* Boilerplate: script-dfn-panel */
"use strict";
{
let dfnPanelData = {
"00d808eb": {"dfnID":"00d808eb","dfnText":"font-feature-settings","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-font-feature-settings"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-fonts-4/#propdef-font-feature-settings"},
"01880ccf": {"dfnID":"01880ccf","dfnText":"overscroll-behavior","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-overscroll-behavior"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-overscroll-1/#propdef-overscroll-behavior"},
"03afaf9c": {"dfnID":"03afaf9c","dfnText":"empty","external":true,"refSections":[{"refs":[{"id":"ref-for-list-empty"}],"title":"3.1.3. Algorithms"},{"refs":[{"id":"ref-for-list-empty\u2460"}],"title":"3.2.2. Algorithms"}],"url":"https://infra.spec.whatwg.org/#list-empty"},
"0570259e": {"dfnID":"0570259e","dfnText":"float","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-float"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css2/#propdef-float"},
"0698d556": {"dfnID":"0698d556","dfnText":"string","external":true,"refSections":[{"refs":[{"id":"ref-for-string"}],"title":"3.1.1. Internal state"}],"url":"https://infra.spec.whatwg.org/#string"},
"073cf09c": {"dfnID":"073cf09c","dfnText":"represent","external":true,"refSections":[{"refs":[{"id":"ref-for-represents"}],"title":"3.2.1. Internal state"}],"url":"https://html.spec.whatwg.org/multipage/dom.html#represents"},
"08011fc6": {"dfnID":"08011fc6","dfnText":"scroll-margin","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-scroll-margin"},{"id":"ref-for-propdef-scroll-margin\u2460"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-margin"},
"08c613b0": {"dfnID":"08c613b0","dfnText":"\"geolocation\"","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-geolocation"},{"id":"ref-for-dfn-geolocation\u2460"}],"title":"2. The geolocation Element"},{"refs":[{"id":"ref-for-dfn-geolocation\u2461"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-dfn-geolocation\u2462"}],"title":"2.3. geolocation element rendering"}],"url":"https://w3c.github.io/geolocation/#dfn-geolocation"},
"0a0813e6": {"dfnID":"0a0813e6","dfnText":"get the current permission state","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-getting-the-current-permission-state"}],"title":"3.2.2. Algorithms"}],"url":"https://w3c.github.io/permissions/#dfn-getting-the-current-permission-state"},
"0a0c7db3": {"dfnID":"0a0c7db3","dfnText":"getCurrentPosition()","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-geolocation-getcurrentposition"}],"title":"2. The geolocation Element"}],"url":"https://w3c.github.io/geolocation/#dom-geolocation-getcurrentposition"},
"0a890353": {"dfnID":"0a890353","dfnText":"font-synthesis-style","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-font-synthesis-style"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-fonts-4/#propdef-font-synthesis-style"},
"0f50e922": {"dfnID":"0f50e922","dfnText":"position-anchor","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-position-anchor"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-anchor-position-1/#propdef-position-anchor"},
"0fdaa620": {"dfnID":"0fdaa620","dfnText":"justify-self","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-justify-self"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-align-3/#propdef-justify-self"},
"1236ac1a": {"dfnID":"1236ac1a","dfnText":"flow content","external":true,"refSections":[{"refs":[{"id":"ref-for-flow-content-2"},{"id":"ref-for-flow-content-2\u2460"}],"title":"2. The geolocation Element"}],"url":"https://html.spec.whatwg.org/multipage/dom.html#flow-content-2"},
"129bdae8": {"dfnID":"129bdae8","dfnText":"Event","external":true,"refSections":[{"refs":[{"id":"ref-for-event"}],"title":"2. The geolocation Element"},{"refs":[{"id":"ref-for-event\u2460"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-event\u2461"}],"title":"3.1.3. Algorithms"},{"refs":[{"id":"ref-for-event\u2462"},{"id":"ref-for-event\u2463"}],"title":"3.2.2. Algorithms"}],"url":"https://dom.spec.whatwg.org/#event"},
"12f8fb07": {"dfnID":"12f8fb07","dfnText":"visibility","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-visibility"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-display-4/#propdef-visibility"},
"1372f92a": {"dfnID":"1372f92a","dfnText":"dispatch","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-event-dispatch"}],"title":"2. The geolocation Element"},{"refs":[{"id":"ref-for-concept-event-dispatch\u2460"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-concept-event-dispatch\u2461"}],"title":"3.1.3. Algorithms"},{"refs":[{"id":"ref-for-concept-event-dispatch\u2462"},{"id":"ref-for-concept-event-dispatch\u2463"}],"title":"3.2.2. Algorithms"}],"url":"https://dom.spec.whatwg.org/#concept-event-dispatch"},
"13dd6cae": {"dfnID":"13dd6cae","dfnText":"node navigable","external":true,"refSections":[{"refs":[{"id":"ref-for-node-navigable"},{"id":"ref-for-node-navigable\u2460"},{"id":"ref-for-node-navigable\u2461"},{"id":"ref-for-node-navigable\u2462"},{"id":"ref-for-node-navigable\u2463"},{"id":"ref-for-node-navigable\u2464"}],"title":"2.2. geolocation element algorithms"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable"},
"14a8c7a7": {"dfnID":"14a8c7a7","dfnText":"GeolocationPositionError","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-geolocationpositionerror"},{"id":"ref-for-dom-geolocationpositionerror\u2460"}],"title":"2. The geolocation Element"},{"refs":[{"id":"ref-for-dom-geolocationpositionerror\u2461"}],"title":"2.1. geolocation element internal state"}],"url":"https://w3c.github.io/geolocation/#dom-geolocationpositionerror"},
"14fbdaca": {"dfnID":"14fbdaca","dfnText":"GeolocationPosition","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-geolocationposition"},{"id":"ref-for-dom-geolocationposition\u2460"}],"title":"2. The geolocation Element"},{"refs":[{"id":"ref-for-dom-geolocationposition\u2461"}],"title":"2.1. geolocation element internal state"}],"url":"https://w3c.github.io/geolocation/#dom-geolocationposition"},
"17582406": {"dfnID":"17582406","dfnText":"traversable navigable","external":true,"refSections":[{"refs":[{"id":"ref-for-nav-traversable"}],"title":"2.2. geolocation element algorithms"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-traversable"},
"17d6dd37": {"dfnID":"17d6dd37","dfnText":"counter-reset","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-counter-reset"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-lists-3/#propdef-counter-reset"},
"1a55f38d": {"dfnID":"1a55f38d","dfnText":"outline-style","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-outline-style"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-ui-4/#propdef-outline-style"},
"1bebb82c": {"dfnID":"1bebb82c","dfnText":"font-kerning","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-font-kerning"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-fonts-4/#propdef-font-kerning"},
"1ee7f091": {"dfnID":"1ee7f091","dfnText":"outline-color","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-outline-color"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-ui-4/#propdef-outline-color"},
"2589df91": {"dfnID":"2589df91","dfnText":"orphans","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-orphans"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-break-3/#propdef-orphans"},
"259a4df0": {"dfnID":"259a4df0","dfnText":"forced-color-adjust","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-forced-color-adjust"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-color-adjust-1/#propdef-forced-color-adjust"},
"2cb28cb0": {"dfnID":"2cb28cb0","dfnText":"denied","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-permissionstate-denied"}],"title":"3.2.2. Algorithms"},{"refs":[{"id":"ref-for-dom-permissionstate-denied\u2460"}],"title":"3.2.3. Presentation"}],"url":"https://w3c.github.io/permissions/#dom-permissionstate-denied"},
"2d5b9b69": {"dfnID":"2d5b9b69","dfnText":"overflow-anchor","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-overflow-anchor"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-scroll-anchoring-1/#propdef-overflow-anchor"},
"2e4a74cb": {"dfnID":"2e4a74cb","dfnText":"scroll-padding-right","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-scroll-padding-right"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-right"},
"317acf49": {"dfnID":"317acf49","dfnText":"DOM interface","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-element-dom"}],"title":"2. The geolocation Element"},{"refs":[{"id":"ref-for-concept-element-dom\u2460"}],"title":"3.1. Activation Blockers"},{"refs":[{"id":"ref-for-concept-element-dom\u2461"}],"title":"3.2. Powerful Features, aka Permissions"}],"url":"https://html.spec.whatwg.org/multipage/dom.html#concept-element-dom"},
"31d1bef8": {"dfnID":"31d1bef8","dfnText":"font-synthesis-weight","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-font-synthesis-weight"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-fonts-4/#propdef-font-synthesis-weight"},
"325da0f2": {"dfnID":"325da0f2","dfnText":"prompt","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-permissionstate-prompt"},{"id":"ref-for-dom-permissionstate-prompt\u2460"}],"title":"3.2.2. Algorithms"}],"url":"https://w3c.github.io/permissions/#dom-permissionstate-prompt"},
"329db82b": {"dfnID":"329db82b","dfnText":"overscroll-behavior-y","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-overscroll-behavior-y"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-overscroll-1/#propdef-overscroll-behavior-y"},
"34de5360": {"dfnID":"34de5360","dfnText":"will-change","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-will-change"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-will-change-1/#propdef-will-change"},
"355da394": {"dfnID":"355da394","dfnText":"outline","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-outline"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-ui-4/#propdef-outline"},
"36858240": {"dfnID":"36858240","dfnText":"boolean","external":true,"refSections":[{"refs":[{"id":"ref-for-boolean"},{"id":"ref-for-boolean\u2460"}],"title":"2. The geolocation Element"},{"refs":[{"id":"ref-for-boolean\u2461"}],"title":"3.1.1. Internal state"}],"url":"https://infra.spec.whatwg.org/#boolean"},
"36f058ec": {"dfnID":"36f058ec","dfnText":"xx-large","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-font-size-xx-large"},{"id":"ref-for-valdef-font-size-xx-large\u2460"}],"title":"3.4.1. Conditions that Deactivate the Element"}],"url":"https://drafts.csswg.org/css2/#valdef-font-size-xx-large"},
"36fd3b67": {"dfnID":"36fd3b67","dfnText":"aspect-ratio","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-aspect-ratio"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-sizing-4/#propdef-aspect-ratio"},
"372496a8": {"dfnID":"372496a8","dfnText":"PositionCallback","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-positioncallback"},{"id":"ref-for-dom-positioncallback\u2460"}],"title":"2. The geolocation Element"},{"refs":[{"id":"ref-for-dom-positioncallback\u2461"},{"id":"ref-for-dom-positioncallback\u2462"},{"id":"ref-for-dom-positioncallback\u2463"}],"title":"2.2. geolocation element algorithms"}],"url":"https://w3c.github.io/geolocation/#dom-positioncallback"},
"3733a815": {"dfnID":"3733a815","dfnText":"scroll-padding-inline-end","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-scroll-padding-inline-end"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-inline-end"},
"37bdfca9": {"dfnID":"37bdfca9","dfnText":"font-optical-sizing","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-font-optical-sizing"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-fonts-4/#propdef-font-optical-sizing"},
"3c915747": {"dfnID":"3c915747","dfnText":"contexts in which this element can be used","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-element-contexts"}],"title":"2. The geolocation Element"}],"url":"https://html.spec.whatwg.org/multipage/dom.html#concept-element-contexts"},
"3dca8953": {"dfnID":"3dca8953","dfnText":"type (for Event/initEvent(type, bubbles, cancelable))","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-event-initevent-type-bubbles-cancelable-type"}],"title":"3.1.3. Algorithms"},{"refs":[{"id":"ref-for-dom-event-initevent-type-bubbles-cancelable-type\u2460"},{"id":"ref-for-dom-event-initevent-type-bubbles-cancelable-type\u2461"}],"title":"3.2.2. Algorithms"}],"url":"https://dom.spec.whatwg.org/#dom-event-initevent-type-bubbles-cancelable-type"},
"3f5a365a": {"dfnID":"3f5a365a","dfnText":"permission","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-permission"}],"title":"1. Introduction and Background"},{"refs":[{"id":"ref-for-dfn-permission\u2460"}],"title":"2. The geolocation Element"},{"refs":[{"id":"ref-for-dfn-permission\u2461"}],"title":"3.2.1. Internal state"}],"url":"https://w3c.github.io/permissions/#dfn-permission"},
"3fcbecdc": {"dfnID":"3fcbecdc","dfnText":"border","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-border"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-borders-4/#propdef-border"},
"4013a022": {"dfnID":"4013a022","dfnText":"this","external":true,"refSections":[{"refs":[{"id":"ref-for-this"},{"id":"ref-for-this\u2460"},{"id":"ref-for-this\u2461"},{"id":"ref-for-this\u2462"},{"id":"ref-for-this\u2463"},{"id":"ref-for-this\u2464"},{"id":"ref-for-this\u2465"},{"id":"ref-for-this\u2466"},{"id":"ref-for-this\u2467"},{"id":"ref-for-this\u2468"},{"id":"ref-for-this\u2460\u24ea"},{"id":"ref-for-this\u2460\u2460"},{"id":"ref-for-this\u2460\u2461"},{"id":"ref-for-this\u2460\u2462"},{"id":"ref-for-this\u2460\u2463"},{"id":"ref-for-this\u2460\u2464"},{"id":"ref-for-this\u2460\u2465"},{"id":"ref-for-this\u2460\u2466"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-this\u2460\u2467"}],"title":"3.1.3. Algorithms"}],"url":"https://webidl.spec.whatwg.org/#this"},
"40169f4b": {"dfnID":"40169f4b","dfnText":"PositionErrorCallback","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-positionerrorcallback"},{"id":"ref-for-dom-positionerrorcallback\u2460"}],"title":"2. The geolocation Element"},{"refs":[{"id":"ref-for-dom-positionerrorcallback\u2461"}],"title":"2.2. geolocation element algorithms"}],"url":"https://w3c.github.io/geolocation/#dom-positionerrorcallback"},
"402ed79d": {"dfnID":"402ed79d","dfnText":"CEReactions","external":true,"refSections":[{"refs":[{"id":"ref-for-cereactions"},{"id":"ref-for-cereactions\u2460"}],"title":"2. The geolocation Element"}],"url":"https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions"},
"420a43d6": {"dfnID":"420a43d6","dfnText":"intersectionRatio","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-intersectionobserverentry-intersectionratio"}],"title":"3.1.3. Algorithms"}],"url":"https://w3c.github.io/IntersectionObserver/#dom-intersectionobserverentry-intersectionratio"},
"42ccd6c5": {"dfnID":"42ccd6c5","dfnText":"overscroll-behavior-inline","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-overscroll-behavior-inline"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-overscroll-1/#propdef-overscroll-behavior-inline"},
"45cd855a": {"dfnID":"45cd855a","dfnText":"root","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-intersectionobserver-root"}],"title":"3.1.3. Algorithms"}],"url":"https://w3c.github.io/IntersectionObserver/#dom-intersectionobserver-root"},
"475d27ea": {"dfnID":"475d27ea","dfnText":"scroll-padding-inline-start","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-scroll-padding-inline-start"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-inline-start"},
"48350e83": {"dfnID":"48350e83","dfnText":"align-self","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-align-self"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-align-3/#propdef-align-self"},
"4ad610fb": {"dfnID":"4ad610fb","dfnText":"small","external":true,"refSections":[{"refs":[{"id":"ref-for-valdef-font-size-small"},{"id":"ref-for-valdef-font-size-small\u2460"}],"title":"3.4.1. Conditions that Deactivate the Element"}],"url":"https://drafts.csswg.org/css2/#valdef-font-size-small"},
"4c646d7b": {"dfnID":"4c646d7b","dfnText":"contrast ratio","external":true,"refSections":[{"refs":[{"id":"ref-for-contrast-ratio"}],"title":"3.4.1. Conditions that Deactivate the Element"}],"url":"https://drafts.csswg.org/mediaqueries-5/#contrast-ratio"},
"4dc2902c": {"dfnID":"4dc2902c","dfnText":"rootMargin","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-intersectionobserverinit-rootmargin"}],"title":"2.2. geolocation element algorithms"}],"url":"https://w3c.github.io/IntersectionObserver/#dom-intersectionobserverinit-rootmargin"},
"50348b93": {"dfnID":"50348b93","dfnText":"inherit","external":true,"refSections":[{"refs":[{"id":"ref-for-value-def-inherit"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://www.w3.org/TR/CSS2/cascade.html#value-def-inherit"},
"53275e46": {"dfnID":"53275e46","dfnText":"append (for list)","external":true,"refSections":[{"refs":[{"id":"ref-for-list-append"}],"title":"3.1.3. Algorithms"}],"url":"https://infra.spec.whatwg.org/#list-append"},
"5372cca8": {"dfnID":"5372cca8","dfnText":"boolean","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-boolean"},{"id":"ref-for-idl-boolean\u2460"}],"title":"2. The geolocation Element"},{"refs":[{"id":"ref-for-idl-boolean\u2461"}],"title":"3.1. Activation Blockers"}],"url":"https://webidl.spec.whatwg.org/#idl-boolean"},
"54f0976d": {"dfnID":"54f0976d","dfnText":"enableHighAccuracy","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-positionoptions-enablehighaccuracy"}],"title":"3.2.2. Algorithms"}],"url":"https://w3c.github.io/geolocation/#dom-positionoptions-enablehighaccuracy"},
"55ca59ee": {"dfnID":"55ca59ee","dfnText":"<relative-size>","external":true,"refSections":[{"refs":[{"id":"ref-for-typedef-relative-size"}],"title":"3.4.1. Conditions that Deactivate the Element"}],"url":"https://drafts.csswg.org/css-fonts-4/#typedef-relative-size"},
"583af179": {"dfnID":"583af179","dfnText":"Geolocation","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-geolocation"}],"title":"1. Introduction and Background"},{"refs":[{"id":"ref-for-dom-geolocation\u2460"},{"id":"ref-for-dom-geolocation\u2461"}],"title":"2. The geolocation Element"},{"refs":[{"id":"ref-for-dom-geolocation\u2462"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-dom-geolocation\u2463"}],"title":"2.3. geolocation element rendering"}],"url":"https://w3c.github.io/geolocation/#dom-geolocation"},
"5a37bda5": {"dfnID":"5a37bda5","dfnText":"IntersectionObserverCallback","external":true,"refSections":[{"refs":[{"id":"ref-for-callbackdef-intersectionobservercallback"}],"title":"3.1.3. Algorithms"}],"url":"https://w3c.github.io/IntersectionObserver/#callbackdef-intersectionobservercallback"},
"5afbefcd": {"dfnID":"5afbefcd","dfnText":"item","external":true,"refSections":[{"refs":[{"id":"ref-for-list-item"}],"title":"3.1.3. Algorithms"}],"url":"https://infra.spec.whatwg.org/#list-item"},
"5dea8beb": {"dfnID":"5dea8beb","dfnText":"scroll-padding-block-start","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-scroll-padding-block-start"},{"id":"ref-for-propdef-scroll-padding-block-start\u2460"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-block-start"},
"5efd52e0": {"dfnID":"5efd52e0","dfnText":"intersectionRect","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-intersectionobserverentry-intersectionrect"},{"id":"ref-for-dom-intersectionobserverentry-intersectionrect\u2460"}],"title":"3.1.3. Algorithms"}],"url":"https://w3c.github.io/IntersectionObserver/#dom-intersectionobserverentry-intersectionrect"},
"5fd912e7": {"dfnID":"5fd912e7","dfnText":"accessibility considerations","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-element-accessibility-considerations"}],"title":"2. The geolocation Element"}],"url":"https://html.spec.whatwg.org/multipage/dom.html#concept-element-accessibility-considerations"},
"5fe22d95": {"dfnID":"5fe22d95","dfnText":"viewport","external":true,"refSections":[{"refs":[{"id":"ref-for-viewport%E2%91%A0"}],"title":"3.1.1. Internal state"},{"refs":[{"id":"ref-for-viewport%E2%91%A0\u2460"},{"id":"ref-for-viewport%E2%91%A0\u2461"}],"title":"3.1.2. Action Blockers, Blocker Reasons, and Blocker Lifetimes"}],"url":"https://drafts.csswg.org/css2/#viewport%E2%91%A0"},
"62e9a98d": {"dfnID":"62e9a98d","dfnText":"removing steps","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-node-remove-ext"}],"title":"2.2. geolocation element algorithms"}],"url":"https://dom.spec.whatwg.org/#concept-node-remove-ext"},
"649608b9": {"dfnID":"649608b9","dfnText":"list","external":true,"refSections":[{"refs":[{"id":"ref-for-list"}],"title":"3.1.3. Algorithms"}],"url":"https://infra.spec.whatwg.org/#list"},
"68019d7a": {"dfnID":"68019d7a","dfnText":"height","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-height"},{"id":"ref-for-propdef-height\u2460"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-sizing-3/#propdef-height"},
"68675e70": {"dfnID":"68675e70","dfnText":"content attributes","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-element-attributes"}],"title":"2. The geolocation Element"},{"refs":[{"id":"ref-for-concept-element-attributes\u2460"}],"title":"3.1. Activation Blockers"}],"url":"https://html.spec.whatwg.org/multipage/dom.html#concept-element-attributes"},
"692595fe": {"dfnID":"692595fe","dfnText":"ordered set","external":true,"refSections":[{"refs":[{"id":"ref-for-ordered-set"},{"id":"ref-for-ordered-set\u2460"}],"title":"2.1.1. Mixin-supporting state at the navigable"},{"refs":[{"id":"ref-for-ordered-set\u2461"}],"title":"3.2.1. Internal state"}],"url":"https://infra.spec.whatwg.org/#ordered-set"},
"6a5a59a0": {"dfnID":"6a5a59a0","dfnText":"event handler","external":true,"refSections":[{"refs":[{"id":"ref-for-event-handlers"}],"title":"3.1. Activation Blockers"},{"refs":[{"id":"ref-for-event-handlers\u2460"}],"title":"3.2. Powerful Features, aka Permissions"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers"},
"6b815fdd": {"dfnID":"6b815fdd","dfnText":"is empty","external":true,"refSections":[{"refs":[{"id":"ref-for-list-is-empty"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-list-is-empty\u2460"}],"title":"3.1.3. Algorithms"},{"refs":[{"id":"ref-for-list-is-empty\u2461"}],"title":"3.2.2. Algorithms"}],"url":"https://infra.spec.whatwg.org/#list-is-empty"},
"6c2d7879": {"dfnID":"6c2d7879","dfnText":"powerful feature","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-powerful-feature"},{"id":"ref-for-dfn-powerful-feature\u2460"}],"title":"1. Introduction and Background"},{"refs":[{"id":"ref-for-dfn-powerful-feature\u2461"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-dfn-powerful-feature\u2462"}],"title":"2.3. geolocation element rendering"},{"refs":[{"id":"ref-for-dfn-powerful-feature\u2463"}],"title":"3.1.2. Action Blockers, Blocker Reasons, and Blocker Lifetimes"},{"refs":[{"id":"ref-for-dfn-powerful-feature\u2464"}],"title":"3.2. Powerful Features, aka Permissions"},{"refs":[{"id":"ref-for-dfn-powerful-feature\u2465"}],"title":"3.2.1. Internal state"},{"refs":[{"id":"ref-for-dfn-powerful-feature\u2466"}],"title":"3.2.2. Algorithms"},{"refs":[{"id":"ref-for-dfn-powerful-feature\u2467"},{"id":"ref-for-dfn-powerful-feature\u2468"},{"id":"ref-for-dfn-powerful-feature\u2460\u24ea"},{"id":"ref-for-dfn-powerful-feature\u2460\u2460"},{"id":"ref-for-dfn-powerful-feature\u2460\u2461"}],"title":"3.2.3. Presentation"}],"url":"https://w3c.github.io/permissions/#dfn-powerful-feature"},
"6c3bee60": {"dfnID":"6c3bee60","dfnText":"PermissionState","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-permissionstate"},{"id":"ref-for-dom-permissionstate\u2460"}],"title":"3.2. Powerful Features, aka Permissions"},{"refs":[{"id":"ref-for-dom-permissionstate\u2461"},{"id":"ref-for-dom-permissionstate\u2462"}],"title":"3.2.1. Internal state"}],"url":"https://w3c.github.io/permissions/#dom-permissionstate"},
"6d19ac93": {"dfnID":"6d19ac93","dfnText":"user agent","external":true,"refSections":[{"refs":[{"id":"ref-for-user-agent"}],"title":"1. Introduction and Background"},{"refs":[{"id":"ref-for-user-agent\u2460"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-user-agent\u2461"},{"id":"ref-for-user-agent\u2462"}],"title":"3.2.3. Presentation"},{"refs":[{"id":"ref-for-user-agent\u2463"},{"id":"ref-for-user-agent\u2464"}],"title":"3.3. Falling Back"}],"url":"https://infra.spec.whatwg.org/#user-agent"},
"6daf8b2a": {"dfnID":"6daf8b2a","dfnText":"border-left","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-border-left"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-borders-4/#propdef-border-left"},
"6f01662d": {"dfnID":"6f01662d","dfnText":"non-devolvable widget","external":true,"refSections":[{"refs":[{"id":"ref-for-non-devolvable"}],"title":"2.3. geolocation element rendering"}],"url":"https://drafts.csswg.org/css-ui-4/#non-devolvable"},
"72ea3a96": {"dfnID":"72ea3a96","dfnText":"overscroll-behavior-x","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-overscroll-behavior-x"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-overscroll-1/#propdef-overscroll-behavior-x"},
"73a16e8f": {"dfnID":"73a16e8f","dfnText":"flex","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-flex"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-flexbox-1/#propdef-flex"},
"73e0120b": {"dfnID":"73e0120b","dfnText":"isolation","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-isolation"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/compositing-2/#propdef-isolation"},
"75ee8688": {"dfnID":"75ee8688","dfnText":"request a position","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-request-a-position"}],"title":"2.1. geolocation element internal state"},{"refs":[{"id":"ref-for-dfn-request-a-position\u2460"},{"id":"ref-for-dfn-request-a-position\u2461"}],"title":"2.2. geolocation element algorithms"}],"url":"https://w3c.github.io/geolocation/#dfn-request-a-position"},
"770d5330": {"dfnID":"770d5330","dfnText":"initialize","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-event-initialize"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-concept-event-initialize\u2460"}],"title":"3.1.3. Algorithms"},{"refs":[{"id":"ref-for-concept-event-initialize\u2461"},{"id":"ref-for-concept-event-initialize\u2462"}],"title":"3.2.2. Algorithms"}],"url":"https://dom.spec.whatwg.org/#concept-event-initialize"},
"77b4c09a": {"dfnID":"77b4c09a","dfnText":"assert","external":true,"refSections":[{"refs":[{"id":"ref-for-assert"},{"id":"ref-for-assert\u2460"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-assert\u2461"},{"id":"ref-for-assert\u2462"},{"id":"ref-for-assert\u2463"},{"id":"ref-for-assert\u2464"},{"id":"ref-for-assert\u2465"},{"id":"ref-for-assert\u2466"},{"id":"ref-for-assert\u2467"},{"id":"ref-for-assert\u2468"}],"title":"3.1.3. Algorithms"},{"refs":[{"id":"ref-for-assert\u2460\u24ea"}],"title":"3.2.2. Algorithms"}],"url":"https://infra.spec.whatwg.org/#assert"},
"7a87d819": {"dfnID":"7a87d819","dfnText":"is","external":true,"refSections":[{"refs":[{"id":"ref-for-string-is"}],"title":"3.1.3. Algorithms"}],"url":"https://infra.spec.whatwg.org/#string-is"},
"7b0d918d": {"dfnID":"7b0d918d","dfnText":"break","external":true,"refSections":[{"refs":[{"id":"ref-for-iteration-break"}],"title":"2.2. geolocation element algorithms"}],"url":"https://infra.spec.whatwg.org/#iteration-break"},
"7d1d6278": {"dfnID":"7d1d6278","dfnText":"border-right","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-border-right"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-borders-4/#propdef-border-right"},
"7de09c13": {"dfnID":"7de09c13","dfnText":"flex-basis","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-flex-basis"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-flexbox-1/#propdef-flex-basis"},
"7e7cc1d8": {"dfnID":"7e7cc1d8","dfnText":"current high resolution time","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-current-high-resolution-time"},{"id":"ref-for-dfn-current-high-resolution-time\u2460"}],"title":"3.1.3. Algorithms"}],"url":"https://w3c.github.io/hr-time/#dfn-current-high-resolution-time"},
"801118f1": {"dfnID":"801118f1","dfnText":"x","external":true,"refSections":[{"refs":[{"id":"ref-for-XProperty"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://svgwg.org/svg2-draft/geometry.html#XProperty"},
"838900a7": {"dfnID":"838900a7","dfnText":"isTrusted","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-event-istrusted"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-dom-event-istrusted\u2460"}],"title":"3.2.1. Internal state"}],"url":"https://dom.spec.whatwg.org/#dom-event-istrusted"},
"860300d4": {"dfnID":"860300d4","dfnText":"implementation-defined","external":true,"refSections":[{"refs":[{"id":"ref-for-implementation-defined"}],"title":"2.2. geolocation element algorithms"}],"url":"https://infra.spec.whatwg.org/#implementation-defined"},
"86804dc9": {"dfnID":"86804dc9","dfnText":"fenced navigable","external":true,"refSections":[{"refs":[{"id":"ref-for-fenced-navigable-container-fenced-navigable"}],"title":"2.2. geolocation element algorithms"}],"url":"https://wicg.github.io/fenced-frame/#fenced-navigable-container-fenced-navigable"},
"87205ec4": {"dfnID":"87205ec4","dfnText":"contain-intrinsic-height","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-contain-intrinsic-height"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-sizing-4/#propdef-contain-intrinsic-height"},
"88643fe0": {"dfnID":"88643fe0","dfnText":"width","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-width"},{"id":"ref-for-propdef-width\u2460"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-sizing-3/#propdef-width"},
"88766833": {"dfnID":"88766833","dfnText":"content model","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-element-content-model"}],"title":"2. The geolocation Element"}],"url":"https://html.spec.whatwg.org/multipage/dom.html#concept-element-content-model"},
"889e932f": {"dfnID":"889e932f","dfnText":"Exposed","external":true,"refSections":[{"refs":[{"id":"ref-for-Exposed"}],"title":"2. The geolocation Element"}],"url":"https://webidl.spec.whatwg.org/#Exposed"},
"8a745a4c": {"dfnID":"8a745a4c","dfnText":"scroll-padding-top","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-scroll-padding-top"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-top"},
"8b0ff70b": {"dfnID":"8b0ff70b","dfnText":"border-top","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-border-top"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-borders-4/#propdef-border-top"},
"8dd12dcb": {"dfnID":"8dd12dcb","dfnText":"contain-intrinsic-width","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-contain-intrinsic-width"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-sizing-4/#propdef-contain-intrinsic-width"},
"8fc74046": {"dfnID":"8fc74046","dfnText":"global attributes","external":true,"refSections":[{"refs":[{"id":"ref-for-global-attributes"}],"title":"2. The geolocation Element"}],"url":"https://html.spec.whatwg.org/multipage/dom.html#global-attributes"},
"9436e460": {"dfnID":"9436e460","dfnText":"clear","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-clear"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css2/#propdef-clear"},
"956a2c19": {"dfnID":"956a2c19","dfnText":"DOMRectReadOnly","external":true,"refSections":[{"refs":[{"id":"ref-for-domrectreadonly"}],"title":"3.1.1. Internal state"}],"url":"https://drafts.csswg.org/geometry-1/#domrectreadonly"},
"95c866a0": {"dfnID":"95c866a0","dfnText":"sorting","external":true,"refSections":[{"refs":[{"id":"ref-for-list-sort-in-ascending-order"}],"title":"3.1.3. Algorithms"}],"url":"https://infra.spec.whatwg.org/#list-sort-in-ascending-order"},
"96797491": {"dfnID":"96797491","dfnText":"tabindex","external":true,"refSections":[{"refs":[{"id":"ref-for-attr-tabindex"},{"id":"ref-for-attr-tabindex\u2460"}],"title":"2. The geolocation Element"}],"url":"https://html.spec.whatwg.org/multipage/interaction.html#attr-tabindex"},
"96e13811": {"dfnID":"96e13811","dfnText":"enumerated attribute","external":true,"refSections":[{"refs":[{"id":"ref-for-enumerated-attribute"}],"title":"3.1. Activation Blockers"}],"url":"https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#enumerated-attribute"},
"973aaf8e": {"dfnID":"973aaf8e","dfnText":"HTMLConstructor","external":true,"refSections":[{"refs":[{"id":"ref-for-htmlconstructor"}],"title":"2. The geolocation Element"}],"url":"https://html.spec.whatwg.org/multipage/dom.html#htmlconstructor"},
"9987a023": {"dfnID":"9987a023","dfnText":"y","external":true,"refSections":[{"refs":[{"id":"ref-for-YProperty"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://svgwg.org/svg2-draft/geometry.html#YProperty"},
"99c988d6": {"dfnID":"99c988d6","dfnText":"remove","external":true,"refSections":[{"refs":[{"id":"ref-for-list-remove"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-list-remove\u2460"}],"title":"3.1.3. Algorithms"}],"url":"https://infra.spec.whatwg.org/#list-remove"},
"9b166ddb": {"dfnID":"9b166ddb","dfnText":"scroll-padding-block-end","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-scroll-padding-block-end"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-block-end"},
"9be179f5": {"dfnID":"9be179f5","dfnText":"IntersectionObserver","external":true,"refSections":[{"refs":[{"id":"ref-for-intersectionobserver"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-intersectionobserver\u2460"}],"title":"3.1.1. Internal state"},{"refs":[{"id":"ref-for-intersectionobserver\u2461"}],"title":"3.1.3. Algorithms"}],"url":"https://w3c.github.io/IntersectionObserver/#intersectionobserver"},
"9c19b7fc": {"dfnID":"9c19b7fc","dfnText":"navigable","external":true,"refSections":[{"refs":[{"id":"ref-for-navigable"},{"id":"ref-for-navigable\u2460"}],"title":"2.1.1. Mixin-supporting state at the navigable"}],"url":"https://html.spec.whatwg.org/multipage/document-sequences.html#navigable"},
"9d09d04c": {"dfnID":"9d09d04c","dfnText":"type (for Event)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-event-type"}],"title":"2.2. geolocation element algorithms"}],"url":"https://dom.spec.whatwg.org/#dom-event-type"},
"9d386f55": {"dfnID":"9d386f55","dfnText":"event handler event type","external":true,"refSections":[{"refs":[{"id":"ref-for-event-handler-event-type"}],"title":"3.1. Activation Blockers"},{"refs":[{"id":"ref-for-event-handler-event-type\u2460"}],"title":"3.2. Powerful Features, aka Permissions"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"},
"9d6acddc": {"dfnID":"9d6acddc","dfnText":"container-name","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-container-name"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-conditional-5/#propdef-container-name"},
"9da19fa0": {"dfnID":"9da19fa0","dfnText":"lang (for HTMLElement)","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-lang"},{"id":"ref-for-dom-lang\u2460"}],"title":"2. The geolocation Element"}],"url":"https://html.spec.whatwg.org/multipage/dom.html#dom-lang"},
"9e466493": {"dfnID":"9e466493","dfnText":"equal","external":true,"refSections":[{"refs":[{"id":"ref-for-set-equal"}],"title":"2.2. geolocation element algorithms"}],"url":"https://infra.spec.whatwg.org/#set-equal"},
"9ee4791f": {"dfnID":"9ee4791f","dfnText":"watchPosition()","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-geolocation-watchposition"},{"id":"ref-for-dom-geolocation-watchposition\u2460"}],"title":"2. The geolocation Element"}],"url":"https://w3c.github.io/geolocation/#dom-geolocation-watchposition"},
"a09017ef": {"dfnID":"a09017ef","dfnText":"bubbles","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-event-initevent-type-bubbles-cancelable-bubbles"}],"title":"3.1.3. Algorithms"},{"refs":[{"id":"ref-for-dom-event-initevent-type-bubbles-cancelable-bubbles\u2460"},{"id":"ref-for-dom-event-initevent-type-bubbles-cancelable-bubbles\u2461"}],"title":"3.2.2. Algorithms"}],"url":"https://dom.spec.whatwg.org/#dom-event-initevent-type-bubbles-cancelable-bubbles"},
"a0be88cd": {"dfnID":"a0be88cd","dfnText":"HTMLUnknownElement","external":true,"refSections":[{"refs":[{"id":"ref-for-htmlunknownelement"}],"title":"3.3. Falling Back"}],"url":"https://html.spec.whatwg.org/multipage/dom.html#htmlunknownelement"},
"a3b18719": {"dfnID":"a3b18719","dfnText":"append (for set)","external":true,"refSections":[{"refs":[{"id":"ref-for-set-append"}],"title":"2.2. geolocation element algorithms"}],"url":"https://infra.spec.whatwg.org/#set-append"},
"a7bd8ceb": {"dfnID":"a7bd8ceb","dfnText":"specified value","external":true,"refSections":[{"refs":[{"id":"ref-for-specified-value"}],"title":"3.4.1. Conditions that Deactivate the Element"}],"url":"https://www.w3.org/TR/CSS2/cascade.html#specified-value"},
"a973e0fe": {"dfnID":"a973e0fe","dfnText":"document","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-document"}],"title":"3.1.3. Algorithms"}],"url":"https://dom.spec.whatwg.org/#concept-document"},
"aa7ec909": {"dfnID":"aa7ec909","dfnText":"scroll-padding-left","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-scroll-padding-left"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-left"},
"aa9d496e": {"dfnID":"aa9d496e","dfnText":"scroll-padding","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-scroll-padding"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding"},
"activationblockersmixin": {"dfnID":"activationblockersmixin","dfnText":"ActivationBlockersMixin","external":false,"refSections":[{"refs":[{"id":"ref-for-activationblockersmixin"}],"title":"2. The geolocation Element"},{"refs":[{"id":"ref-for-activationblockersmixin\u2460"}],"title":"2.1. geolocation element internal state"},{"refs":[{"id":"ref-for-activationblockersmixin\u2461"},{"id":"ref-for-activationblockersmixin\u2462"}],"title":"3.1. Activation Blockers"},{"refs":[{"id":"ref-for-activationblockersmixin\u2463"}],"title":"3.1.1. Internal state"},{"refs":[{"id":"ref-for-activationblockersmixin\u2464"}],"title":"3.1.2. Action Blockers, Blocker Reasons, and Blocker Lifetimes"},{"refs":[{"id":"ref-for-activationblockersmixin\u2465"},{"id":"ref-for-activationblockersmixin\u2466"},{"id":"ref-for-activationblockersmixin\u2467"},{"id":"ref-for-activationblockersmixin\u2468"},{"id":"ref-for-activationblockersmixin\u2460\u24ea"}],"title":"3.1.3. Algorithms"}],"url":"#activationblockersmixin"},
"activationblockersmixin-activationblockersmixin-attributes": {"dfnID":"activationblockersmixin-activationblockersmixin-attributes","dfnText":"ActivationBlockersMixin attributes","external":false,"refSections":[{"refs":[{"id":"ref-for-activationblockersmixin-activationblockersmixin-attributes"}],"title":"2. The geolocation Element"}],"url":"#activationblockersmixin-activationblockersmixin-attributes"},
"activationblockersmixin-add-a-blocker": {"dfnID":"activationblockersmixin-add-a-blocker","dfnText":"add a blocker","external":false,"refSections":[{"refs":[{"id":"ref-for-activationblockersmixin-add-a-blocker"},{"id":"ref-for-activationblockersmixin-add-a-blocker\u2460"},{"id":"ref-for-activationblockersmixin-add-a-blocker\u2461"},{"id":"ref-for-activationblockersmixin-add-a-blocker\u2462"}],"title":"3.1.3. Algorithms"}],"url":"#activationblockersmixin-add-a-blocker"},
"activationblockersmixin-add-a-permanent-blocker": {"dfnID":"activationblockersmixin-add-a-permanent-blocker","dfnText":"add a permanent blocker","external":false,"refSections":[{"refs":[{"id":"ref-for-activationblockersmixin-add-a-permanent-blocker"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-activationblockersmixin-add-a-permanent-blocker\u2460"}],"title":"3.2.2. Algorithms"}],"url":"#activationblockersmixin-add-a-permanent-blocker"},
"activationblockersmixin-add-a-temporary-blocker": {"dfnID":"activationblockersmixin-add-a-temporary-blocker","dfnText":"add a temporary blocker","external":false,"refSections":[{"refs":[{"id":"ref-for-activationblockersmixin-add-a-temporary-blocker"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-activationblockersmixin-add-a-temporary-blocker\u2460"}],"title":"3.1.3. Algorithms"},{"refs":[{"id":"ref-for-activationblockersmixin-add-a-temporary-blocker\u2461"}],"title":"3.4.1. Conditions that Deactivate the Element"}],"url":"#activationblockersmixin-add-a-temporary-blocker"},
"activationblockersmixin-add-an-expiring-blocker": {"dfnID":"activationblockersmixin-add-an-expiring-blocker","dfnText":"add an expiring blocker","external":false,"refSections":[{"refs":[{"id":"ref-for-activationblockersmixin-add-an-expiring-blocker"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-activationblockersmixin-add-an-expiring-blocker\u2460"}],"title":"3.1.3. Algorithms"}],"url":"#activationblockersmixin-add-an-expiring-blocker"},
"activationblockersmixin-blocker": {"dfnID":"activationblockersmixin-blocker","dfnText":"blocker","external":false,"refSections":[{"refs":[{"id":"ref-for-activationblockersmixin-blocker"}],"title":"2.1.1. Mixin-supporting state at the navigable"},{"refs":[{"id":"ref-for-activationblockersmixin-blocker\u2460"},{"id":"ref-for-activationblockersmixin-blocker\u2461"},{"id":"ref-for-activationblockersmixin-blocker\u2462"},{"id":"ref-for-activationblockersmixin-blocker\u2463"},{"id":"ref-for-activationblockersmixin-blocker\u2464"}],"title":"3.1.3. Algorithms"}],"url":"#activationblockersmixin-blocker"},
"activationblockersmixin-blocker-delay": {"dfnID":"activationblockersmixin-blocker-delay","dfnText":"blocker delay","external":false,"refSections":[{"refs":[{"id":"ref-for-activationblockersmixin-blocker-delay"}],"title":"3.1.3. Algorithms"}],"url":"#activationblockersmixin-blocker-delay"},
"activationblockersmixin-blocker-ordering": {"dfnID":"activationblockersmixin-blocker-ordering","dfnText":"blocker ordering","external":false,"refSections":[{"refs":[{"id":"ref-for-activationblockersmixin-blocker-ordering"}],"title":"3.1.3. Algorithms"}],"url":"#activationblockersmixin-blocker-ordering"},
"activationblockersmixin-blocker-reason": {"dfnID":"activationblockersmixin-blocker-reason","dfnText":"blocker reason","external":false,"refSections":[{"refs":[{"id":"ref-for-activationblockersmixin-blocker-reason"}],"title":"3.1.1. Internal state"},{"refs":[{"id":"ref-for-activationblockersmixin-blocker-reason\u2460"},{"id":"ref-for-activationblockersmixin-blocker-reason\u2461"}],"title":"3.1.3. Algorithms"},{"refs":[{"id":"ref-for-activationblockersmixin-blocker-reason\u2462"}],"title":"3.3. Falling Back"}],"url":"#activationblockersmixin-blocker-reason"},
"activationblockersmixin-blocker-timestamp": {"dfnID":"activationblockersmixin-blocker-timestamp","dfnText":"blocker timestamp","external":false,"refSections":[{"refs":[{"id":"ref-for-activationblockersmixin-blocker-timestamp"},{"id":"ref-for-activationblockersmixin-blocker-timestamp\u2460"},{"id":"ref-for-activationblockersmixin-blocker-timestamp\u2461"}],"title":"3.1.3. Algorithms"}],"url":"#activationblockersmixin-blocker-timestamp"},
"activationblockersmixin-blocking": {"dfnID":"activationblockersmixin-blocking","dfnText":"blocking","external":false,"refSections":[{"refs":[{"id":"ref-for-activationblockersmixin-blocking"},{"id":"ref-for-activationblockersmixin-blocking\u2460"},{"id":"ref-for-activationblockersmixin-blocking\u2461"}],"title":"3.1.3. Algorithms"}],"url":"#activationblockersmixin-blocking"},
"activationblockersmixin-intersectionobserver-callback": {"dfnID":"activationblockersmixin-intersectionobserver-callback","dfnText":"IntersectionObserver callback","external":false,"refSections":[{"refs":[{"id":"ref-for-activationblockersmixin-intersectionobserver-callback"}],"title":"2.2. geolocation element algorithms"}],"url":"#activationblockersmixin-intersectionobserver-callback"},
"activationblockersmixin-maybe-dispatch-onvalidstatechange": {"dfnID":"activationblockersmixin-maybe-dispatch-onvalidstatechange","dfnText":"maybe dispatch onvalidstatechange","external":false,"refSections":[{"refs":[{"id":"ref-for-activationblockersmixin-maybe-dispatch-onvalidstatechange"},{"id":"ref-for-activationblockersmixin-maybe-dispatch-onvalidstatechange\u2460"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-activationblockersmixin-maybe-dispatch-onvalidstatechange\u2461"}],"title":"3.1.3. Algorithms"}],"url":"#activationblockersmixin-maybe-dispatch-onvalidstatechange"},
"activationblockersmixin-remove-blockers": {"dfnID":"activationblockersmixin-remove-blockers","dfnText":"remove blockers","external":false,"refSections":[{"refs":[{"id":"ref-for-activationblockersmixin-remove-blockers"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-activationblockersmixin-remove-blockers\u2460"},{"id":"ref-for-activationblockersmixin-remove-blockers\u2461"}],"title":"3.1.3. Algorithms"}],"url":"#activationblockersmixin-remove-blockers"},
"ada784a3": {"dfnID":"ada784a3","dfnText":"categories","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-categories"}],"title":"2. The geolocation Element"}],"url":"https://w3c.github.io/manifest-app-info/#dfn-categories"},
"ae8def21": {"dfnID":"ae8def21","dfnText":"contain","external":true,"refSections":[{"refs":[{"id":"ref-for-list-contain"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-list-contain\u2460"}],"title":"3.3. Falling Back"}],"url":"https://infra.spec.whatwg.org/#list-contain"},
"b08d0bb2": {"dfnID":"b08d0bb2","dfnText":"HTMLElement","external":true,"refSections":[{"refs":[{"id":"ref-for-htmlelement"}],"title":"2. The geolocation Element"}],"url":"https://html.spec.whatwg.org/multipage/dom.html#htmlelement"},
"b0b8d8c0": {"dfnID":"b0b8d8c0","dfnText":"right","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-right"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-position-3/#propdef-right"},
"b219dc96": {"dfnID":"b219dc96","dfnText":"overscroll-behavior-block","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-overscroll-behavior-block"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-overscroll-1/#propdef-overscroll-behavior-block"},
"b392a66a": {"dfnID":"b392a66a","dfnText":"scroll-margin-right","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-scroll-margin-right"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-margin-right"},
"b8a0ba74": {"dfnID":"b8a0ba74","dfnText":"position","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-position"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-position-3/#propdef-position"},
"b8d7db46": {"dfnID":"b8d7db46","dfnText":"counter-increment","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-counter-increment"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-lists-3/#propdef-counter-increment"},
"bb72d539": {"dfnID":"bb72d539","dfnText":"text-rendering","external":true,"refSections":[{"refs":[{"id":"ref-for-TextRenderingProperty"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://svgwg.org/svg2-draft/painting.html#TextRenderingProperty"},
"bcc085e3": {"dfnID":"bcc085e3","dfnText":"request permission to use","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-request-permission-to-use"},{"id":"ref-for-dfn-request-permission-to-use\u2460"}],"title":"2.2. geolocation element algorithms"}],"url":"https://w3c.github.io/permissions/#dfn-request-permission-to-use"},
"bd7d36d0": {"dfnID":"bd7d36d0","dfnText":"interactive content","external":true,"refSections":[{"refs":[{"id":"ref-for-interactive-content-2"}],"title":"2. The geolocation Element"}],"url":"https://html.spec.whatwg.org/multipage/dom.html#interactive-content-2"},
"be2c21cf": {"dfnID":"be2c21cf","dfnText":"anchor-name","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-anchor-name"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-anchor-position-1/#propdef-anchor-name"},
"bec14ad5": {"dfnID":"bec14ad5","dfnText":"activation behavior","external":true,"refSections":[{"refs":[{"id":"ref-for-eventtarget-activation-behavior"}],"title":"2.2. geolocation element algorithms"}],"url":"https://dom.spec.whatwg.org/#eventtarget-activation-behavior"},
"bfff6250": {"dfnID":"bfff6250","dfnText":"button","external":true,"refSections":[{"refs":[{"id":"ref-for-the-button-element"}],"title":"2.3. geolocation element rendering"}],"url":"https://html.spec.whatwg.org/multipage/form-elements.html#the-button-element"},
"blocker-reason-table": {"dfnID":"blocker-reason-table","dfnText":"","external":false,"refSections":[{"refs":[{"id":"ref-for-blocker-reason-table"},{"id":"ref-for-blocker-reason-table\u2460"},{"id":"ref-for-blocker-reason-table\u2461"},{"id":"ref-for-blocker-reason-table\u2462"},{"id":"ref-for-blocker-reason-table\u2463"},{"id":"ref-for-blocker-reason-table\u2464"},{"id":"ref-for-blocker-reason-table\u2465"}],"title":"3.1.3. Algorithms"}],"url":"#blocker-reason-table"},
"c1bccc47": {"dfnID":"c1bccc47","dfnText":"container-type","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-container-type"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-conditional-5/#propdef-container-type"},
"c207bdef": {"dfnID":"c207bdef","dfnText":"Reflect","external":true,"refSections":[{"refs":[{"id":"ref-for-xattr-reflect"},{"id":"ref-for-xattr-reflect\u2460"}],"title":"2. The geolocation Element"}],"url":"https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#xattr-reflect"},
"c2430fbb": {"dfnID":"c2430fbb","dfnText":"prompt the user to choose","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-prompt-the-user-to-choose"},{"id":"ref-for-dfn-prompt-the-user-to-choose\u2460"},{"id":"ref-for-dfn-prompt-the-user-to-choose\u2461"}],"title":"3.2.3. Presentation"}],"url":"https://w3c.github.io/permissions/#dfn-prompt-the-user-to-choose"},
"c373c5f8": {"dfnID":"c373c5f8","dfnText":"color-scheme","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-color-scheme"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-color-adjust-1/#propdef-color-scheme"},
"c6ce3c60": {"dfnID":"c6ce3c60","dfnText":"granted","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-permissionstate-granted"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-dom-permissionstate-granted\u2460"},{"id":"ref-for-dom-permissionstate-granted\u2461"}],"title":"3.2.2. Algorithms"},{"refs":[{"id":"ref-for-dom-permissionstate-granted\u2462"}],"title":"3.2.3. Presentation"}],"url":"https://w3c.github.io/permissions/#dom-permissionstate-granted"},
"c7740004": {"dfnID":"c7740004","dfnText":"fallback content","external":true,"refSections":[{"refs":[{"id":"ref-for-fallback-content"},{"id":"ref-for-fallback-content\u2460"}],"title":"2.3. geolocation element rendering"},{"refs":[{"id":"ref-for-fallback-content\u2461"},{"id":"ref-for-fallback-content\u2462"}],"title":"3.3. Falling Back"}],"url":"https://html.spec.whatwg.org/multipage/dom.html#fallback-content"},
"c82d6e13": {"dfnID":"c82d6e13","dfnText":"z-index","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-z-index"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css2/#propdef-z-index"},
"c914c650": {"dfnID":"c914c650","dfnText":"fencedframe","external":true,"refSections":[{"refs":[{"id":"ref-for-elementdef-fencedframe"},{"id":"ref-for-elementdef-fencedframe\u2460"}],"title":"3.1.2. Action Blockers, Blocker Reasons, and Blocker Lifetimes"}],"url":"https://wicg.github.io/fenced-frame/#elementdef-fencedframe"},
"cbc54f93": {"dfnID":"cbc54f93","dfnText":"text-transform","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-text-transform"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-text-4/#propdef-text-transform"},
"d124397f": {"dfnID":"d124397f","dfnText":"permission state","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-permission-state"},{"id":"ref-for-dfn-permission-state\u2460"}],"title":"3.2.3. Presentation"}],"url":"https://w3c.github.io/permissions/#dfn-permission-state"},
"d4dbbbf0": {"dfnID":"d4dbbbf0","dfnText":"language","external":true,"refSections":[{"refs":[{"id":"ref-for-language"}],"title":"3.2.3. Presentation"}],"url":"https://html.spec.whatwg.org/multipage/dom.html#language"},
"d54eeea2": {"dfnID":"d54eeea2","dfnText":"palpable content","external":true,"refSections":[{"refs":[{"id":"ref-for-palpable-content-2"}],"title":"2. The geolocation Element"}],"url":"https://html.spec.whatwg.org/multipage/dom.html#palpable-content-2"},
"d84118c0": {"dfnID":"d84118c0","dfnText":"outline-offset","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-outline-offset"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-ui-4/#propdef-outline-offset"},
"d893440d": {"dfnID":"d893440d","dfnText":"flex-shrink","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-flex-shrink"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-flexbox-1/#propdef-flex-shrink"},
"d996d257": {"dfnID":"d996d257","dfnText":"cancelable","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-event-initevent-type-bubbles-cancelable-cancelable"}],"title":"3.1.3. Algorithms"},{"refs":[{"id":"ref-for-dom-event-initevent-type-bubbles-cancelable-cancelable\u2460"},{"id":"ref-for-dom-event-initevent-type-bubbles-cancelable-cancelable\u2461"}],"title":"3.2.2. Algorithms"}],"url":"https://dom.spec.whatwg.org/#dom-event-initevent-type-bubbles-cancelable-cancelable"},
"dcca73ef": {"dfnID":"dcca73ef","dfnText":"scroll-padding-bottom","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-scroll-padding-bottom"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-bottom"},
"dd21c139": {"dfnID":"dd21c139","dfnText":"ruby-position","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-ruby-position"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-ruby-1/#propdef-ruby-position"},
"dde41168": {"dfnID":"dde41168","dfnText":"left","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-left"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-position-3/#propdef-left"},
"decf3b99": {"dfnID":"decf3b99","dfnText":"page","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-page"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-page-3/#propdef-page"},
"dispatch-onlocation": {"dfnID":"dispatch-onlocation","dfnText":"dispatch onlocation","external":false,"refSections":[{"refs":[{"id":"ref-for-dispatch-onlocation"},{"id":"ref-for-dispatch-onlocation\u2460"}],"title":"2.2. geolocation element algorithms"}],"url":"#dispatch-onlocation"},
"dom-activationblockersmixin-blockerlist-slot": {"dfnID":"dom-activationblockersmixin-blockerlist-slot","dfnText":"[[BlockerList]]","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-activationblockersmixin-blockerlist-slot"},{"id":"ref-for-dom-activationblockersmixin-blockerlist-slot\u2460"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-dom-activationblockersmixin-blockerlist-slot\u2461"},{"id":"ref-for-dom-activationblockersmixin-blockerlist-slot\u2462"},{"id":"ref-for-dom-activationblockersmixin-blockerlist-slot\u2463"},{"id":"ref-for-dom-activationblockersmixin-blockerlist-slot\u2464"},{"id":"ref-for-dom-activationblockersmixin-blockerlist-slot\u2465"}],"title":"3.1.3. Algorithms"},{"refs":[{"id":"ref-for-dom-activationblockersmixin-blockerlist-slot\u2466"}],"title":"3.2.1. Internal state"},{"refs":[{"id":"ref-for-dom-activationblockersmixin-blockerlist-slot\u2467"}],"title":"3.3. Falling Back"}],"url":"#dom-activationblockersmixin-blockerlist-slot"},
"dom-activationblockersmixin-intersectionobserver-slot": {"dfnID":"dom-activationblockersmixin-intersectionobserver-slot","dfnText":"[[IntersectionObserver]]","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-activationblockersmixin-intersectionobserver-slot"},{"id":"ref-for-dom-activationblockersmixin-intersectionobserver-slot\u2460"}],"title":"2.2. geolocation element algorithms"}],"url":"#dom-activationblockersmixin-intersectionobserver-slot"},
"dom-activationblockersmixin-intersectionrect-slot": {"dfnID":"dom-activationblockersmixin-intersectionrect-slot","dfnText":"[[IntersectionRect]]","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-activationblockersmixin-intersectionrect-slot"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-dom-activationblockersmixin-intersectionrect-slot\u2460"},{"id":"ref-for-dom-activationblockersmixin-intersectionrect-slot\u2461"}],"title":"3.1.3. Algorithms"}],"url":"#dom-activationblockersmixin-intersectionrect-slot"},
"dom-activationblockersmixin-invalidreason": {"dfnID":"dom-activationblockersmixin-invalidreason","dfnText":"invalidReason","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-activationblockersmixin-invalidreason"}],"title":"2. The geolocation Element"},{"refs":[{"id":"ref-for-dom-activationblockersmixin-invalidreason\u2460"},{"id":"ref-for-dom-activationblockersmixin-invalidreason\u2461"},{"id":"ref-for-dom-activationblockersmixin-invalidreason\u2462"},{"id":"ref-for-dom-activationblockersmixin-invalidreason\u2463"}],"title":"3.1. Activation Blockers"},{"refs":[{"id":"ref-for-dom-activationblockersmixin-invalidreason\u2464"}],"title":"3.1.1. Internal state"},{"refs":[{"id":"ref-for-dom-activationblockersmixin-invalidreason\u2465"}],"title":"3.1.3. Algorithms"}],"url":"#dom-activationblockersmixin-invalidreason"},
"dom-activationblockersmixin-isvalid": {"dfnID":"dom-activationblockersmixin-isvalid","dfnText":"isValid","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-activationblockersmixin-isvalid"}],"title":"2. The geolocation Element"},{"refs":[{"id":"ref-for-dom-activationblockersmixin-isvalid\u2460"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-dom-activationblockersmixin-isvalid\u2461"},{"id":"ref-for-dom-activationblockersmixin-isvalid\u2462"},{"id":"ref-for-dom-activationblockersmixin-isvalid\u2463"},{"id":"ref-for-dom-activationblockersmixin-isvalid\u2464"}],"title":"3.1. Activation Blockers"},{"refs":[{"id":"ref-for-dom-activationblockersmixin-isvalid\u2465"}],"title":"3.1.1. Internal state"}],"url":"#dom-activationblockersmixin-isvalid"},
"dom-activationblockersmixin-lastnotifiedinvalidreason-slot": {"dfnID":"dom-activationblockersmixin-lastnotifiedinvalidreason-slot","dfnText":"[[LastNotifiedInvalidReason]]","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-activationblockersmixin-lastnotifiedinvalidreason-slot"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-dom-activationblockersmixin-lastnotifiedinvalidreason-slot\u2460"}],"title":"3.1.1. Internal state"},{"refs":[{"id":"ref-for-dom-activationblockersmixin-lastnotifiedinvalidreason-slot\u2461"},{"id":"ref-for-dom-activationblockersmixin-lastnotifiedinvalidreason-slot\u2462"}],"title":"3.1.3. Algorithms"}],"url":"#dom-activationblockersmixin-lastnotifiedinvalidreason-slot"},
"dom-activationblockersmixin-lastnotifiedvalidstate-slot": {"dfnID":"dom-activationblockersmixin-lastnotifiedvalidstate-slot","dfnText":"[[LastNotifiedValidState]]","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-activationblockersmixin-lastnotifiedvalidstate-slot"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-dom-activationblockersmixin-lastnotifiedvalidstate-slot\u2460"}],"title":"3.1.1. Internal state"},{"refs":[{"id":"ref-for-dom-activationblockersmixin-lastnotifiedvalidstate-slot\u2461"},{"id":"ref-for-dom-activationblockersmixin-lastnotifiedvalidstate-slot\u2462"}],"title":"3.1.3. Algorithms"}],"url":"#dom-activationblockersmixin-lastnotifiedvalidstate-slot"},
"dom-activationblockersmixin-onvalidationstatuschange": {"dfnID":"dom-activationblockersmixin-onvalidationstatuschange","dfnText":"onvalidationstatuschange","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-activationblockersmixin-onvalidationstatuschange"}],"title":"2. The geolocation Element"},{"refs":[{"id":"ref-for-dom-activationblockersmixin-onvalidationstatuschange\u2460"},{"id":"ref-for-dom-activationblockersmixin-onvalidationstatuschange\u2461"}],"title":"3.1. Activation Blockers"},{"refs":[{"id":"ref-for-dom-activationblockersmixin-onvalidationstatuschange\u2462"}],"title":"3.1.1. Internal state"},{"refs":[{"id":"ref-for-dom-activationblockersmixin-onvalidationstatuschange\u2463"}],"title":"3.1.3. Algorithms"}],"url":"#dom-activationblockersmixin-onvalidationstatuschange"},
"dom-activationblockersmixinblockerreason": {"dfnID":"dom-activationblockersmixinblockerreason","dfnText":"\"\"","external":false,"refSections":[],"url":"#dom-activationblockersmixinblockerreason"},
"dom-activationblockersmixinblockerreason-illegal_subframe": {"dfnID":"dom-activationblockersmixinblockerreason-illegal_subframe","dfnText":"\"illegal_subframe\"","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-activationblockersmixinblockerreason-illegal_subframe"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-dom-activationblockersmixinblockerreason-illegal_subframe\u2460"}],"title":"3.1.2. Action Blockers, Blocker Reasons, and Blocker Lifetimes"}],"url":"#dom-activationblockersmixinblockerreason-illegal_subframe"},
"dom-activationblockersmixinblockerreason-intersection_changed": {"dfnID":"dom-activationblockersmixinblockerreason-intersection_changed","dfnText":"\"intersection_changed\"","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-activationblockersmixinblockerreason-intersection_changed"}],"title":"3.1.2. Action Blockers, Blocker Reasons, and Blocker Lifetimes"},{"refs":[{"id":"ref-for-dom-activationblockersmixinblockerreason-intersection_changed\u2460"}],"title":"3.1.3. Algorithms"}],"url":"#dom-activationblockersmixinblockerreason-intersection_changed"},
"dom-activationblockersmixinblockerreason-intersection_occluded_or_distorted": {"dfnID":"dom-activationblockersmixinblockerreason-intersection_occluded_or_distorted","dfnText":"\"intersection_occluded_or_distorted\"","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-activationblockersmixinblockerreason-intersection_occluded_or_distorted"}],"title":"3.1.2. Action Blockers, Blocker Reasons, and Blocker Lifetimes"},{"refs":[{"id":"ref-for-dom-activationblockersmixinblockerreason-intersection_occluded_or_distorted\u2460"},{"id":"ref-for-dom-activationblockersmixinblockerreason-intersection_occluded_or_distorted\u2461"}],"title":"3.1.3. Algorithms"}],"url":"#dom-activationblockersmixinblockerreason-intersection_occluded_or_distorted"},
"dom-activationblockersmixinblockerreason-intersection_out_of_viewport_or_clipped": {"dfnID":"dom-activationblockersmixinblockerreason-intersection_out_of_viewport_or_clipped","dfnText":"\"intersection_out_of_viewport_or_clipped\"","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-activationblockersmixinblockerreason-intersection_out_of_viewport_or_clipped"}],"title":"3.1.2. Action Blockers, Blocker Reasons, and Blocker Lifetimes"},{"refs":[{"id":"ref-for-dom-activationblockersmixinblockerreason-intersection_out_of_viewport_or_clipped\u2460"},{"id":"ref-for-dom-activationblockersmixinblockerreason-intersection_out_of_viewport_or_clipped\u2461"}],"title":"3.1.3. Algorithms"}],"url":"#dom-activationblockersmixinblockerreason-intersection_out_of_viewport_or_clipped"},
"dom-activationblockersmixinblockerreason-recently_attached": {"dfnID":"dom-activationblockersmixinblockerreason-recently_attached","dfnText":"\"recently_attached\"","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-activationblockersmixinblockerreason-recently_attached"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-dom-activationblockersmixinblockerreason-recently_attached\u2460"}],"title":"3.1.2. Action Blockers, Blocker Reasons, and Blocker Lifetimes"}],"url":"#dom-activationblockersmixinblockerreason-recently_attached"},
"dom-activationblockersmixinblockerreason-style_invalid": {"dfnID":"dom-activationblockersmixinblockerreason-style_invalid","dfnText":"\"style_invalid\"","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-activationblockersmixinblockerreason-style_invalid"}],"title":"3.1.2. Action Blockers, Blocker Reasons, and Blocker Lifetimes"},{"refs":[{"id":"ref-for-dom-activationblockersmixinblockerreason-style_invalid\u2460"}],"title":"3.4.1. Conditions that Deactivate the Element"}],"url":"#dom-activationblockersmixinblockerreason-style_invalid"},
"dom-activationblockersmixinblockerreason-type_invalid": {"dfnID":"dom-activationblockersmixinblockerreason-type_invalid","dfnText":"\"type_invalid\"","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-activationblockersmixinblockerreason-type_invalid"}],"title":"3.1.2. Action Blockers, Blocker Reasons, and Blocker Lifetimes"},{"refs":[{"id":"ref-for-dom-activationblockersmixinblockerreason-type_invalid\u2460"}],"title":"3.2.2. Algorithms"},{"refs":[{"id":"ref-for-dom-activationblockersmixinblockerreason-type_invalid\u2461"}],"title":"3.3. Falling Back"}],"url":"#dom-activationblockersmixinblockerreason-type_invalid"},
"dom-activationblockersmixinblockerreason-unsuccesful_registration": {"dfnID":"dom-activationblockersmixinblockerreason-unsuccesful_registration","dfnText":"\"unsuccesful_registration\"","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-activationblockersmixinblockerreason-unsuccesful_registration"}],"title":"2.1.1. Mixin-supporting state at the navigable"},{"refs":[{"id":"ref-for-dom-activationblockersmixinblockerreason-unsuccesful_registration\u2460"},{"id":"ref-for-dom-activationblockersmixinblockerreason-unsuccesful_registration\u2461"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-dom-activationblockersmixinblockerreason-unsuccesful_registration\u2462"}],"title":"3.1.2. Action Blockers, Blocker Reasons, and Blocker Lifetimes"}],"url":"#dom-activationblockersmixinblockerreason-unsuccesful_registration"},
"dom-htmlgeolocationelement-autolocate": {"dfnID":"dom-htmlgeolocationelement-autolocate","dfnText":"autolocate","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-htmlgeolocationelement-autolocate"}],"title":"2. The geolocation Element"},{"refs":[{"id":"ref-for-dom-htmlgeolocationelement-autolocate\u2460"}],"title":"2.2. geolocation element algorithms"}],"url":"#dom-htmlgeolocationelement-autolocate"},
"dom-htmlgeolocationelement-constructor": {"dfnID":"dom-htmlgeolocationelement-constructor","dfnText":"constructor()","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-htmlgeolocationelement-constructor"}],"title":"2. The geolocation Element"}],"url":"#dom-htmlgeolocationelement-constructor"},
"dom-htmlgeolocationelement-error": {"dfnID":"dom-htmlgeolocationelement-error","dfnText":"error","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-htmlgeolocationelement-error"},{"id":"ref-for-dom-htmlgeolocationelement-error\u2460"}],"title":"2. The geolocation Element"},{"refs":[{"id":"ref-for-dom-htmlgeolocationelement-error\u2461"}],"title":"2.2. geolocation element algorithms"}],"url":"#dom-htmlgeolocationelement-error"},
"dom-htmlgeolocationelement-onlocation": {"dfnID":"dom-htmlgeolocationelement-onlocation","dfnText":"onlocation","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-htmlgeolocationelement-onlocation"},{"id":"ref-for-dom-htmlgeolocationelement-onlocation\u2460"}],"title":"2. The geolocation Element"},{"refs":[{"id":"ref-for-dom-htmlgeolocationelement-onlocation\u2461"}],"title":"2.2. geolocation element algorithms"}],"url":"#dom-htmlgeolocationelement-onlocation"},
"dom-htmlgeolocationelement-position": {"dfnID":"dom-htmlgeolocationelement-position","dfnText":"position","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-htmlgeolocationelement-position"},{"id":"ref-for-dom-htmlgeolocationelement-position\u2460"}],"title":"2. The geolocation Element"},{"refs":[{"id":"ref-for-dom-htmlgeolocationelement-position\u2461"}],"title":"2.2. geolocation element algorithms"}],"url":"#dom-htmlgeolocationelement-position"},
"dom-htmlgeolocationelement-position-slot": {"dfnID":"dom-htmlgeolocationelement-position-slot","dfnText":"[[position]]","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-htmlgeolocationelement-position-slot"},{"id":"ref-for-dom-htmlgeolocationelement-position-slot\u2460"},{"id":"ref-for-dom-htmlgeolocationelement-position-slot\u2461"},{"id":"ref-for-dom-htmlgeolocationelement-position-slot\u2462"}],"title":"2.2. geolocation element algorithms"}],"url":"#dom-htmlgeolocationelement-position-slot"},
"dom-htmlgeolocationelement-positionerror-slot": {"dfnID":"dom-htmlgeolocationelement-positionerror-slot","dfnText":"[[positionError]]","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-htmlgeolocationelement-positionerror-slot"},{"id":"ref-for-dom-htmlgeolocationelement-positionerror-slot\u2460"},{"id":"ref-for-dom-htmlgeolocationelement-positionerror-slot\u2461"},{"id":"ref-for-dom-htmlgeolocationelement-positionerror-slot\u2462"}],"title":"2.2. geolocation element algorithms"}],"url":"#dom-htmlgeolocationelement-positionerror-slot"},
"dom-htmlgeolocationelement-watch": {"dfnID":"dom-htmlgeolocationelement-watch","dfnText":"watch","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-htmlgeolocationelement-watch"},{"id":"ref-for-dom-htmlgeolocationelement-watch\u2460"}],"title":"2. The geolocation Element"},{"refs":[{"id":"ref-for-dom-htmlgeolocationelement-watch\u2461"}],"title":"2.2. geolocation element algorithms"}],"url":"#dom-htmlgeolocationelement-watch"},
"dom-htmlgeolocationelement-watchids-slot": {"dfnID":"dom-htmlgeolocationelement-watchids-slot","dfnText":"[[watchIDs]]","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-htmlgeolocationelement-watchids-slot"},{"id":"ref-for-dom-htmlgeolocationelement-watchids-slot\u2460"}],"title":"2.2. geolocation element algorithms"}],"url":"#dom-htmlgeolocationelement-watchids-slot"},
"dom-navigable-permissionelements-slot": {"dfnID":"dom-navigable-permissionelements-slot","dfnText":"[[PermissionElements]]","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-navigable-permissionelements-slot"},{"id":"ref-for-dom-navigable-permissionelements-slot\u2460"},{"id":"ref-for-dom-navigable-permissionelements-slot\u2461"},{"id":"ref-for-dom-navigable-permissionelements-slot\u2462"},{"id":"ref-for-dom-navigable-permissionelements-slot\u2463"}],"title":"2.2. geolocation element algorithms"}],"url":"#dom-navigable-permissionelements-slot"},
"dom-permissionsmixin-features-slot": {"dfnID":"dom-permissionsmixin-features-slot","dfnText":"[[Features]]","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-permissionsmixin-features-slot"},{"id":"ref-for-dom-permissionsmixin-features-slot\u2460"},{"id":"ref-for-dom-permissionsmixin-features-slot\u2461"},{"id":"ref-for-dom-permissionsmixin-features-slot\u2462"},{"id":"ref-for-dom-permissionsmixin-features-slot\u2463"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-dom-permissionsmixin-features-slot\u2464"}],"title":"3.2.1. Internal state"},{"refs":[{"id":"ref-for-dom-permissionsmixin-features-slot\u2465"},{"id":"ref-for-dom-permissionsmixin-features-slot\u2466"},{"id":"ref-for-dom-permissionsmixin-features-slot\u2467"},{"id":"ref-for-dom-permissionsmixin-features-slot\u2468"}],"title":"3.2.2. Algorithms"},{"refs":[{"id":"ref-for-dom-permissionsmixin-features-slot\u2460\u24ea"}],"title":"3.2.3. Presentation"}],"url":"#dom-permissionsmixin-features-slot"},
"dom-permissionsmixin-initialpermissionstatus": {"dfnID":"dom-permissionsmixin-initialpermissionstatus","dfnText":"initialPermissionStatus","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-permissionsmixin-initialpermissionstatus"},{"id":"ref-for-dom-permissionsmixin-initialpermissionstatus\u2460"}],"title":"3.2. Powerful Features, aka Permissions"}],"url":"#dom-permissionsmixin-initialpermissionstatus"},
"dom-permissionsmixin-initialpermissionstatus-slot": {"dfnID":"dom-permissionsmixin-initialpermissionstatus-slot","dfnText":"[[InitialPermissionStatus]]","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-permissionsmixin-initialpermissionstatus-slot"},{"id":"ref-for-dom-permissionsmixin-initialpermissionstatus-slot\u2460"}],"title":"3.2.2. Algorithms"}],"url":"#dom-permissionsmixin-initialpermissionstatus-slot"},
"dom-permissionsmixin-onpromptaction": {"dfnID":"dom-permissionsmixin-onpromptaction","dfnText":"onpromptaction","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-permissionsmixin-onpromptaction"}],"title":"2. The geolocation Element"},{"refs":[{"id":"ref-for-dom-permissionsmixin-onpromptaction\u2460"}],"title":"3.2. Powerful Features, aka Permissions"},{"refs":[{"id":"ref-for-dom-permissionsmixin-onpromptaction\u2461"}],"title":"3.2.2. Algorithms"}],"url":"#dom-permissionsmixin-onpromptaction"},
"dom-permissionsmixin-onpromptdismiss": {"dfnID":"dom-permissionsmixin-onpromptdismiss","dfnText":"onpromptdismiss","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-permissionsmixin-onpromptdismiss"}],"title":"2. The geolocation Element"},{"refs":[{"id":"ref-for-dom-permissionsmixin-onpromptdismiss\u2460"}],"title":"3.2. Powerful Features, aka Permissions"},{"refs":[{"id":"ref-for-dom-permissionsmixin-onpromptdismiss\u2461"}],"title":"3.2.2. Algorithms"}],"url":"#dom-permissionsmixin-onpromptdismiss"},
"dom-permissionsmixin-permissionstatus": {"dfnID":"dom-permissionsmixin-permissionstatus","dfnText":"permissionStatus","external":false,"refSections":[{"refs":[{"id":"ref-for-dom-permissionsmixin-permissionstatus"},{"id":"ref-for-dom-permissionsmixin-permissionstatus\u2460"}],"title":"3.2. Powerful Features, aka Permissions"}],"url":"#dom-permissionsmixin-permissionstatus"},
"e1483d91": {"dfnID":"e1483d91","dfnText":"top","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-top"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-position-3/#propdef-top"},
"e22643f2": {"dfnID":"e22643f2","dfnText":"isVisible","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-intersectionobserverentry-isvisible"}],"title":"3.1.3. Algorithms"}],"url":"https://w3c.github.io/IntersectionObserver/#dom-intersectionobserverentry-isvisible"},
"e30e7b38": {"dfnID":"e30e7b38","dfnText":"lang (for html-global)","external":true,"refSections":[{"refs":[{"id":"ref-for-attr-lang"}],"title":"2.3. geolocation element rendering"},{"refs":[{"id":"ref-for-attr-lang\u2460"}],"title":"3.2.3. Presentation"}],"url":"https://html.spec.whatwg.org/multipage/dom.html#attr-lang"},
"e50bfdb1": {"dfnID":"e50bfdb1","dfnText":"role","external":true,"refSections":[{"refs":[{"id":"ref-for-dfn-role"}],"title":"2. The geolocation Element"}],"url":"https://w3c.github.io/aria/#dfn-role"},
"e58fed16": {"dfnID":"e58fed16","dfnText":"text-spacing-trim","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-text-spacing-trim"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-text-4/#propdef-text-spacing-trim"},
"e5a7e26c": {"dfnID":"e5a7e26c","dfnText":"phrasing content","external":true,"refSections":[{"refs":[{"id":"ref-for-phrasing-content-2"},{"id":"ref-for-phrasing-content-2\u2460"}],"title":"2. The geolocation Element"}],"url":"https://html.spec.whatwg.org/multipage/dom.html#phrasing-content-2"},
"e697420b": {"dfnID":"e697420b","dfnText":"border-bottom","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-border-bottom"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-borders-4/#propdef-border-bottom"},
"e7cd6f5a": {"dfnID":"e7cd6f5a","dfnText":"font-stretch","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-font-stretch"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-fonts-4/#propdef-font-stretch"},
"e97a9688": {"dfnID":"e97a9688","dfnText":"unsigned long","external":true,"refSections":[{"refs":[{"id":"ref-for-idl-unsigned-long"}],"title":"2.2. geolocation element algorithms"}],"url":"https://webidl.spec.whatwg.org/#idl-unsigned-long"},
"e99bd18e": {"dfnID":"e99bd18e","dfnText":"relevant global object","external":true,"refSections":[{"refs":[{"id":"ref-for-concept-relevant-global"}],"title":"2.2. geolocation element algorithms"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"},
"e9bc15aa": {"dfnID":"e9bc15aa","dfnText":"user-select","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-user-select"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-ui-4/#propdef-user-select"},
"ebb01253": {"dfnID":"ebb01253","dfnText":"PermissionDescriptor","external":true,"refSections":[{"refs":[{"id":"ref-for-dom-permissiondescriptor"}],"title":"3.2.2. Algorithms"}],"url":"https://w3c.github.io/permissions/#dom-permissiondescriptor"},
"ec650328": {"dfnID":"ec650328","dfnText":"IntersectionObserverEntry","external":true,"refSections":[{"refs":[{"id":"ref-for-intersectionobserverentry"}],"title":"3.1.3. Algorithms"}],"url":"https://w3c.github.io/IntersectionObserver/#intersectionobserverentry"},
"edc3a18b": {"dfnID":"edc3a18b","dfnText":"flex-grow","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-flex-grow"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-flexbox-1/#propdef-flex-grow"},
"ef338520": {"dfnID":"ef338520","dfnText":"scroll-margin-left","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-scroll-margin-left"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-margin-left"},
"eff1f6e9": {"dfnID":"eff1f6e9","dfnText":"computed value","external":true,"refSections":[{"refs":[{"id":"ref-for-computed-value"},{"id":"ref-for-computed-value\u2460"},{"id":"ref-for-computed-value\u2461"}],"title":"3.4.1. Conditions that Deactivate the Element"},{"refs":[{"id":"ref-for-computed-value\u2462"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://www.w3.org/TR/CSS2/cascade.html#computed-value"},
"element-attrdef-geolocation-autolocate": {"dfnID":"element-attrdef-geolocation-autolocate","dfnText":"autolocate","external":false,"refSections":[{"refs":[{"id":"ref-for-element-attrdef-geolocation-autolocate"}],"title":"2. The geolocation Element"}],"url":"#element-attrdef-geolocation-autolocate"},
"element-attrdef-geolocation-watch": {"dfnID":"element-attrdef-geolocation-watch","dfnText":"watch","external":false,"refSections":[{"refs":[{"id":"ref-for-element-attrdef-geolocation-watch"}],"title":"2. The geolocation Element"}],"url":"#element-attrdef-geolocation-watch"},
"elementdef-geolocation": {"dfnID":"elementdef-geolocation","dfnText":"geolocation","external":false,"refSections":[{"refs":[{"id":"ref-for-elementdef-geolocation"},{"id":"ref-for-elementdef-geolocation\u2460"},{"id":"ref-for-elementdef-geolocation\u2461"},{"id":"ref-for-elementdef-geolocation\u2462"},{"id":"ref-for-elementdef-geolocation\u2463"},{"id":"ref-for-elementdef-geolocation\u2464"}],"title":"2. The geolocation Element"},{"refs":[{"id":"ref-for-elementdef-geolocation\u2465"},{"id":"ref-for-elementdef-geolocation\u2466"},{"id":"ref-for-elementdef-geolocation\u2467"}],"title":"2.1. geolocation element internal state"},{"refs":[{"id":"ref-for-elementdef-geolocation\u2468"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-elementdef-geolocation\u2460\u24ea"},{"id":"ref-for-elementdef-geolocation\u2460\u2460"}],"title":"2.3. geolocation element rendering"}],"url":"#elementdef-geolocation"},
"enumdef-activationblockersmixinblockerreason": {"dfnID":"enumdef-activationblockersmixinblockerreason","dfnText":"ActivationBlockersMixinBlockerReason","external":false,"refSections":[{"refs":[{"id":"ref-for-enumdef-activationblockersmixinblockerreason"},{"id":"ref-for-enumdef-activationblockersmixinblockerreason\u2460"}],"title":"3.1. Activation Blockers"},{"refs":[{"id":"ref-for-enumdef-activationblockersmixinblockerreason\u2461"}],"title":"3.1.1. Internal state"},{"refs":[{"id":"ref-for-enumdef-activationblockersmixinblockerreason\u2462"},{"id":"ref-for-enumdef-activationblockersmixinblockerreason\u2463"},{"id":"ref-for-enumdef-activationblockersmixinblockerreason\u2464"},{"id":"ref-for-enumdef-activationblockersmixinblockerreason\u2465"},{"id":"ref-for-enumdef-activationblockersmixinblockerreason\u2466"},{"id":"ref-for-enumdef-activationblockersmixinblockerreason\u2467"}],"title":"3.1.3. Algorithms"}],"url":"#enumdef-activationblockersmixinblockerreason"},
"expiring-blocker": {"dfnID":"expiring-blocker","dfnText":"Expiring blocker","external":false,"refSections":[{"refs":[{"id":"ref-for-expiring-blocker"},{"id":"ref-for-expiring-blocker\u2460"},{"id":"ref-for-expiring-blocker\u2461"}],"title":"3.1.2. Action Blockers, Blocker Reasons, and Blocker Lifetimes"}],"url":"#expiring-blocker"},
"f02cd417": {"dfnID":"f02cd417","dfnText":"iterate","external":true,"refSections":[{"refs":[{"id":"ref-for-list-iterate"},{"id":"ref-for-list-iterate\u2460"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-list-iterate\u2461"}],"title":"3.1.3. Algorithms"},{"refs":[{"id":"ref-for-list-iterate\u2462"}],"title":"3.2.2. Algorithms"}],"url":"https://infra.spec.whatwg.org/#list-iterate"},
"f0951476": {"dfnID":"f0951476","dfnText":"EventHandler","external":true,"refSections":[{"refs":[{"id":"ref-for-eventhandler"}],"title":"2. The geolocation Element"},{"refs":[{"id":"ref-for-eventhandler\u2460"}],"title":"3.1. Activation Blockers"},{"refs":[{"id":"ref-for-eventhandler\u2461"},{"id":"ref-for-eventhandler\u2462"}],"title":"3.2. Powerful Features, aka Permissions"}],"url":"https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"},
"f210b721": {"dfnID":"f210b721","dfnText":"order","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-order"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-display-4/#propdef-order"},
"f87501d6": {"dfnID":"f87501d6","dfnText":"font-synthesis-small-caps","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-font-synthesis-small-caps"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-fonts-4/#propdef-font-synthesis-small-caps"},
"fb8e6438": {"dfnID":"fb8e6438","dfnText":"scroll-margin-top","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-scroll-margin-top"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-margin-top"},
"fffe4623": {"dfnID":"fffe4623","dfnText":"counter-set","external":true,"refSections":[{"refs":[{"id":"ref-for-propdef-counter-set"}],"title":"3.4.3. Additional User-Agent Defined Style Bounds"}],"url":"https://drafts.csswg.org/css-lists-3/#propdef-counter-set"},
"htmlgeolocationelement": {"dfnID":"htmlgeolocationelement","dfnText":"HTMLGeolocationElement","external":false,"refSections":[{"refs":[{"id":"ref-for-htmlgeolocationelement"},{"id":"ref-for-htmlgeolocationelement\u2460"},{"id":"ref-for-htmlgeolocationelement\u2461"},{"id":"ref-for-htmlgeolocationelement\u2462"}],"title":"2. The geolocation Element"},{"refs":[{"id":"ref-for-htmlgeolocationelement\u2463"}],"title":"2.1.1. Mixin-supporting state at the navigable"},{"refs":[{"id":"ref-for-htmlgeolocationelement\u2464"},{"id":"ref-for-htmlgeolocationelement\u2465"},{"id":"ref-for-htmlgeolocationelement\u2466"},{"id":"ref-for-htmlgeolocationelement\u2467"}],"title":"2.2. geolocation element algorithms"}],"url":"#htmlgeolocationelement"},
"htmlgeolocationelement-fetch-location": {"dfnID":"htmlgeolocationelement-fetch-location","dfnText":"fetch location","external":false,"refSections":[{"refs":[{"id":"ref-for-htmlgeolocationelement-fetch-location"},{"id":"ref-for-htmlgeolocationelement-fetch-location\u2460"}],"title":"2.2. geolocation element algorithms"}],"url":"#htmlgeolocationelement-fetch-location"},
"htmlgeolocationelement-insertion-steps": {"dfnID":"htmlgeolocationelement-insertion-steps","dfnText":"insertion steps","external":false,"refSections":[],"url":"#htmlgeolocationelement-insertion-steps"},
"htmlgeolocationelement-maybe-autolocate": {"dfnID":"htmlgeolocationelement-maybe-autolocate","dfnText":"maybe autolocate","external":false,"refSections":[{"refs":[{"id":"ref-for-htmlgeolocationelement-maybe-autolocate"}],"title":"2.2. geolocation element algorithms"}],"url":"#htmlgeolocationelement-maybe-autolocate"},
"htmlgeolocationelement-recheck-type-permissibility": {"dfnID":"htmlgeolocationelement-recheck-type-permissibility","dfnText":"recheck type permissibility","external":false,"refSections":[{"refs":[{"id":"ref-for-htmlgeolocationelement-recheck-type-permissibility"}],"title":"2.2. geolocation element algorithms"}],"url":"#htmlgeolocationelement-recheck-type-permissibility"},
"htmlgeolocationelement-type-permissible": {"dfnID":"htmlgeolocationelement-type-permissible","dfnText":"type permissible","external":false,"refSections":[{"refs":[{"id":"ref-for-htmlgeolocationelement-type-permissible"},{"id":"ref-for-htmlgeolocationelement-type-permissible\u2460"}],"title":"2.2. geolocation element algorithms"}],"url":"#htmlgeolocationelement-type-permissible"},
"permanent-blocker": {"dfnID":"permanent-blocker","dfnText":"Permanent blocker","external":false,"refSections":[{"refs":[{"id":"ref-for-permanent-blocker"},{"id":"ref-for-permanent-blocker\u2460"}],"title":"3.1.2. Action Blockers, Blocker Reasons, and Blocker Lifetimes"}],"url":"#permanent-blocker"},
"permissionsmixin": {"dfnID":"permissionsmixin","dfnText":"PermissionsMixin","external":false,"refSections":[{"refs":[{"id":"ref-for-permissionsmixin"}],"title":"2. The geolocation Element"},{"refs":[{"id":"ref-for-permissionsmixin\u2460"}],"title":"2.1. geolocation element internal state"},{"refs":[{"id":"ref-for-permissionsmixin\u2461"},{"id":"ref-for-permissionsmixin\u2462"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-permissionsmixin\u2463"},{"id":"ref-for-permissionsmixin\u2464"}],"title":"3.2. Powerful Features, aka Permissions"},{"refs":[{"id":"ref-for-permissionsmixin\u2465"},{"id":"ref-for-permissionsmixin\u2466"}],"title":"3.2.1. Internal state"},{"refs":[{"id":"ref-for-permissionsmixin\u2467"},{"id":"ref-for-permissionsmixin\u2468"},{"id":"ref-for-permissionsmixin\u2460\u24ea"},{"id":"ref-for-permissionsmixin\u2460\u2460"},{"id":"ref-for-permissionsmixin\u2460\u2461"}],"title":"3.2.2. Algorithms"},{"refs":[{"id":"ref-for-permissionsmixin\u2460\u2462"}],"title":"3.2.3. Presentation"}],"url":"#permissionsmixin"},
"permissionsmixin-build-a-permission-descriptor": {"dfnID":"permissionsmixin-build-a-permission-descriptor","dfnText":"build a permission descriptor","external":false,"refSections":[{"refs":[{"id":"ref-for-permissionsmixin-build-a-permission-descriptor"}],"title":"2.2. geolocation element algorithms"}],"url":"#permissionsmixin-build-a-permission-descriptor"},
"permissionsmixin-dispatch-onpromptaction": {"dfnID":"permissionsmixin-dispatch-onpromptaction","dfnText":"dispatch onpromptaction","external":false,"refSections":[{"refs":[{"id":"ref-for-permissionsmixin-dispatch-onpromptaction"}],"title":"2.2. geolocation element algorithms"}],"url":"#permissionsmixin-dispatch-onpromptaction"},
"permissionsmixin-dispatch-onpromptdismiss": {"dfnID":"permissionsmixin-dispatch-onpromptdismiss","dfnText":"dispatch onpromptdismiss","external":false,"refSections":[{"refs":[{"id":"ref-for-permissionsmixin-dispatch-onpromptdismiss"}],"title":"2.2. geolocation element algorithms"}],"url":"#permissionsmixin-dispatch-onpromptdismiss"},
"permissionsmixin-get-the-current-permission-state": {"dfnID":"permissionsmixin-get-the-current-permission-state","dfnText":"get the current permission state","external":false,"refSections":[{"refs":[{"id":"ref-for-permissionsmixin-get-the-current-permission-state"}],"title":"2.2. geolocation element algorithms"},{"refs":[{"id":"ref-for-permissionsmixin-get-the-current-permission-state\u2460"},{"id":"ref-for-permissionsmixin-get-the-current-permission-state\u2461"}],"title":"3.2.2. Algorithms"}],"url":"#permissionsmixin-get-the-current-permission-state"},
"permissionsmixin-initialization-steps": {"dfnID":"permissionsmixin-initialization-steps","dfnText":"initialization steps","external":false,"refSections":[{"refs":[{"id":"ref-for-permissionsmixin-initialization-steps"}],"title":"2.2. geolocation element algorithms"}],"url":"#permissionsmixin-initialization-steps"},
"permissionsmixin-insertion-steps": {"dfnID":"permissionsmixin-insertion-steps","dfnText":"insertion steps","external":false,"refSections":[{"refs":[{"id":"ref-for-permissionsmixin-insertion-steps"}],"title":"2.2. geolocation element algorithms"}],"url":"#permissionsmixin-insertion-steps"},
"permissionsmixin-permissionsmixin-attributes": {"dfnID":"permissionsmixin-permissionsmixin-attributes","dfnText":"PermissionsMixin attributes","external":false,"refSections":[{"refs":[{"id":"ref-for-permissionsmixin-permissionsmixin-attributes"}],"title":"2. The geolocation Element"}],"url":"#permissionsmixin-permissionsmixin-attributes"},
"temporary-blocker": {"dfnID":"temporary-blocker","dfnText":"Temporary blocker","external":false,"refSections":[{"refs":[{"id":"ref-for-temporary-blocker"},{"id":"ref-for-temporary-blocker\u2460"},{"id":"ref-for-temporary-blocker\u2461"},{"id":"ref-for-temporary-blocker\u2462"},{"id":"ref-for-temporary-blocker\u2463"}],"title":"3.1.2. Action Blockers, Blocker Reasons, and Blocker Lifetimes"}],"url":"#temporary-blocker"},
};

document.addEventListener("DOMContentLoaded", ()=>{
    genAllDfnPanels();

    document.body.addEventListener("click", (e) => {
        // If not handled already, just hide all dfn panels.
        hideAllDfnPanels();
    });
});

window.addEventListener("resize", () => {
    // Pin any visible dfn panel
    queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(el=>positionDfnPanel(el));
});

function genAllDfnPanels() {
    for(const panelData of Object.values(dfnPanelData)) {
        const dfnID = panelData.dfnID;
        const dfn = document.getElementById(dfnID);
        if(!dfn) {
            console.log(`Can't find dfn#${dfnID}.`, panelData);
            continue;
        }
        dfn.panelData = panelData;
        insertDfnPopupAction(dfn);
    }
}

function genDfnPanel(dfn, { dfnID, url, dfnText, refSections, external }) {
    const dfnPanel = mk.aside({
        class: "dfn-panel on",
        id: `infopanel-for-${dfnID}`,
        "data-for": dfnID,
        "aria-labelled-by":`infopaneltitle-for-${dfnID}`,
        },
        mk.span({id:`infopaneltitle-for-${dfnID}`, style:"display:none"},
            `Info about the '${dfnText}' ${external?"external":""} reference.`),
        mk.a({href:url, class:"dfn-link"}, url),
        refSections.length == 0 ? [] :
            mk.b({}, "Referenced in:"),
            mk.ul({},
                ...refSections.map(section=>
                    mk.li({},
                        ...section.refs.map((ref, refI)=>
                            [
                                mk.a({ href: `#${ref.id}` },
                                    (refI == 0) ? section.title : `(${refI + 1})`
                                ),
                                " ",
                            ]
                        ),
                    ),
                ),
            ),
        genLinkingSyntaxes(dfn),
    );

    dfnPanel.addEventListener('click', (event) => {
        if (event.target.nodeName == 'A') {
            scrollToTargetAndHighlight(event);
            pinDfnPanel(dfnPanel);
        }
        event.stopPropagation();
        refocusOnTarget(event);
    });
    dfnPanel.addEventListener('keydown', (event) => {
        if(event.keyCode == 27) { // Escape key
            hideDfnPanel({dfnPanel});
            event.stopPropagation();
            event.preventDefault();
        }
    });

    dfnPanel.dfn = dfn;
    dfn.dfnPanel = dfnPanel;
    return dfnPanel;
}



function hideAllDfnPanels() {
    // Delete the currently-active dfn panel.
    queryAll(".dfn-panel").forEach(dfnPanel=>hideDfnPanel({dfnPanel}));
}

function showDfnPanel(dfn) {
    hideAllDfnPanels(); // Only display one at a time.

    dfn.setAttribute("aria-expanded", "true");

    const dfnPanel = genDfnPanel(dfn, dfn.panelData);

    // Give the dfn a unique tabindex, and then
    // give all the tabbable panel bits successive indexes.
    let tabIndex = 100;
    dfn.tabIndex = tabIndex++;
    const tabbable = dfnPanel.querySelectorAll(":is(a, button)");
    for (const el of tabbable) {
        el.tabIndex = tabIndex++;
    }

    append(document.body, dfnPanel);
    positionDfnPanel(dfnPanel);
}

function positionDfnPanel(dfnPanel) {
    const dfn = dfnPanel.dfn;
    const dfnPos = getBounds(dfn);
    dfnPanel.style.top = dfnPos.bottom + "px";
    dfnPanel.style.left = dfnPos.left + "px";

    const panelPos = dfnPanel.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, dfnPos.left - overflowAmount);
        dfnPanel.style.left = newLeft + "px";
    }
}

function pinDfnPanel(dfnPanel) {
    // Switch it to "activated" state, which pins it.
    dfnPanel.classList.add("activated");
    dfnPanel.style.position = "fixed";
    dfnPanel.style.left = null;
    dfnPanel.style.top = null;
}

function hideDfnPanel({dfn, dfnPanel}) {
    if(!dfnPanel) dfnPanel = dfn.dfnPanel;
    if(!dfn) dfn = dfnPanel.dfn;
    dfn.dfnPanel = undefined;
    dfnPanel.dfn = undefined;
    dfn.setAttribute("aria-expanded", "false");
    dfn.tabIndex = undefined;
    dfnPanel.remove()
}

function toggleDfnPanel(dfn) {
    if(dfn.dfnPanel) {
        hideDfnPanel(dfn);
    } else {
        showDfnPanel(dfn);
    }
}

function insertDfnPopupAction(dfn) {
    dfn.setAttribute('role', 'button');
    dfn.setAttribute('aria-expanded', 'false')
    dfn.tabIndex = 0;
    dfn.classList.add('has-dfn-panel');
    dfn.addEventListener('click', (event) => {
        toggleDfnPanel(dfn);
        event.stopPropagation();
    });
    dfn.addEventListener('keypress', (event) => {
        const kc = event.keyCode;
        // 32->Space, 13->Enter
        if(kc == 32 || kc == 13) {
            toggleDfnPanel(dfn);
            event.stopPropagation();
            event.preventDefault();
        }
    });
}

function refocusOnTarget(event) {
    const target = event.target;
    setTimeout(() => {
        // Refocus on the event.target element.
        // This is needed after browser scrolls to the destination.
        target.focus();
    });
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function scrollToTargetAndHighlight(event) {
    let hash = event.target.hash;
    if (hash) {
        hash = decodeURIComponent(hash.substring(1));
        const dest = document.getElementById(hash);
        if (dest) {
            dest.classList.add('highlighted');
            setTimeout(() => dest.classList.remove('highlighted'), 1000);
        }
    }
}

// Functions, divided by link type, that wrap an autolink's
// contents with the appropriate outer syntax.
// Alternately, a string naming another type they format
// the same as.
function needsFor(type) {
    switch(type) {
        case "descriptor":
        case "value":
        case "element-attr":
        case "attr-value":
        case "element-state":
        case "method":
        case "constructor":
        case "argument":
        case "attribute":
        case "const":
        case "dict-member":
        case "event":
        case "enum-value":
        case "stringifier":
        case "serializer":
        case "iterator":
        case "maplike":
        case "setlike":
        case "state":
        case "mode":
        case "context":
        case "facet": return true;

        default: return false;
    }
}
function refusesFor(type) {
    switch(type) {
        case "property":
        case "element":
        case "interface":
        case "namespace":
        case "callback":
        case "dictionary":
        case "enum":
        case "exception":
        case "typedef":
        case "http-header":
        case "permission": return true;

        default: return false;
    }
}
function linkFormatterFromType(type) {
    switch(type) {
        case 'scheme':
        case 'permission':
        case 'dfn': return (text) => `[=${text}=]`;

        case 'abstract-op': return (text) => `[\$${text}\$]`;

        case 'function':
        case 'at-rule':
        case 'selector':
        case 'value': return (text) => `''${text}''`;

        case 'http-header': return (text) => `[:${text}:]`;

        case 'interface':
        case 'constructor':
        case 'method':
        case 'argument':
        case 'attribute':
        case 'callback':
        case 'dictionary':
        case 'dict-member':
        case 'enum':
        case 'enum-value':
        case 'exception':
        case 'const':
        case 'typedef':
        case 'stringifier':
        case 'serializer':
        case 'iterator':
        case 'maplike':
        case 'setlike':
        case 'extended-attribute':
        case 'event':
        case 'idl': return (text) => `{{${text}}}`;

        case 'element-state':
        case 'element-attr':
        case 'attr-value':
        case 'element': return (element) => `<{${element}}>`;

        case 'grammar': return (text) => `${text} (within a <pre class=prod>)`;

        case 'type': return (text)=> `<<${text}>>`;

        case 'descriptor':
        case 'property': return (text) => `'${text}'`;

        default: return;
    };
};

function genLinkingSyntaxes(dfn) {
    if(dfn.tagName != "DFN") return;

    const type = dfn.getAttribute('data-dfn-type');
    if(!type) {
        console.log(`<dfn> doesn't have a data-dfn-type:`, dfn);
        return [];
    }

    // Return a function that wraps link text based on the type
    const linkFormatter = linkFormatterFromType(type);
    if(!linkFormatter) {
        console.log(`<dfn> has an unknown data-dfn-type:`, dfn);
        return [];
    }

    let ltAlts;
    if(dfn.hasAttribute('data-lt')) {
        ltAlts = dfn.getAttribute('data-lt')
            .split("|")
            .map(x=>x.trim());
    } else {
        ltAlts = [dfn.textContent.trim()];
    }
    if(type == "type") {
        // lt of "<foo>", but "foo" is the interior;
        // <<foo/bar>> is how you write it with a for,
        // not <foo/<bar>> or whatever.
        for(var i = 0; i < ltAlts.length; i++) {
            const lt = ltAlts[i];
            const match = /<(.*)>/.exec(lt);
            if(match) { ltAlts[i] = match[1]; }
        }
    }

    let forAlts;
    if(dfn.hasAttribute('data-dfn-for')) {
        forAlts = dfn.getAttribute('data-dfn-for')
            .split(",")
            .map(x=>x.trim());
    } else {
        forAlts = [''];
    }

    let linkingSyntaxes = [];
    if(!needsFor(type)) {
        for(const lt of ltAlts) {
            linkingSyntaxes.push(linkFormatter(lt));
        }
    }
    if(!refusesFor(type)) {
        for(const f of forAlts) {
            linkingSyntaxes.push(linkFormatter(`${f}/${ltAlts[0]}`))
        }
    }
    return [
        mk.b({}, 'Possible linking syntaxes:'),
        mk.ul({},
            ...linkingSyntaxes.map(link => {
                const copyLink = async () =>
                    await navigator.clipboard.writeText(link);
                return mk.li({},
                    mk.div({ class: 'link-item' },
                        mk.button({
                            class: 'copy-icon', title: 'Copy',
                            type: 'button',
                            _onclick: copyLink,
                            tabindex: 0,
                        }, mk.span({ class: 'icon' }) ),
                        mk.span({}, link)
                    )
                );
            })
        )
    ];
}
}
</script>
<script>/* Boilerplate: script-ref-hints */
"use strict";
{
let refsData = {
"#activationblockersmixin": {"displayText":"ActivationBlockersMixin","export":true,"for_":[],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"ActivationBlockersMixin","type":"interface","url":"#activationblockersmixin"},
"#activationblockersmixin-activationblockersmixin-attributes": {"displayText":"activationblockersmixin attributes","export":true,"for_":["ActivationBlockersMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"activationblockersmixin attributes","type":"dfn","url":"#activationblockersmixin-activationblockersmixin-attributes"},
"#activationblockersmixin-add-a-blocker": {"displayText":"add a blocker","export":true,"for_":["ActivationBlockersMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"add a blocker","type":"dfn","url":"#activationblockersmixin-add-a-blocker"},
"#activationblockersmixin-add-a-permanent-blocker": {"displayText":"add a permanent blocker","export":true,"for_":["ActivationBlockersMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"add a permanent blocker","type":"dfn","url":"#activationblockersmixin-add-a-permanent-blocker"},
"#activationblockersmixin-add-a-temporary-blocker": {"displayText":"add a temporary blocker","export":true,"for_":["ActivationBlockersMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"add a temporary blocker","type":"dfn","url":"#activationblockersmixin-add-a-temporary-blocker"},
"#activationblockersmixin-add-an-expiring-blocker": {"displayText":"add an expiring blocker","export":true,"for_":["ActivationBlockersMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"add an expiring blocker","type":"dfn","url":"#activationblockersmixin-add-an-expiring-blocker"},
"#activationblockersmixin-blocker": {"displayText":"blocker","export":true,"for_":["ActivationBlockersMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"blocker","type":"dfn","url":"#activationblockersmixin-blocker"},
"#activationblockersmixin-blocker-delay": {"displayText":"blocker delay","export":true,"for_":["ActivationBlockersMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"blocker delay","type":"dfn","url":"#activationblockersmixin-blocker-delay"},
"#activationblockersmixin-blocker-ordering": {"displayText":"blocker ordering","export":true,"for_":["ActivationBlockersMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"blocker ordering","type":"dfn","url":"#activationblockersmixin-blocker-ordering"},
"#activationblockersmixin-blocker-reason": {"displayText":"blocker reason","export":true,"for_":["ActivationBlockersMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"blocker reason","type":"dfn","url":"#activationblockersmixin-blocker-reason"},
"#activationblockersmixin-blocker-timestamp": {"displayText":"blocker timestamp","export":true,"for_":["ActivationBlockersMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"blocker timestamp","type":"dfn","url":"#activationblockersmixin-blocker-timestamp"},
"#activationblockersmixin-blocking": {"displayText":"blocking","export":true,"for_":["ActivationBlockersMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"blocking","type":"dfn","url":"#activationblockersmixin-blocking"},
"#activationblockersmixin-intersectionobserver-callback": {"displayText":"intersectionobserver callback","export":true,"for_":["ActivationBlockersMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"intersectionobserver callback","type":"dfn","url":"#activationblockersmixin-intersectionobserver-callback"},
"#activationblockersmixin-maybe-dispatch-onvalidstatechange": {"displayText":"maybe dispatch onvalidstatechange","export":true,"for_":["ActivationBlockersMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"maybe dispatch onvalidstatechange","type":"dfn","url":"#activationblockersmixin-maybe-dispatch-onvalidstatechange"},
"#activationblockersmixin-remove-blockers": {"displayText":"remove blockers","export":true,"for_":["ActivationBlockersMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"remove blockers","type":"dfn","url":"#activationblockersmixin-remove-blockers"},
"#blocker-reason-table": {"displayText":"blocker reason table","export":true,"for_":[],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"blocker reason table","type":"dfn","url":"#blocker-reason-table"},
"#dispatch-onlocation": {"displayText":"dispatch onlocation","export":true,"for_":[],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"dispatch onlocation","type":"dfn","url":"#dispatch-onlocation"},
"#dom-activationblockersmixin-blockerlist-slot": {"displayText":"[[BlockerList]]","export":true,"for_":["ActivationBlockersMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"[[BlockerList]]","type":"attribute","url":"#dom-activationblockersmixin-blockerlist-slot"},
"#dom-activationblockersmixin-intersectionobserver-slot": {"displayText":"[[IntersectionObserver]]","export":true,"for_":["ActivationBlockersMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"[[IntersectionObserver]]","type":"attribute","url":"#dom-activationblockersmixin-intersectionobserver-slot"},
"#dom-activationblockersmixin-intersectionrect-slot": {"displayText":"[[IntersectionRect]]","export":true,"for_":["ActivationBlockersMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"[[IntersectionRect]]","type":"attribute","url":"#dom-activationblockersmixin-intersectionrect-slot"},
"#dom-activationblockersmixin-invalidreason": {"displayText":"invalidReason","export":true,"for_":["ActivationBlockersMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"invalidReason","type":"attribute","url":"#dom-activationblockersmixin-invalidreason"},
"#dom-activationblockersmixin-isvalid": {"displayText":"isValid","export":true,"for_":["ActivationBlockersMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"isValid","type":"attribute","url":"#dom-activationblockersmixin-isvalid"},
"#dom-activationblockersmixin-lastnotifiedinvalidreason-slot": {"displayText":"[[LastNotifiedInvalidReason]]","export":true,"for_":["ActivationBlockersMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"[[LastNotifiedInvalidReason]]","type":"attribute","url":"#dom-activationblockersmixin-lastnotifiedinvalidreason-slot"},
"#dom-activationblockersmixin-lastnotifiedvalidstate-slot": {"displayText":"[[LastNotifiedValidState]]","export":true,"for_":["ActivationBlockersMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"[[LastNotifiedValidState]]","type":"attribute","url":"#dom-activationblockersmixin-lastnotifiedvalidstate-slot"},
"#dom-activationblockersmixin-onvalidationstatuschange": {"displayText":"onvalidationstatuschange","export":true,"for_":["ActivationBlockersMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"onvalidationstatuschange","type":"attribute","url":"#dom-activationblockersmixin-onvalidationstatuschange"},
"#dom-activationblockersmixinblockerreason-illegal_subframe": {"displayText":"\"illegal_subframe\"","export":true,"for_":["ActivationBlockersMixinBlockerReason"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"\"illegal_subframe\"","type":"enum-value","url":"#dom-activationblockersmixinblockerreason-illegal_subframe"},
"#dom-activationblockersmixinblockerreason-intersection_changed": {"displayText":"\"intersection_changed\"","export":true,"for_":["ActivationBlockersMixinBlockerReason"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"\"intersection_changed\"","type":"enum-value","url":"#dom-activationblockersmixinblockerreason-intersection_changed"},
"#dom-activationblockersmixinblockerreason-intersection_occluded_or_distorted": {"displayText":"\"intersection_occluded_or_distorted\"","export":true,"for_":["ActivationBlockersMixinBlockerReason"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"\"intersection_occluded_or_distorted\"","type":"enum-value","url":"#dom-activationblockersmixinblockerreason-intersection_occluded_or_distorted"},
"#dom-activationblockersmixinblockerreason-intersection_out_of_viewport_or_clipped": {"displayText":"\"intersection_out_of_viewport_or_clipped\"","export":true,"for_":["ActivationBlockersMixinBlockerReason"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"\"intersection_out_of_viewport_or_clipped\"","type":"enum-value","url":"#dom-activationblockersmixinblockerreason-intersection_out_of_viewport_or_clipped"},
"#dom-activationblockersmixinblockerreason-recently_attached": {"displayText":"\"recently_attached\"","export":true,"for_":["ActivationBlockersMixinBlockerReason"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"\"recently_attached\"","type":"enum-value","url":"#dom-activationblockersmixinblockerreason-recently_attached"},
"#dom-activationblockersmixinblockerreason-style_invalid": {"displayText":"\"style_invalid\"","export":true,"for_":["ActivationBlockersMixinBlockerReason"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"\"style_invalid\"","type":"enum-value","url":"#dom-activationblockersmixinblockerreason-style_invalid"},
"#dom-activationblockersmixinblockerreason-type_invalid": {"displayText":"\"type_invalid\"","export":true,"for_":["ActivationBlockersMixinBlockerReason"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"\"type_invalid\"","type":"enum-value","url":"#dom-activationblockersmixinblockerreason-type_invalid"},
"#dom-activationblockersmixinblockerreason-unsuccesful_registration": {"displayText":"\"unsuccesful_registration\"","export":true,"for_":["ActivationBlockersMixinBlockerReason"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"\"unsuccesful_registration\"","type":"enum-value","url":"#dom-activationblockersmixinblockerreason-unsuccesful_registration"},
"#dom-htmlgeolocationelement-autolocate": {"displayText":"autolocate","export":true,"for_":["HTMLGeolocationElement"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"autolocate","type":"attribute","url":"#dom-htmlgeolocationelement-autolocate"},
"#dom-htmlgeolocationelement-constructor": {"displayText":"constructor()","export":true,"for_":["HTMLGeolocationElement"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"constructor()","type":"constructor","url":"#dom-htmlgeolocationelement-constructor"},
"#dom-htmlgeolocationelement-error": {"displayText":"error","export":true,"for_":["HTMLGeolocationElement"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"error","type":"attribute","url":"#dom-htmlgeolocationelement-error"},
"#dom-htmlgeolocationelement-onlocation": {"displayText":"onlocation","export":true,"for_":["HTMLGeolocationElement"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"onlocation","type":"attribute","url":"#dom-htmlgeolocationelement-onlocation"},
"#dom-htmlgeolocationelement-position": {"displayText":"position","export":true,"for_":["HTMLGeolocationElement"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"position","type":"attribute","url":"#dom-htmlgeolocationelement-position"},
"#dom-htmlgeolocationelement-position-slot": {"displayText":"[[position]]","export":true,"for_":["HTMLGeolocationElement"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"[[position]]","type":"attribute","url":"#dom-htmlgeolocationelement-position-slot"},
"#dom-htmlgeolocationelement-positionerror-slot": {"displayText":"[[positionError]]","export":true,"for_":["HTMLGeolocationElement"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"[[positionError]]","type":"attribute","url":"#dom-htmlgeolocationelement-positionerror-slot"},
"#dom-htmlgeolocationelement-watch": {"displayText":"watch","export":true,"for_":["HTMLGeolocationElement"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"watch","type":"attribute","url":"#dom-htmlgeolocationelement-watch"},
"#dom-htmlgeolocationelement-watchids-slot": {"displayText":"[[watchIDs]]","export":true,"for_":["HTMLGeolocationElement"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"[[watchIDs]]","type":"attribute","url":"#dom-htmlgeolocationelement-watchids-slot"},
"#dom-navigable-permissionelements-slot": {"displayText":"[[PermissionElements]]","export":true,"for_":["navigable"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"[[PermissionElements]]","type":"attribute","url":"#dom-navigable-permissionelements-slot"},
"#dom-permissionsmixin-features-slot": {"displayText":"[[Features]]","export":true,"for_":["PermissionsMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"[[Features]]","type":"attribute","url":"#dom-permissionsmixin-features-slot"},
"#dom-permissionsmixin-initialpermissionstatus": {"displayText":"initialPermissionStatus","export":true,"for_":["PermissionsMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"initialPermissionStatus","type":"attribute","url":"#dom-permissionsmixin-initialpermissionstatus"},
"#dom-permissionsmixin-initialpermissionstatus-slot": {"displayText":"[[InitialPermissionStatus]]","export":true,"for_":["PermissionsMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"[[InitialPermissionStatus]]","type":"attribute","url":"#dom-permissionsmixin-initialpermissionstatus-slot"},
"#dom-permissionsmixin-onpromptaction": {"displayText":"onpromptaction","export":true,"for_":["PermissionsMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"onpromptaction","type":"attribute","url":"#dom-permissionsmixin-onpromptaction"},
"#dom-permissionsmixin-onpromptdismiss": {"displayText":"onpromptdismiss","export":true,"for_":["PermissionsMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"onpromptdismiss","type":"attribute","url":"#dom-permissionsmixin-onpromptdismiss"},
"#dom-permissionsmixin-permissionstatus": {"displayText":"permissionStatus","export":true,"for_":["PermissionsMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"permissionStatus","type":"attribute","url":"#dom-permissionsmixin-permissionstatus"},
"#element-attrdef-geolocation-autolocate": {"displayText":"autolocate","export":true,"for_":["geolocation"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"autolocate","type":"element-attr","url":"#element-attrdef-geolocation-autolocate"},
"#element-attrdef-geolocation-watch": {"displayText":"watch","export":true,"for_":["geolocation"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"watch","type":"element-attr","url":"#element-attrdef-geolocation-watch"},
"#elementdef-geolocation": {"displayText":"geolocation","export":true,"for_":[],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"geolocation","type":"element","url":"#elementdef-geolocation"},
"#enumdef-activationblockersmixinblockerreason": {"displayText":"ActivationBlockersMixinBlockerReason","export":true,"for_":[],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"ActivationBlockersMixinBlockerReason","type":"enum","url":"#enumdef-activationblockersmixinblockerreason"},
"#expiring-blocker": {"displayText":"expiring blocker","export":true,"for_":[],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"expiring blocker","type":"dfn","url":"#expiring-blocker"},
"#htmlgeolocationelement": {"displayText":"HTMLGeolocationElement","export":true,"for_":[],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"HTMLGeolocationElement","type":"interface","url":"#htmlgeolocationelement"},
"#htmlgeolocationelement-fetch-location": {"displayText":"fetch location","export":true,"for_":["HTMLGeolocationElement"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"fetch location","type":"dfn","url":"#htmlgeolocationelement-fetch-location"},
"#htmlgeolocationelement-maybe-autolocate": {"displayText":"maybe autolocate","export":true,"for_":["HTMLGeolocationElement"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"maybe autolocate","type":"dfn","url":"#htmlgeolocationelement-maybe-autolocate"},
"#htmlgeolocationelement-recheck-type-permissibility": {"displayText":"recheck type permissibility","export":true,"for_":["HTMLGeolocationElement"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"recheck type permissibility","type":"dfn","url":"#htmlgeolocationelement-recheck-type-permissibility"},
"#htmlgeolocationelement-type-permissible": {"displayText":"type permissible","export":true,"for_":["HTMLGeolocationElement"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"type permissible","type":"dfn","url":"#htmlgeolocationelement-type-permissible"},
"#permanent-blocker": {"displayText":"permanent blocker","export":true,"for_":[],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"permanent blocker","type":"dfn","url":"#permanent-blocker"},
"#permissionsmixin": {"displayText":"PermissionsMixin","export":true,"for_":[],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"PermissionsMixin","type":"interface","url":"#permissionsmixin"},
"#permissionsmixin-build-a-permission-descriptor": {"displayText":"build a permission descriptor","export":true,"for_":["PermissionsMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"build a permission descriptor","type":"dfn","url":"#permissionsmixin-build-a-permission-descriptor"},
"#permissionsmixin-dispatch-onpromptaction": {"displayText":"dispatch onpromptaction","export":true,"for_":["PermissionsMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"dispatch onpromptaction","type":"dfn","url":"#permissionsmixin-dispatch-onpromptaction"},
"#permissionsmixin-dispatch-onpromptdismiss": {"displayText":"dispatch onpromptdismiss","export":true,"for_":["PermissionsMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"dispatch onpromptdismiss","type":"dfn","url":"#permissionsmixin-dispatch-onpromptdismiss"},
"#permissionsmixin-get-the-current-permission-state": {"displayText":"get the current permission state","export":true,"for_":["PermissionsMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"get the current permission state","type":"dfn","url":"#permissionsmixin-get-the-current-permission-state"},
"#permissionsmixin-initialization-steps": {"displayText":"initialization steps","export":true,"for_":["PermissionsMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"initialization steps","type":"dfn","url":"#permissionsmixin-initialization-steps"},
"#permissionsmixin-insertion-steps": {"displayText":"insertion steps","export":true,"for_":["PermissionsMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"insertion steps","type":"dfn","url":"#permissionsmixin-insertion-steps"},
"#permissionsmixin-permissionsmixin-attributes": {"displayText":"permissionsmixin attributes","export":true,"for_":["PermissionsMixin"],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"permissionsmixin attributes","type":"dfn","url":"#permissionsmixin-permissionsmixin-attributes"},
"#temporary-blocker": {"displayText":"temporary blocker","export":true,"for_":[],"level":"0","normative":true,"shortname":"geolocation-element","spec":"geolocation-element-0","status":"local","text":"temporary blocker","type":"dfn","url":"#temporary-blocker"},
"https://dom.spec.whatwg.org/#concept-document": {"displayText":"document","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"document","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-document"},
"https://dom.spec.whatwg.org/#concept-event-dispatch": {"displayText":"dispatch","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"dispatch","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-event-dispatch"},
"https://dom.spec.whatwg.org/#concept-event-initialize": {"displayText":"initialize","export":true,"for_":["Event"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"initialize","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-event-initialize"},
"https://dom.spec.whatwg.org/#concept-node-remove-ext": {"displayText":"removing steps","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"removing steps","type":"dfn","url":"https://dom.spec.whatwg.org/#concept-node-remove-ext"},
"https://dom.spec.whatwg.org/#dom-event-initevent-type-bubbles-cancelable-bubbles": {"displayText":"bubbles","export":true,"for_":["Event/initEvent(type, bubbles, cancelable)","Event/initEvent(type, bubbles)","Event/initEvent(type)"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"bubbles","type":"argument","url":"https://dom.spec.whatwg.org/#dom-event-initevent-type-bubbles-cancelable-bubbles"},
"https://dom.spec.whatwg.org/#dom-event-initevent-type-bubbles-cancelable-cancelable": {"displayText":"cancelable","export":true,"for_":["Event/initEvent(type, bubbles, cancelable)","Event/initEvent(type, bubbles)","Event/initEvent(type)"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"cancelable","type":"argument","url":"https://dom.spec.whatwg.org/#dom-event-initevent-type-bubbles-cancelable-cancelable"},
"https://dom.spec.whatwg.org/#dom-event-initevent-type-bubbles-cancelable-type": {"displayText":"type","export":true,"for_":["Event/initEvent(type, bubbles, cancelable)","Event/initEvent(type, bubbles)","Event/initEvent(type)"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"type","type":"argument","url":"https://dom.spec.whatwg.org/#dom-event-initevent-type-bubbles-cancelable-type"},
"https://dom.spec.whatwg.org/#dom-event-istrusted": {"displayText":"isTrusted","export":true,"for_":["Event"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"isTrusted","type":"attribute","url":"https://dom.spec.whatwg.org/#dom-event-istrusted"},
"https://dom.spec.whatwg.org/#dom-event-type": {"displayText":"type","export":true,"for_":["Event"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"type","type":"attribute","url":"https://dom.spec.whatwg.org/#dom-event-type"},
"https://dom.spec.whatwg.org/#event": {"displayText":"Event","export":true,"for_":[],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"Event","type":"interface","url":"https://dom.spec.whatwg.org/#event"},
"https://dom.spec.whatwg.org/#eventtarget-activation-behavior": {"displayText":"activation behavior","export":true,"for_":["EventTarget"],"level":"1","normative":true,"shortname":"dom","spec":"dom","status":"current","text":"activation behavior","type":"dfn","url":"https://dom.spec.whatwg.org/#eventtarget-activation-behavior"},
"https://drafts.csswg.org/compositing-2/#propdef-isolation": {"displayText":"isolation","export":true,"for_":[],"level":"2","normative":true,"shortname":"compositing","spec":"compositing-2","status":"current","text":"isolation","type":"property","url":"https://drafts.csswg.org/compositing-2/#propdef-isolation"},
"https://drafts.csswg.org/css-align-3/#propdef-align-self": {"displayText":"align-self","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"current","text":"align-self","type":"property","url":"https://drafts.csswg.org/css-align-3/#propdef-align-self"},
"https://drafts.csswg.org/css-align-3/#propdef-justify-self": {"displayText":"justify-self","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-align","spec":"css-align-3","status":"current","text":"justify-self","type":"property","url":"https://drafts.csswg.org/css-align-3/#propdef-justify-self"},
"https://drafts.csswg.org/css-anchor-position-1/#propdef-anchor-name": {"displayText":"anchor-name","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"current","text":"anchor-name","type":"property","url":"https://drafts.csswg.org/css-anchor-position-1/#propdef-anchor-name"},
"https://drafts.csswg.org/css-anchor-position-1/#propdef-position-anchor": {"displayText":"position-anchor","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-anchor-position","spec":"css-anchor-position-1","status":"current","text":"position-anchor","type":"property","url":"https://drafts.csswg.org/css-anchor-position-1/#propdef-position-anchor"},
"https://drafts.csswg.org/css-borders-4/#propdef-border": {"displayText":"border","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-borders","spec":"css-borders-4","status":"current","text":"border","type":"property","url":"https://drafts.csswg.org/css-borders-4/#propdef-border"},
"https://drafts.csswg.org/css-borders-4/#propdef-border-bottom": {"displayText":"border-bottom","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-borders","spec":"css-borders-4","status":"current","text":"border-bottom","type":"property","url":"https://drafts.csswg.org/css-borders-4/#propdef-border-bottom"},
"https://drafts.csswg.org/css-borders-4/#propdef-border-left": {"displayText":"border-left","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-borders","spec":"css-borders-4","status":"current","text":"border-left","type":"property","url":"https://drafts.csswg.org/css-borders-4/#propdef-border-left"},
"https://drafts.csswg.org/css-borders-4/#propdef-border-right": {"displayText":"border-right","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-borders","spec":"css-borders-4","status":"current","text":"border-right","type":"property","url":"https://drafts.csswg.org/css-borders-4/#propdef-border-right"},
"https://drafts.csswg.org/css-borders-4/#propdef-border-top": {"displayText":"border-top","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-borders","spec":"css-borders-4","status":"current","text":"border-top","type":"property","url":"https://drafts.csswg.org/css-borders-4/#propdef-border-top"},
"https://drafts.csswg.org/css-break-3/#propdef-orphans": {"displayText":"orphans","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-break","spec":"css-break-3","status":"current","text":"orphans","type":"property","url":"https://drafts.csswg.org/css-break-3/#propdef-orphans"},
"https://drafts.csswg.org/css-color-adjust-1/#propdef-color-scheme": {"displayText":"color-scheme","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-color-adjust","spec":"css-color-adjust-1","status":"current","text":"color-scheme","type":"property","url":"https://drafts.csswg.org/css-color-adjust-1/#propdef-color-scheme"},
"https://drafts.csswg.org/css-color-adjust-1/#propdef-forced-color-adjust": {"displayText":"forced-color-adjust","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-color-adjust","spec":"css-color-adjust-1","status":"current","text":"forced-color-adjust","type":"property","url":"https://drafts.csswg.org/css-color-adjust-1/#propdef-forced-color-adjust"},
"https://drafts.csswg.org/css-conditional-5/#propdef-container-name": {"displayText":"container-name","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-conditional","spec":"css-conditional-5","status":"current","text":"container-name","type":"property","url":"https://drafts.csswg.org/css-conditional-5/#propdef-container-name"},
"https://drafts.csswg.org/css-conditional-5/#propdef-container-type": {"displayText":"container-type","export":true,"for_":[],"level":"5","normative":true,"shortname":"css-conditional","spec":"css-conditional-5","status":"current","text":"container-type","type":"property","url":"https://drafts.csswg.org/css-conditional-5/#propdef-container-type"},
"https://drafts.csswg.org/css-display-4/#propdef-order": {"displayText":"order","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-display","spec":"css-display-4","status":"current","text":"order","type":"property","url":"https://drafts.csswg.org/css-display-4/#propdef-order"},
"https://drafts.csswg.org/css-display-4/#propdef-visibility": {"displayText":"visibility","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-display","spec":"css-display-4","status":"current","text":"visibility","type":"property","url":"https://drafts.csswg.org/css-display-4/#propdef-visibility"},
"https://drafts.csswg.org/css-flexbox-1/#propdef-flex": {"displayText":"flex","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-flexbox","spec":"css-flexbox-1","status":"current","text":"flex","type":"property","url":"https://drafts.csswg.org/css-flexbox-1/#propdef-flex"},
"https://drafts.csswg.org/css-flexbox-1/#propdef-flex-basis": {"displayText":"flex-basis","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-flexbox","spec":"css-flexbox-1","status":"current","text":"flex-basis","type":"property","url":"https://drafts.csswg.org/css-flexbox-1/#propdef-flex-basis"},
"https://drafts.csswg.org/css-flexbox-1/#propdef-flex-grow": {"displayText":"flex-grow","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-flexbox","spec":"css-flexbox-1","status":"current","text":"flex-grow","type":"property","url":"https://drafts.csswg.org/css-flexbox-1/#propdef-flex-grow"},
"https://drafts.csswg.org/css-flexbox-1/#propdef-flex-shrink": {"displayText":"flex-shrink","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-flexbox","spec":"css-flexbox-1","status":"current","text":"flex-shrink","type":"property","url":"https://drafts.csswg.org/css-flexbox-1/#propdef-flex-shrink"},
"https://drafts.csswg.org/css-fonts-4/#propdef-font-feature-settings": {"displayText":"font-feature-settings","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-fonts","spec":"css-fonts-4","status":"current","text":"font-feature-settings","type":"property","url":"https://drafts.csswg.org/css-fonts-4/#propdef-font-feature-settings"},
"https://drafts.csswg.org/css-fonts-4/#propdef-font-kerning": {"displayText":"font-kerning","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-fonts","spec":"css-fonts-4","status":"current","text":"font-kerning","type":"property","url":"https://drafts.csswg.org/css-fonts-4/#propdef-font-kerning"},
"https://drafts.csswg.org/css-fonts-4/#propdef-font-optical-sizing": {"displayText":"font-optical-sizing","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-fonts","spec":"css-fonts-4","status":"current","text":"font-optical-sizing","type":"property","url":"https://drafts.csswg.org/css-fonts-4/#propdef-font-optical-sizing"},
"https://drafts.csswg.org/css-fonts-4/#propdef-font-stretch": {"displayText":"font-stretch","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-fonts","spec":"css-fonts-4","status":"current","text":"font-stretch","type":"property","url":"https://drafts.csswg.org/css-fonts-4/#propdef-font-stretch"},
"https://drafts.csswg.org/css-fonts-4/#propdef-font-synthesis-small-caps": {"displayText":"font-synthesis-small-caps","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-fonts","spec":"css-fonts-4","status":"current","text":"font-synthesis-small-caps","type":"property","url":"https://drafts.csswg.org/css-fonts-4/#propdef-font-synthesis-small-caps"},
"https://drafts.csswg.org/css-fonts-4/#propdef-font-synthesis-style": {"displayText":"font-synthesis-style","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-fonts","spec":"css-fonts-4","status":"current","text":"font-synthesis-style","type":"property","url":"https://drafts.csswg.org/css-fonts-4/#propdef-font-synthesis-style"},
"https://drafts.csswg.org/css-fonts-4/#propdef-font-synthesis-weight": {"displayText":"font-synthesis-weight","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-fonts","spec":"css-fonts-4","status":"current","text":"font-synthesis-weight","type":"property","url":"https://drafts.csswg.org/css-fonts-4/#propdef-font-synthesis-weight"},
"https://drafts.csswg.org/css-fonts-4/#typedef-relative-size": {"displayText":"<relative-size>","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-fonts","spec":"css-fonts-4","status":"current","text":"<relative-size>","type":"type","url":"https://drafts.csswg.org/css-fonts-4/#typedef-relative-size"},
"https://drafts.csswg.org/css-lists-3/#propdef-counter-increment": {"displayText":"counter-increment","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-lists","spec":"css-lists-3","status":"current","text":"counter-increment","type":"property","url":"https://drafts.csswg.org/css-lists-3/#propdef-counter-increment"},
"https://drafts.csswg.org/css-lists-3/#propdef-counter-reset": {"displayText":"counter-reset","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-lists","spec":"css-lists-3","status":"current","text":"counter-reset","type":"property","url":"https://drafts.csswg.org/css-lists-3/#propdef-counter-reset"},
"https://drafts.csswg.org/css-lists-3/#propdef-counter-set": {"displayText":"counter-set","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-lists","spec":"css-lists-3","status":"current","text":"counter-set","type":"property","url":"https://drafts.csswg.org/css-lists-3/#propdef-counter-set"},
"https://drafts.csswg.org/css-overscroll-1/#propdef-overscroll-behavior": {"displayText":"overscroll-behavior","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-overscroll","spec":"css-overscroll-1","status":"current","text":"overscroll-behavior","type":"property","url":"https://drafts.csswg.org/css-overscroll-1/#propdef-overscroll-behavior"},
"https://drafts.csswg.org/css-overscroll-1/#propdef-overscroll-behavior-block": {"displayText":"overscroll-behavior-block","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-overscroll","spec":"css-overscroll-1","status":"current","text":"overscroll-behavior-block","type":"property","url":"https://drafts.csswg.org/css-overscroll-1/#propdef-overscroll-behavior-block"},
"https://drafts.csswg.org/css-overscroll-1/#propdef-overscroll-behavior-inline": {"displayText":"overscroll-behavior-inline","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-overscroll","spec":"css-overscroll-1","status":"current","text":"overscroll-behavior-inline","type":"property","url":"https://drafts.csswg.org/css-overscroll-1/#propdef-overscroll-behavior-inline"},
"https://drafts.csswg.org/css-overscroll-1/#propdef-overscroll-behavior-x": {"displayText":"overscroll-behavior-x","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-overscroll","spec":"css-overscroll-1","status":"current","text":"overscroll-behavior-x","type":"property","url":"https://drafts.csswg.org/css-overscroll-1/#propdef-overscroll-behavior-x"},
"https://drafts.csswg.org/css-overscroll-1/#propdef-overscroll-behavior-y": {"displayText":"overscroll-behavior-y","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-overscroll","spec":"css-overscroll-1","status":"current","text":"overscroll-behavior-y","type":"property","url":"https://drafts.csswg.org/css-overscroll-1/#propdef-overscroll-behavior-y"},
"https://drafts.csswg.org/css-page-3/#propdef-page": {"displayText":"page","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-page","spec":"css-page-3","status":"current","text":"page","type":"property","url":"https://drafts.csswg.org/css-page-3/#propdef-page"},
"https://drafts.csswg.org/css-position-3/#propdef-left": {"displayText":"left","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-position","spec":"css-position-3","status":"current","text":"left","type":"property","url":"https://drafts.csswg.org/css-position-3/#propdef-left"},
"https://drafts.csswg.org/css-position-3/#propdef-position": {"displayText":"position","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-position","spec":"css-position-3","status":"current","text":"position","type":"property","url":"https://drafts.csswg.org/css-position-3/#propdef-position"},
"https://drafts.csswg.org/css-position-3/#propdef-right": {"displayText":"right","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-position","spec":"css-position-3","status":"current","text":"right","type":"property","url":"https://drafts.csswg.org/css-position-3/#propdef-right"},
"https://drafts.csswg.org/css-position-3/#propdef-top": {"displayText":"top","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-position","spec":"css-position-3","status":"current","text":"top","type":"property","url":"https://drafts.csswg.org/css-position-3/#propdef-top"},
"https://drafts.csswg.org/css-ruby-1/#propdef-ruby-position": {"displayText":"ruby-position","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-ruby","spec":"css-ruby-1","status":"current","text":"ruby-position","type":"property","url":"https://drafts.csswg.org/css-ruby-1/#propdef-ruby-position"},
"https://drafts.csswg.org/css-scroll-anchoring-1/#propdef-overflow-anchor": {"displayText":"overflow-anchor","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-scroll-anchoring","spec":"css-scroll-anchoring-1","status":"current","text":"overflow-anchor","type":"property","url":"https://drafts.csswg.org/css-scroll-anchoring-1/#propdef-overflow-anchor"},
"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-margin": {"displayText":"scroll-margin","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-scroll-snap","spec":"css-scroll-snap-1","status":"current","text":"scroll-margin","type":"property","url":"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-margin"},
"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-margin-left": {"displayText":"scroll-margin-left","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-scroll-snap","spec":"css-scroll-snap-1","status":"current","text":"scroll-margin-left","type":"property","url":"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-margin-left"},
"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-margin-right": {"displayText":"scroll-margin-right","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-scroll-snap","spec":"css-scroll-snap-1","status":"current","text":"scroll-margin-right","type":"property","url":"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-margin-right"},
"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-margin-top": {"displayText":"scroll-margin-top","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-scroll-snap","spec":"css-scroll-snap-1","status":"current","text":"scroll-margin-top","type":"property","url":"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-margin-top"},
"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding": {"displayText":"scroll-padding","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-scroll-snap","spec":"css-scroll-snap-1","status":"current","text":"scroll-padding","type":"property","url":"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding"},
"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-block-end": {"displayText":"scroll-padding-block-end","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-scroll-snap","spec":"css-scroll-snap-1","status":"current","text":"scroll-padding-block-end","type":"property","url":"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-block-end"},
"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-block-start": {"displayText":"scroll-padding-block-start","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-scroll-snap","spec":"css-scroll-snap-1","status":"current","text":"scroll-padding-block-start","type":"property","url":"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-block-start"},
"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-bottom": {"displayText":"scroll-padding-bottom","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-scroll-snap","spec":"css-scroll-snap-1","status":"current","text":"scroll-padding-bottom","type":"property","url":"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-bottom"},
"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-inline-end": {"displayText":"scroll-padding-inline-end","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-scroll-snap","spec":"css-scroll-snap-1","status":"current","text":"scroll-padding-inline-end","type":"property","url":"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-inline-end"},
"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-inline-start": {"displayText":"scroll-padding-inline-start","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-scroll-snap","spec":"css-scroll-snap-1","status":"current","text":"scroll-padding-inline-start","type":"property","url":"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-inline-start"},
"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-left": {"displayText":"scroll-padding-left","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-scroll-snap","spec":"css-scroll-snap-1","status":"current","text":"scroll-padding-left","type":"property","url":"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-left"},
"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-right": {"displayText":"scroll-padding-right","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-scroll-snap","spec":"css-scroll-snap-1","status":"current","text":"scroll-padding-right","type":"property","url":"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-right"},
"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-top": {"displayText":"scroll-padding-top","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-scroll-snap","spec":"css-scroll-snap-1","status":"current","text":"scroll-padding-top","type":"property","url":"https://drafts.csswg.org/css-scroll-snap-1/#propdef-scroll-padding-top"},
"https://drafts.csswg.org/css-sizing-3/#propdef-height": {"displayText":"height","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-sizing","spec":"css-sizing-3","status":"current","text":"height","type":"property","url":"https://drafts.csswg.org/css-sizing-3/#propdef-height"},
"https://drafts.csswg.org/css-sizing-3/#propdef-width": {"displayText":"width","export":true,"for_":[],"level":"3","normative":true,"shortname":"css-sizing","spec":"css-sizing-3","status":"current","text":"width","type":"property","url":"https://drafts.csswg.org/css-sizing-3/#propdef-width"},
"https://drafts.csswg.org/css-sizing-4/#propdef-aspect-ratio": {"displayText":"aspect-ratio","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-sizing","spec":"css-sizing-4","status":"current","text":"aspect-ratio","type":"property","url":"https://drafts.csswg.org/css-sizing-4/#propdef-aspect-ratio"},
"https://drafts.csswg.org/css-sizing-4/#propdef-contain-intrinsic-height": {"displayText":"contain-intrinsic-height","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-sizing","spec":"css-sizing-4","status":"current","text":"contain-intrinsic-height","type":"property","url":"https://drafts.csswg.org/css-sizing-4/#propdef-contain-intrinsic-height"},
"https://drafts.csswg.org/css-sizing-4/#propdef-contain-intrinsic-width": {"displayText":"contain-intrinsic-width","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-sizing","spec":"css-sizing-4","status":"current","text":"contain-intrinsic-width","type":"property","url":"https://drafts.csswg.org/css-sizing-4/#propdef-contain-intrinsic-width"},
"https://drafts.csswg.org/css-text-4/#propdef-text-spacing-trim": {"displayText":"text-spacing-trim","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-text","spec":"css-text-4","status":"current","text":"text-spacing-trim","type":"property","url":"https://drafts.csswg.org/css-text-4/#propdef-text-spacing-trim"},
"https://drafts.csswg.org/css-text-4/#propdef-text-transform": {"displayText":"text-transform","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-text","spec":"css-text-4","status":"current","text":"text-transform","type":"property","url":"https://drafts.csswg.org/css-text-4/#propdef-text-transform"},
"https://drafts.csswg.org/css-ui-4/#non-devolvable": {"displayText":"non-devolvable widget","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-ui","spec":"css-ui-4","status":"current","text":"non-devolvable widget","type":"dfn","url":"https://drafts.csswg.org/css-ui-4/#non-devolvable"},
"https://drafts.csswg.org/css-ui-4/#propdef-outline": {"displayText":"outline","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-ui","spec":"css-ui-4","status":"current","text":"outline","type":"property","url":"https://drafts.csswg.org/css-ui-4/#propdef-outline"},
"https://drafts.csswg.org/css-ui-4/#propdef-outline-color": {"displayText":"outline-color","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-ui","spec":"css-ui-4","status":"current","text":"outline-color","type":"property","url":"https://drafts.csswg.org/css-ui-4/#propdef-outline-color"},
"https://drafts.csswg.org/css-ui-4/#propdef-outline-offset": {"displayText":"outline-offset","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-ui","spec":"css-ui-4","status":"current","text":"outline-offset","type":"property","url":"https://drafts.csswg.org/css-ui-4/#propdef-outline-offset"},
"https://drafts.csswg.org/css-ui-4/#propdef-outline-style": {"displayText":"outline-style","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-ui","spec":"css-ui-4","status":"current","text":"outline-style","type":"property","url":"https://drafts.csswg.org/css-ui-4/#propdef-outline-style"},
"https://drafts.csswg.org/css-ui-4/#propdef-user-select": {"displayText":"user-select","export":true,"for_":[],"level":"4","normative":true,"shortname":"css-ui","spec":"css-ui-4","status":"current","text":"user-select","type":"property","url":"https://drafts.csswg.org/css-ui-4/#propdef-user-select"},
"https://drafts.csswg.org/css-will-change-1/#propdef-will-change": {"displayText":"will-change","export":true,"for_":[],"level":"1","normative":true,"shortname":"css-will-change","spec":"css-will-change-1","status":"current","text":"will-change","type":"property","url":"https://drafts.csswg.org/css-will-change-1/#propdef-will-change"},
"https://drafts.csswg.org/css2/#propdef-clear": {"displayText":"clear","export":true,"for_":[],"level":"2","normative":true,"shortname":"css","spec":"css2","status":"current","text":"clear","type":"property","url":"https://drafts.csswg.org/css2/#propdef-clear"},
"https://drafts.csswg.org/css2/#propdef-float": {"displayText":"float","export":true,"for_":[],"level":"2","normative":true,"shortname":"css","spec":"css2","status":"current","text":"float","type":"property","url":"https://drafts.csswg.org/css2/#propdef-float"},
"https://drafts.csswg.org/css2/#propdef-z-index": {"displayText":"z-index","export":true,"for_":[],"level":"2","normative":true,"shortname":"css","spec":"css2","status":"current","text":"z-index","type":"property","url":"https://drafts.csswg.org/css2/#propdef-z-index"},
"https://drafts.csswg.org/css2/#valdef-font-size-small": {"displayText":"small","export":true,"for_":["font-size"],"level":"2","normative":true,"shortname":"css","spec":"css2","status":"current","text":"small","type":"value","url":"https://drafts.csswg.org/css2/#valdef-font-size-small"},
"https://drafts.csswg.org/css2/#valdef-font-size-xx-large": {"displayText":"xx-large","export":true,"for_":["font-size"],"level":"2","normative":true,"shortname":"css","spec":"css2","status":"current","text":"xx-large","type":"value","url":"https://drafts.csswg.org/css2/#valdef-font-size-xx-large"},
"https://drafts.csswg.org/css2/#viewport%E2%91%A0": {"displayText":"viewport","export":false,"for_":[],"level":"2","normative":true,"shortname":"css","spec":"css2","status":"current","text":"viewport","type":"dfn","url":"https://drafts.csswg.org/css2/#viewport%E2%91%A0"},
"https://drafts.csswg.org/geometry-1/#domrectreadonly": {"displayText":"DOMRectReadOnly","export":true,"for_":[],"level":"1","normative":true,"shortname":"geometry","spec":"geometry-1","status":"current","text":"DOMRectReadOnly","type":"interface","url":"https://drafts.csswg.org/geometry-1/#domrectreadonly"},
"https://drafts.csswg.org/mediaqueries-5/#contrast-ratio": {"displayText":"contrast ratio","export":true,"for_":[],"level":"5","normative":true,"shortname":"mediaqueries","spec":"mediaqueries-5","status":"current","text":"contrast ratio","type":"dfn","url":"https://drafts.csswg.org/mediaqueries-5/#contrast-ratio"},
"https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#xattr-reflect": {"displayText":"Reflect","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"Reflect","type":"extended-attribute","url":"https://html.spec.whatwg.org/multipage/common-dom-interfaces.html#xattr-reflect"},
"https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#enumerated-attribute": {"displayText":"enumerated attribute","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"enumerated attribute","type":"dfn","url":"https://html.spec.whatwg.org/multipage/common-microsyntaxes.html#enumerated-attribute"},
"https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions": {"displayText":"CEReactions","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"CEReactions","type":"extended-attribute","url":"https://html.spec.whatwg.org/multipage/custom-elements.html#cereactions"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-traversable": {"displayText":"traversable navigable","export":true,"for_":["navigable"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"traversable navigable","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#nav-traversable"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#navigable": {"displayText":"navigable","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"navigable","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#navigable"},
"https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable": {"displayText":"node navigable","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"node navigable","type":"dfn","url":"https://html.spec.whatwg.org/multipage/document-sequences.html#node-navigable"},
"https://html.spec.whatwg.org/multipage/dom.html#attr-lang": {"displayText":"lang","export":true,"for_":["html-global"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"lang","type":"element-attr","url":"https://html.spec.whatwg.org/multipage/dom.html#attr-lang"},
"https://html.spec.whatwg.org/multipage/dom.html#concept-element-accessibility-considerations": {"displayText":"accessibility considerations","export":false,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"accessibility considerations","type":"dfn","url":"https://html.spec.whatwg.org/multipage/dom.html#concept-element-accessibility-considerations"},
"https://html.spec.whatwg.org/multipage/dom.html#concept-element-attributes": {"displayText":"content attributes","export":false,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"content attributes","type":"dfn","url":"https://html.spec.whatwg.org/multipage/dom.html#concept-element-attributes"},
"https://html.spec.whatwg.org/multipage/dom.html#concept-element-content-model": {"displayText":"content model","export":false,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"content model","type":"dfn","url":"https://html.spec.whatwg.org/multipage/dom.html#concept-element-content-model"},
"https://html.spec.whatwg.org/multipage/dom.html#concept-element-contexts": {"displayText":"contexts in which this element can be used","export":false,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"contexts in which this element can be used","type":"dfn","url":"https://html.spec.whatwg.org/multipage/dom.html#concept-element-contexts"},
"https://html.spec.whatwg.org/multipage/dom.html#concept-element-dom": {"displayText":"DOM interface","export":false,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"dom interface","type":"dfn","url":"https://html.spec.whatwg.org/multipage/dom.html#concept-element-dom"},
"https://html.spec.whatwg.org/multipage/dom.html#dom-lang": {"displayText":"lang","export":true,"for_":["HTMLElement"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"lang","type":"attribute","url":"https://html.spec.whatwg.org/multipage/dom.html#dom-lang"},
"https://html.spec.whatwg.org/multipage/dom.html#fallback-content": {"displayText":"fallback content","export":false,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"fallback content","type":"dfn","url":"https://html.spec.whatwg.org/multipage/dom.html#fallback-content"},
"https://html.spec.whatwg.org/multipage/dom.html#flow-content-2": {"displayText":"flow content","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"flow content","type":"dfn","url":"https://html.spec.whatwg.org/multipage/dom.html#flow-content-2"},
"https://html.spec.whatwg.org/multipage/dom.html#global-attributes": {"displayText":"global attributes","export":false,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"global attributes","type":"dfn","url":"https://html.spec.whatwg.org/multipage/dom.html#global-attributes"},
"https://html.spec.whatwg.org/multipage/dom.html#htmlconstructor": {"displayText":"HTMLConstructor","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"HTMLConstructor","type":"extended-attribute","url":"https://html.spec.whatwg.org/multipage/dom.html#htmlconstructor"},
"https://html.spec.whatwg.org/multipage/dom.html#htmlelement": {"displayText":"HTMLElement","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"HTMLElement","type":"interface","url":"https://html.spec.whatwg.org/multipage/dom.html#htmlelement"},
"https://html.spec.whatwg.org/multipage/dom.html#htmlunknownelement": {"displayText":"HTMLUnknownElement","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"HTMLUnknownElement","type":"interface","url":"https://html.spec.whatwg.org/multipage/dom.html#htmlunknownelement"},
"https://html.spec.whatwg.org/multipage/dom.html#interactive-content-2": {"displayText":"interactive content","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"interactive content","type":"dfn","url":"https://html.spec.whatwg.org/multipage/dom.html#interactive-content-2"},
"https://html.spec.whatwg.org/multipage/dom.html#language": {"displayText":"language","export":true,"for_":["Node"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"language","type":"dfn","url":"https://html.spec.whatwg.org/multipage/dom.html#language"},
"https://html.spec.whatwg.org/multipage/dom.html#palpable-content-2": {"displayText":"palpable content","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"palpable content","type":"dfn","url":"https://html.spec.whatwg.org/multipage/dom.html#palpable-content-2"},
"https://html.spec.whatwg.org/multipage/dom.html#phrasing-content-2": {"displayText":"phrasing content","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"phrasing content","type":"dfn","url":"https://html.spec.whatwg.org/multipage/dom.html#phrasing-content-2"},
"https://html.spec.whatwg.org/multipage/dom.html#represents": {"displayText":"represent","export":false,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"represent","type":"dfn","url":"https://html.spec.whatwg.org/multipage/dom.html#represents"},
"https://html.spec.whatwg.org/multipage/form-elements.html#the-button-element": {"displayText":"button","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"button","type":"element","url":"https://html.spec.whatwg.org/multipage/form-elements.html#the-button-element"},
"https://html.spec.whatwg.org/multipage/interaction.html#attr-tabindex": {"displayText":"tabindex","export":true,"for_":["htmlsvg-global"],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"tabindex","type":"element-attr","url":"https://html.spec.whatwg.org/multipage/interaction.html#attr-tabindex"},
"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global": {"displayText":"relevant global object","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"relevant global object","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#concept-relevant-global"},
"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type": {"displayText":"event handler event type","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"event handler event type","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-event-type"},
"https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers": {"displayText":"event handler","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"event handler","type":"dfn","url":"https://html.spec.whatwg.org/multipage/webappapis.html#event-handlers"},
"https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler": {"displayText":"EventHandler","export":true,"for_":[],"level":"1","normative":true,"shortname":"html","spec":"html","status":"current","text":"EventHandler","type":"typedef","url":"https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler"},
"https://infra.spec.whatwg.org/#assert": {"displayText":"assert","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"assert","type":"dfn","url":"https://infra.spec.whatwg.org/#assert"},
"https://infra.spec.whatwg.org/#boolean": {"displayText":"boolean","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"boolean","type":"dfn","url":"https://infra.spec.whatwg.org/#boolean"},
"https://infra.spec.whatwg.org/#implementation-defined": {"displayText":"implementation-defined","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"implementation-defined","type":"dfn","url":"https://infra.spec.whatwg.org/#implementation-defined"},
"https://infra.spec.whatwg.org/#iteration-break": {"displayText":"break","export":true,"for_":["iteration"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"break","type":"dfn","url":"https://infra.spec.whatwg.org/#iteration-break"},
"https://infra.spec.whatwg.org/#list": {"displayText":"list","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"list","type":"dfn","url":"https://infra.spec.whatwg.org/#list"},
"https://infra.spec.whatwg.org/#list-append": {"displayText":"append","export":true,"for_":["list"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"append","type":"dfn","url":"https://infra.spec.whatwg.org/#list-append"},
"https://infra.spec.whatwg.org/#list-contain": {"displayText":"contain","export":true,"for_":["list","stack","queue","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"contain","type":"dfn","url":"https://infra.spec.whatwg.org/#list-contain"},
"https://infra.spec.whatwg.org/#list-empty": {"displayText":"empty","export":true,"for_":["list","stack","queue","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"empty","type":"dfn","url":"https://infra.spec.whatwg.org/#list-empty"},
"https://infra.spec.whatwg.org/#list-is-empty": {"displayText":"is empty","export":true,"for_":["list","stack","queue","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"is empty","type":"dfn","url":"https://infra.spec.whatwg.org/#list-is-empty"},
"https://infra.spec.whatwg.org/#list-item": {"displayText":"item","export":true,"for_":["list","stack","queue","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"item","type":"dfn","url":"https://infra.spec.whatwg.org/#list-item"},
"https://infra.spec.whatwg.org/#list-iterate": {"displayText":"iterate","export":true,"for_":["list","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"iterate","type":"dfn","url":"https://infra.spec.whatwg.org/#list-iterate"},
"https://infra.spec.whatwg.org/#list-remove": {"displayText":"remove","export":true,"for_":["list","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"remove","type":"dfn","url":"https://infra.spec.whatwg.org/#list-remove"},
"https://infra.spec.whatwg.org/#list-sort-in-ascending-order": {"displayText":"sorting","export":true,"for_":["list","stack","queue","set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"sorting","type":"dfn","url":"https://infra.spec.whatwg.org/#list-sort-in-ascending-order"},
"https://infra.spec.whatwg.org/#ordered-set": {"displayText":"ordered set","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"ordered set","type":"dfn","url":"https://infra.spec.whatwg.org/#ordered-set"},
"https://infra.spec.whatwg.org/#set-append": {"displayText":"append","export":true,"for_":["set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"append","type":"dfn","url":"https://infra.spec.whatwg.org/#set-append"},
"https://infra.spec.whatwg.org/#set-equal": {"displayText":"equal","export":true,"for_":["set"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"equal","type":"dfn","url":"https://infra.spec.whatwg.org/#set-equal"},
"https://infra.spec.whatwg.org/#string": {"displayText":"string","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"string","type":"dfn","url":"https://infra.spec.whatwg.org/#string"},
"https://infra.spec.whatwg.org/#string-is": {"displayText":"is","export":true,"for_":["string"],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"is","type":"dfn","url":"https://infra.spec.whatwg.org/#string-is"},
"https://infra.spec.whatwg.org/#user-agent": {"displayText":"user agent","export":true,"for_":[],"level":"1","normative":true,"shortname":"infra","spec":"infra","status":"current","text":"user agent","type":"dfn","url":"https://infra.spec.whatwg.org/#user-agent"},
"https://svgwg.org/svg2-draft/geometry.html#XProperty": {"displayText":"x","export":true,"for_":[],"level":"2","normative":true,"shortname":"svg","spec":"svg2","status":"current","text":"x","type":"property","url":"https://svgwg.org/svg2-draft/geometry.html#XProperty"},
"https://svgwg.org/svg2-draft/geometry.html#YProperty": {"displayText":"y","export":true,"for_":[],"level":"2","normative":true,"shortname":"svg","spec":"svg2","status":"current","text":"y","type":"property","url":"https://svgwg.org/svg2-draft/geometry.html#YProperty"},
"https://svgwg.org/svg2-draft/painting.html#TextRenderingProperty": {"displayText":"text-rendering","export":true,"for_":[],"level":"2","normative":true,"shortname":"svg","spec":"svg2","status":"current","text":"text-rendering","type":"property","url":"https://svgwg.org/svg2-draft/painting.html#TextRenderingProperty"},
"https://w3c.github.io/IntersectionObserver/#callbackdef-intersectionobservercallback": {"displayText":"IntersectionObserverCallback","export":true,"for_":[],"level":"1","normative":true,"shortname":"intersection-observer","spec":"intersection-observer","status":"current","text":"IntersectionObserverCallback","type":"callback","url":"https://w3c.github.io/IntersectionObserver/#callbackdef-intersectionobservercallback"},
"https://w3c.github.io/IntersectionObserver/#dom-intersectionobserver-root": {"displayText":"root","export":true,"for_":["IntersectionObserver"],"level":"1","normative":true,"shortname":"intersection-observer","spec":"intersection-observer","status":"current","text":"root","type":"attribute","url":"https://w3c.github.io/IntersectionObserver/#dom-intersectionobserver-root"},
"https://w3c.github.io/IntersectionObserver/#dom-intersectionobserverentry-intersectionratio": {"displayText":"intersectionRatio","export":true,"for_":["IntersectionObserverEntry"],"level":"1","normative":true,"shortname":"intersection-observer","spec":"intersection-observer","status":"current","text":"intersectionRatio","type":"attribute","url":"https://w3c.github.io/IntersectionObserver/#dom-intersectionobserverentry-intersectionratio"},
"https://w3c.github.io/IntersectionObserver/#dom-intersectionobserverentry-intersectionrect": {"displayText":"intersectionRect","export":true,"for_":["IntersectionObserverEntry"],"level":"1","normative":true,"shortname":"intersection-observer","spec":"intersection-observer","status":"current","text":"intersectionRect","type":"attribute","url":"https://w3c.github.io/IntersectionObserver/#dom-intersectionobserverentry-intersectionrect"},
"https://w3c.github.io/IntersectionObserver/#dom-intersectionobserverentry-isvisible": {"displayText":"isVisible","export":true,"for_":["IntersectionObserverEntry"],"level":"1","normative":true,"shortname":"intersection-observer","spec":"intersection-observer","status":"current","text":"isVisible","type":"attribute","url":"https://w3c.github.io/IntersectionObserver/#dom-intersectionobserverentry-isvisible"},
"https://w3c.github.io/IntersectionObserver/#dom-intersectionobserverinit-rootmargin": {"displayText":"rootMargin","export":true,"for_":["IntersectionObserverInit"],"level":"1","normative":true,"shortname":"intersection-observer","spec":"intersection-observer","status":"current","text":"rootMargin","type":"dict-member","url":"https://w3c.github.io/IntersectionObserver/#dom-intersectionobserverinit-rootmargin"},
"https://w3c.github.io/IntersectionObserver/#intersectionobserver": {"displayText":"IntersectionObserver","export":true,"for_":[],"level":"1","normative":true,"shortname":"intersection-observer","spec":"intersection-observer","status":"current","text":"IntersectionObserver","type":"interface","url":"https://w3c.github.io/IntersectionObserver/#intersectionobserver"},
"https://w3c.github.io/IntersectionObserver/#intersectionobserverentry": {"displayText":"IntersectionObserverEntry","export":true,"for_":[],"level":"1","normative":true,"shortname":"intersection-observer","spec":"intersection-observer","status":"current","text":"IntersectionObserverEntry","type":"interface","url":"https://w3c.github.io/IntersectionObserver/#intersectionobserverentry"},
"https://w3c.github.io/aria/#dfn-role": {"displayText":"role","export":true,"for_":[],"level":"1","normative":false,"shortname":"wai-aria","spec":"wai-aria-1.2","status":"current","text":"role","type":"dfn","url":"https://w3c.github.io/aria/#dfn-role"},
"https://w3c.github.io/geolocation/#dfn-geolocation": {"displayText":"\"geolocation\"","export":true,"for_":[],"level":"1","normative":false,"shortname":"geolocation","spec":"geolocation","status":"current","text":"\"geolocation\"","type":"permission","url":"https://w3c.github.io/geolocation/#dfn-geolocation"},
"https://w3c.github.io/geolocation/#dfn-request-a-position": {"displayText":"request a position","export":false,"for_":[],"level":"1","normative":true,"shortname":"geolocation","spec":"geolocation","status":"current","text":"request a position","type":"dfn","url":"https://w3c.github.io/geolocation/#dfn-request-a-position"},
"https://w3c.github.io/geolocation/#dom-geolocation": {"displayText":"Geolocation","export":true,"for_":[],"level":"1","normative":true,"shortname":"geolocation","spec":"geolocation","status":"current","text":"Geolocation","type":"interface","url":"https://w3c.github.io/geolocation/#dom-geolocation"},
"https://w3c.github.io/geolocation/#dom-geolocation-getcurrentposition": {"displayText":"getCurrentPosition()","export":true,"for_":["Geolocation"],"level":"1","normative":true,"shortname":"geolocation","spec":"geolocation","status":"current","text":"getCurrentPosition()","type":"method","url":"https://w3c.github.io/geolocation/#dom-geolocation-getcurrentposition"},
"https://w3c.github.io/geolocation/#dom-geolocation-watchposition": {"displayText":"watchPosition()","export":true,"for_":["Geolocation"],"level":"1","normative":true,"shortname":"geolocation","spec":"geolocation","status":"current","text":"watchPosition()","type":"method","url":"https://w3c.github.io/geolocation/#dom-geolocation-watchposition"},
"https://w3c.github.io/geolocation/#dom-geolocationposition": {"displayText":"GeolocationPosition","export":true,"for_":[],"level":"1","normative":true,"shortname":"geolocation","spec":"geolocation","status":"current","text":"GeolocationPosition","type":"interface","url":"https://w3c.github.io/geolocation/#dom-geolocationposition"},
"https://w3c.github.io/geolocation/#dom-geolocationpositionerror": {"displayText":"GeolocationPositionError","export":true,"for_":[],"level":"1","normative":true,"shortname":"geolocation","spec":"geolocation","status":"current","text":"GeolocationPositionError","type":"interface","url":"https://w3c.github.io/geolocation/#dom-geolocationpositionerror"},
"https://w3c.github.io/geolocation/#dom-positioncallback": {"displayText":"PositionCallback","export":true,"for_":[],"level":"1","normative":true,"shortname":"geolocation","spec":"geolocation","status":"current","text":"PositionCallback","type":"callback","url":"https://w3c.github.io/geolocation/#dom-positioncallback"},
"https://w3c.github.io/geolocation/#dom-positionerrorcallback": {"displayText":"PositionErrorCallback","export":true,"for_":[],"level":"1","normative":true,"shortname":"geolocation","spec":"geolocation","status":"current","text":"PositionErrorCallback","type":"callback","url":"https://w3c.github.io/geolocation/#dom-positionerrorcallback"},
"https://w3c.github.io/geolocation/#dom-positionoptions-enablehighaccuracy": {"displayText":"enableHighAccuracy","export":true,"for_":["PositionOptions"],"level":"1","normative":true,"shortname":"geolocation","spec":"geolocation","status":"current","text":"enableHighAccuracy","type":"dict-member","url":"https://w3c.github.io/geolocation/#dom-positionoptions-enablehighaccuracy"},
"https://w3c.github.io/hr-time/#dfn-current-high-resolution-time": {"displayText":"current high resolution time","export":true,"for_":[],"level":"3","normative":true,"shortname":"hr-time","spec":"hr-time-3","status":"current","text":"current high resolution time","type":"dfn","url":"https://w3c.github.io/hr-time/#dfn-current-high-resolution-time"},
"https://w3c.github.io/manifest-app-info/#dfn-categories": {"displayText":"categories","export":true,"for_":["manifest"],"level":"1","normative":false,"shortname":"manifest-app-info","spec":"manifest-app-info","status":"current","text":"categories","type":"dfn","url":"https://w3c.github.io/manifest-app-info/#dfn-categories"},
"https://w3c.github.io/permissions/#dfn-getting-the-current-permission-state": {"displayText":"get the current permission state","export":true,"for_":[],"level":"1","normative":true,"shortname":"permissions","spec":"permissions","status":"current","text":"get the current permission state","type":"dfn","url":"https://w3c.github.io/permissions/#dfn-getting-the-current-permission-state"},
"https://w3c.github.io/permissions/#dfn-permission": {"displayText":"permission","export":true,"for_":[],"level":"1","normative":true,"shortname":"permissions","spec":"permissions","status":"current","text":"permission","type":"dfn","url":"https://w3c.github.io/permissions/#dfn-permission"},
"https://w3c.github.io/permissions/#dfn-permission-state": {"displayText":"permission state","export":true,"for_":[],"level":"1","normative":true,"shortname":"permissions","spec":"permissions","status":"current","text":"permission state","type":"dfn","url":"https://w3c.github.io/permissions/#dfn-permission-state"},
"https://w3c.github.io/permissions/#dfn-powerful-feature": {"displayText":"powerful feature","export":true,"for_":[],"level":"1","normative":true,"shortname":"permissions","spec":"permissions","status":"current","text":"powerful feature","type":"dfn","url":"https://w3c.github.io/permissions/#dfn-powerful-feature"},
"https://w3c.github.io/permissions/#dfn-prompt-the-user-to-choose": {"displayText":"prompt the user to choose","export":true,"for_":[],"level":"1","normative":true,"shortname":"permissions","spec":"permissions","status":"current","text":"prompt the user to choose","type":"dfn","url":"https://w3c.github.io/permissions/#dfn-prompt-the-user-to-choose"},
"https://w3c.github.io/permissions/#dfn-request-permission-to-use": {"displayText":"request permission to use","export":true,"for_":[],"level":"1","normative":true,"shortname":"permissions","spec":"permissions","status":"current","text":"request permission to use","type":"dfn","url":"https://w3c.github.io/permissions/#dfn-request-permission-to-use"},
"https://w3c.github.io/permissions/#dom-permissiondescriptor": {"displayText":"PermissionDescriptor","export":true,"for_":[],"level":"1","normative":true,"shortname":"permissions","spec":"permissions","status":"current","text":"PermissionDescriptor","type":"dictionary","url":"https://w3c.github.io/permissions/#dom-permissiondescriptor"},
"https://w3c.github.io/permissions/#dom-permissionstate": {"displayText":"PermissionState","export":true,"for_":[],"level":"1","normative":true,"shortname":"permissions","spec":"permissions","status":"current","text":"PermissionState","type":"enum","url":"https://w3c.github.io/permissions/#dom-permissionstate"},
"https://w3c.github.io/permissions/#dom-permissionstate-denied": {"displayText":"denied","export":true,"for_":["PermissionState"],"level":"1","normative":true,"shortname":"permissions","spec":"permissions","status":"current","text":"denied","type":"enum-value","url":"https://w3c.github.io/permissions/#dom-permissionstate-denied"},
"https://w3c.github.io/permissions/#dom-permissionstate-granted": {"displayText":"granted","export":true,"for_":["PermissionState"],"level":"1","normative":true,"shortname":"permissions","spec":"permissions","status":"current","text":"granted","type":"enum-value","url":"https://w3c.github.io/permissions/#dom-permissionstate-granted"},
"https://w3c.github.io/permissions/#dom-permissionstate-prompt": {"displayText":"prompt","export":true,"for_":["PermissionState"],"level":"1","normative":true,"shortname":"permissions","spec":"permissions","status":"current","text":"prompt","type":"enum-value","url":"https://w3c.github.io/permissions/#dom-permissionstate-prompt"},
"https://webidl.spec.whatwg.org/#Exposed": {"displayText":"Exposed","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"Exposed","type":"extended-attribute","url":"https://webidl.spec.whatwg.org/#Exposed"},
"https://webidl.spec.whatwg.org/#idl-boolean": {"displayText":"boolean","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"boolean","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-boolean"},
"https://webidl.spec.whatwg.org/#idl-unsigned-long": {"displayText":"unsigned long","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"unsigned long","type":"interface","url":"https://webidl.spec.whatwg.org/#idl-unsigned-long"},
"https://webidl.spec.whatwg.org/#this": {"displayText":"this","export":true,"for_":[],"level":"1","normative":true,"shortname":"webidl","spec":"webidl","status":"current","text":"this","type":"dfn","url":"https://webidl.spec.whatwg.org/#this"},
"https://wicg.github.io/fenced-frame/#elementdef-fencedframe": {"displayText":"fencedframe","export":true,"for_":[],"level":"1","normative":true,"shortname":"fenced-frame","spec":"fenced-frame","status":"current","text":"fencedframe","type":"element","url":"https://wicg.github.io/fenced-frame/#elementdef-fencedframe"},
"https://wicg.github.io/fenced-frame/#fenced-navigable-container-fenced-navigable": {"displayText":"fenced navigable","export":true,"for_":["fenced navigable container"],"level":"1","normative":true,"shortname":"fenced-frame","spec":"fenced-frame","status":"current","text":"fenced navigable","type":"dfn","url":"https://wicg.github.io/fenced-frame/#fenced-navigable-container-fenced-navigable"},
"https://www.w3.org/TR/CSS2/cascade.html#computed-value": {"displayText":"computed value","export":true,"for_":[],"level":"2","normative":true,"shortname":"css","spec":"css2","status":"snapshot","text":"computed value","type":"dfn","url":"https://www.w3.org/TR/CSS2/cascade.html#computed-value"},
"https://www.w3.org/TR/CSS2/cascade.html#specified-value": {"displayText":"specified value","export":true,"for_":[],"level":"2","normative":true,"shortname":"css","spec":"css2","status":"snapshot","text":"specified value","type":"dfn","url":"https://www.w3.org/TR/CSS2/cascade.html#specified-value"},
"https://www.w3.org/TR/CSS2/cascade.html#value-def-inherit": {"displayText":"inherit","export":true,"for_":[],"level":"2","normative":true,"shortname":"css","spec":"css2","status":"snapshot","text":"inherit","type":"dfn","url":"https://www.w3.org/TR/CSS2/cascade.html#value-def-inherit"},
};

function mkRefHint(link, ref) {
    const linkText = link.textContent;
    let dfnTextElements = '';
    if (ref.displayText.toLowerCase() != linkText.toLowerCase()) {
        // Give the original term if it's being displayed in a different way.
        // But allow casing differences, they're insignificant.
        dfnTextElements =
            mk.li({},
                mk.b({}, "Term: "),
                mk.span({}, ref.displayText)
            );
    }
    const forList = ref.for_;
    let forListElements;
    if(forList.length == 0) {
        forListElements = [];
    } else if(forList.length == 1) {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.span({}, forList[0]),
        );
    } else {
        forListElements = mk.li({},
            mk.b({}, "For: "),
            mk.ul({},
                ...forList.map(forItem =>
                    mk.li({},
                        mk.span({}, forItem)
                    ),
                ),
            ),
        );
    }
    const url = ref.url;
    const safeUrl = encodeURIComponent(url);
    const hintPanel = mk.aside({
        class: "ref-hint",
        id: `ref-hint-for-${safeUrl}`,
        "data-for": url,
        "aria-labelled-by": `ref-hint-for-${safeUrl}`,
    },
        mk.ul({},
            dfnTextElements,
            mk.li({},
                mk.b({}, "URL: "),
                mk.a({ href: url, class: "ref" }, url),
            ),
            mk.li({},
                mk.b({}, "Type: "),
                mk.span({}, `${ref.type}`),
            ),
            mk.li({},
                mk.b({}, "Spec: "),
                mk.span({}, `${ref.spec ? ref.spec : ''}`),
            ),
            forListElements
        ),
    );
    hintPanel.forLink = link;
    setupRefHintEventListeners(link, hintPanel);
    return hintPanel;
}

function hideAllRefHints() {
    queryAll(".ref-hint").forEach(el=>hideRefHint(el));
}

function hideRefHint(refHint) {
    const link = refHint.forLink;
    link.setAttribute("aria-expanded", "false");
    if(refHint.teardownEventListeners) {
        refHint.teardownEventListeners();
    }
    refHint.remove();
}

function showRefHint(link) {
    if(link.classList.contains("dfn-link")) return;
    const url = link.getAttribute("href");
    const refHintKey = link.getAttribute("data-refhint-key");
    let key = url;
    if(refHintKey) {
        key = refHintKey + "_" + url;
    }
    const ref = refsData[key];
    if(!ref) return;

    hideAllRefHints(); // Only display one at this time.

    const refHint = mkRefHint(link, ref);
    append(document.body, refHint);
    link.setAttribute("aria-expanded", "true");
    positionRefHint(refHint);
}

function setupRefHintEventListeners(link, refHint) {
    if (refHint.teardownEventListeners) return;
    // Add event handlers to hide the refHint after the user moves away
    // from both the link and refHint, if not hovering either within one second.
    let timeout = null;
    const startHidingRefHint = (event) => {
        if (timeout) {
            clearTimeout(timeout);
        }
        timeout = setTimeout(() => {
            hideRefHint(refHint);
        }, 1000);
    }
    const resetHidingRefHint = (event) => {
        if (timeout) clearTimeout(timeout);
        timeout = null;
    };
    link.addEventListener("mouseleave", startHidingRefHint);
    link.addEventListener("mouseenter", resetHidingRefHint);
    link.addEventListener("blur", startHidingRefHint);
    link.addEventListener("focus", resetHidingRefHint);
    refHint.addEventListener("mouseleave", startHidingRefHint);
    refHint.addEventListener("mouseenter", resetHidingRefHint);
    refHint.addEventListener("blur", startHidingRefHint);
    refHint.addEventListener("focus", resetHidingRefHint);

    refHint.teardownEventListeners = () => {
        // remove event listeners
        resetHidingRefHint();
        link.removeEventListener("mouseleave", startHidingRefHint);
        link.removeEventListener("mouseenter", resetHidingRefHint);
        link.removeEventListener("blur", startHidingRefHint);
        link.removeEventListener("focus", resetHidingRefHint);
        refHint.removeEventListener("mouseleave", startHidingRefHint);
        refHint.removeEventListener("mouseenter", resetHidingRefHint);
        refHint.removeEventListener("blur", startHidingRefHint);
        refHint.removeEventListener("focus", resetHidingRefHint);
    };
}

function positionRefHint(refHint) {
    const link = refHint.forLink;
    const linkPos = getBounds(link);
    refHint.style.top = linkPos.bottom + "px";
    refHint.style.left = linkPos.left + "px";

    const panelPos = refHint.getBoundingClientRect();
    const panelMargin = 8;
    const maxRight = document.body.parentNode.clientWidth - panelMargin;
    if (panelPos.right > maxRight) {
        const overflowAmount = panelPos.right - maxRight;
        const newLeft = Math.max(panelMargin, linkPos.left - overflowAmount);
        refHint.style.left = newLeft + "px";
    }
}

// TODO: shared util
// Returns the root-level absolute position {left and top} of element.
function getBounds(el, relativeTo=document.body) {
    const relativeRect = relativeTo.getBoundingClientRect();
    const elRect = el.getBoundingClientRect();
    const top = elRect.top - relativeRect.top;
    const left = elRect.left - relativeRect.left;
    return {
        top,
        left,
        bottom: top + elRect.height,
        right: left + elRect.width,
    }
}

function showRefHintListener(e) {
    // If the target isn't in a link (or is a link),
    // just ignore it.
    let link = e.target.closest("a");
    if(!link) return;

    // If the target is in a ref-hint panel
    // (aka a link in the already-open one),
    // also just ignore it.
    if(link.closest(".ref-hint")) return;

    // Otherwise, show the panel for the link.
    showRefHint(link);
}

function hideAllHintsListener(e) {
    // If the click is inside a ref-hint panel, ignore it.
    if(e.target.closest(".ref-hint")) return;
    // Otherwise, close all the current panels.
    hideAllRefHints();
}

document.addEventListener("DOMContentLoaded", () => {
    document.body.addEventListener("mousedown", showRefHintListener);
    document.body.addEventListener("focus", showRefHintListener);

    document.body.addEventListener("click", hideAllHintsListener);
});

window.addEventListener("resize", () => {
    // Hide any open ref hint.
    hideAllRefHints();
});
}
</script>
<script>/* Boilerplate: script-var-click-highlighting */
"use strict";
{
/*
Color-choosing design:

* Colors are ordered by goodness.
* On clicking a var, give it the earliest color
    with the lowest usage in the algorithm.
* On re-clicking, re-use the var's most recent color
    if that's not currently being used elsewhere.
*/

const COLOR_COUNT = 7;

document.addEventListener("click", e=>{
    if(e.target.nodeName == "VAR") {
        highlightSameAlgoVars(e.target);
    }
});

function highlightSameAlgoVars(v) {
    // Find the algorithm container.
    let algoContainer = findAlgoContainer(v);

    // Not highlighting document-global vars,
    // too likely to be unrelated.
    if(algoContainer == null) return;

    const varName = nameFromVar(v);
    if(!v.hasAttribute("data-var-color")) {
        const newColor = chooseHighlightColor(algoContainer, v);
        for(const el of algoContainer.querySelectorAll("var")) {
            if(nameFromVar(el) == varName) {
                el.setAttribute("data-var-color", newColor);
                el.setAttribute("data-var-last-color", newColor);
            }
        }
    } else {
        for(const el of algoContainer.querySelectorAll("var")) {
            if(nameFromVar(el) == varName) {
                el.removeAttribute("data-var-color");
            }
        }
    }
}
function findAlgoContainer(el) {
    while(el != document.body) {
        if(el.hasAttribute("data-algorithm")) return el;
        el = el.parentNode;
    }
    return null;
}
function nameFromVar(el) {
    return el.textContent.replace(/(\s|\xa0)+/g, " ").trim();
}
function colorCountsFromContainer(container) {
    const namesFromColor = Array.from({length:COLOR_COUNT}, x=>new Set());
    for(let v of container.querySelectorAll("var[data-var-color]")) {
        let color = +v.getAttribute("data-var-color");
        namesFromColor[color].add(nameFromVar(v));
    }

    return namesFromColor.map(x=>x.size);
}
function leastUsedColor(colors) {
    // Find the earliest color with the lowest count.
    let minCount = Infinity;
    let minColor = null;
    for(var i = 0; i < colors.length; i++) {
        if(colors[i] < minCount) {
            minColor = i;
            minCount = colors[i];
        }
    }
    return minColor;
}
function chooseHighlightColor(container, v) {
    const colorCounts = colorCountsFromContainer(container);
    if(v.hasAttribute("data-var-last-color")) {
        let color = +v.getAttribute("data-var-last-color");
        if(colorCounts[color] == 0) return color;
    }
    return leastUsedColor(colorCounts);
}
}
</script>